var KO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var uae=KO((mae,Fd)=>{function QO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uI={exports:{}},ef={},cI={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),XO=Symbol.for("react.portal"),JO=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),sx=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),A0=Symbol.iterator;function ax(e){return e===null||typeof e!="object"?null:(e=A0&&e[A0]||e["@@iterator"],typeof e=="function"?e:null)}var dI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hI=Object.assign,fI={};function ca(e,t,n){this.props=e,this.context=t,this.refs=fI,this.updater=n||dI}ca.prototype.isReactComponent={};ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pI(){}pI.prototype=ca.prototype;function Qv(e,t,n){this.props=e,this.context=t,this.refs=fI,this.updater=n||dI}var Xv=Qv.prototype=new pI;Xv.constructor=Qv;hI(Xv,ca.prototype);Xv.isPureReactComponent=!0;var P0=Array.isArray,mI=Object.prototype.hasOwnProperty,Jv={current:null},gI={key:!0,ref:!0,__self:!0,__source:!0};function vI(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)mI.call(t,r)&&!gI.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:e,key:s,ref:o,props:i,_owner:Jv.current}}function lx(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function ux(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var C0=/\/+/g;function Lp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ux(""+e.key):t.toString(36)}function ad(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ou:case XO:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Lp(o,0):r,P0(i)?(n="",e!=null&&(n=e.replace(C0,"$&/")+"/"),ad(i,t,n,"",function(u){return u})):i!=null&&(Zv(i)&&(i=lx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",P0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Lp(s,a);o+=ad(s,t,n,l,i)}else if(l=ax(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Lp(s,a++),o+=ad(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pc(e,t,n){if(e==null)return e;var r=[],i=0;return ad(e,r,"","",function(s){return t.call(n,s,i++)}),r}function cx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},ld={transition:null},dx={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:ld,ReactCurrentOwner:Jv};de.Children={map:Pc,forEach:function(e,t,n){Pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pc(e,function(){t++}),t},toArray:function(e){return Pc(e,function(t){return t})||[]},only:function(e){if(!Zv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ca;de.Fragment=JO;de.Profiler=ex;de.PureComponent=Qv;de.StrictMode=ZO;de.Suspense=ix;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hI({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Jv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mI.call(t,l)&&!gI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tx,_context:e},e.Consumer=e};de.createElement=vI;de.createFactory=function(e){var t=vI.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:rx,render:e}};de.isValidElement=Zv;de.lazy=function(e){return{$$typeof:ox,_payload:{_status:-1,_result:e},_init:cx}};de.memo=function(e,t){return{$$typeof:sx,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return zt.current.useCallback(e,t)};de.useContext=function(e){return zt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};de.useEffect=function(e,t){return zt.current.useEffect(e,t)};de.useId=function(){return zt.current.useId()};de.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return zt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};de.useRef=function(e){return zt.current.useRef(e)};de.useState=function(e){return zt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return zt.current.useTransition()};de.version="18.2.0";cI.exports=de;var R=cI.exports;const P=sn(R),hx=QO({__proto__:null,default:P},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=R,px=Symbol.for("react.element"),mx=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,vx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function yI(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gx.call(t,r)&&!yx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:px,type:e,key:s,ref:o,props:i,_owner:vx.current}}ef.Fragment=mx;ef.jsx=yI;ef.jsxs=yI;uI.exports=ef;var w=uI.exports,Gm={},_I={exports:{}},fn={},wI={exports:{}},EI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,X){var ee=V.length;V.push(X);e:for(;0<ee;){var D=ee-1>>>1,x=V[D];if(0<i(x,X))V[D]=X,V[ee]=x,ee=D;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],ee=V.pop();if(ee!==X){V[0]=ee;e:for(var D=0,x=V.length,j=x>>>1;D<j;){var W=2*(D+1)-1,G=V[W],ae=W+1,Te=V[ae];if(0>i(G,ee))ae<x&&0>i(Te,G)?(V[D]=Te,V[ae]=ee,D=ae):(V[D]=G,V[W]=ee,D=W);else if(ae<x&&0>i(Te,ee))V[D]=Te,V[ae]=ee,D=ae;else break e}}return X}function i(V,X){var ee=V.sortIndex-X.sortIndex;return ee!==0?ee:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,v=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=V)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function E(V){if(p=!1,y(V),!v)if(n(l)!==null)v=!0,ie(S);else{var X=n(u);X!==null&&fe(E,X.startTime-V)}}function S(V,X){v=!1,p&&(p=!1,g(A),A=-1),f=!0;var ee=h;try{for(y(X),d=n(l);d!==null&&(!(d.expirationTime>X)||V&&!M());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var x=D(d.expirationTime<=X);X=e.unstable_now(),typeof x=="function"?d.callback=x:d===n(l)&&r(l),y(X)}else r(l);d=n(l)}if(d!==null)var j=!0;else{var W=n(u);W!==null&&fe(E,W.startTime-X),j=!1}return j}finally{d=null,h=ee,f=!1}}var T=!1,I=null,A=-1,k=5,C=-1;function M(){return!(e.unstable_now()-C<k)}function z(){if(I!==null){var V=e.unstable_now();C=V;var X=!0;try{X=I(!0,V)}finally{X?q():(T=!1,I=null)}}else T=!1}var q;if(typeof m=="function")q=function(){m(z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ye=Ee.port2;Ee.port1.onmessage=z,q=function(){ye.postMessage(null)}}else q=function(){_(z,0)};function ie(V){I=V,T||(T=!0,q())}function fe(V,X){A=_(function(){V(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,ie(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ee=h;h=X;try{return V()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=h;h=V;try{return X()}finally{h=ee}},e.unstable_scheduleCallback=function(V,X,ee){var D=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?D+ee:D):ee=D,V){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ee+x,V={id:c++,callback:X,priorityLevel:V,startTime:ee,expirationTime:x,sortIndex:-1},ee>D?(V.sortIndex=ee,t(u,V),n(l)===null&&V===n(u)&&(p?(g(A),A=-1):p=!0,fe(E,ee-D))):(V.sortIndex=x,t(l,V),v||f||(v=!0,ie(S))),V},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(V){var X=h;return function(){var ee=h;h=X;try{return V.apply(this,arguments)}finally{h=ee}}}})(EI);wI.exports=EI;var _x=wI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI=R,cn=_x;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TI=new Set,Ol={};function zs(e,t){Vo(e,t),Vo(e+"Capture",t)}function Vo(e,t){for(Ol[e]=t,e=0;e<t.length;e++)TI.add(t[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D0={},k0={};function Ex(e){return Km.call(k0,e)?!0:Km.call(D0,e)?!1:wx.test(e)?k0[e]=!0:(D0[e]=!0,!1)}function Sx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tx(e,t,n,r){if(t===null||typeof t>"u"||Sx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ey,ty);It[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ny(e,t,n,r){var i=It.hasOwnProperty(t)?It[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tx(t,n,i,r)&&(n=null),r||i===null?Ex(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qr=SI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cc=Symbol.for("react.element"),uo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),II=Symbol.for("react.provider"),RI=Symbol.for("react.context"),iy=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),AI=Symbol.for("react.offscreen"),b0=Symbol.iterator;function Fa(e){return e===null||typeof e!="object"?null:(e=b0&&e[b0]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,Fp;function nl(e){if(Fp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fp=t&&t[1]||""}return`
`+Fp+e}var Vp=!1;function jp(e,t){if(!e||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nl(e):""}function Ix(e){switch(e.tag){case 5:return nl(e.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return e=jp(e.type,!1),e;case 11:return e=jp(e.type.render,!1),e;case 1:return e=jp(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case co:return"Fragment";case uo:return"Portal";case Qm:return"Profiler";case ry:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RI:return(e.displayName||"Context")+".Consumer";case II:return(e._context.displayName||"Context")+".Provider";case iy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sy:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case ui:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function Rx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ax(e){var t=PI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dc(e){e._valueTracker||(e._valueTracker=Ax(e))}function CI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eg(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function O0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DI(e,t){t=t.checked,t!=null&&ny(e,"checked",t,!1)}function tg(e,t){DI(e,t);var n=Fi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ng(e,t.type,n):t.hasOwnProperty("defaultValue")&&ng(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ng(e,t,n){(t!=="number"||Vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rl=Array.isArray;function Ro(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function N0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(rl(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fi(n)}}function kI(e,t){var n=Fi(t.value),r=Fi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function M0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kc,OI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Px=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){Px.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function xI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function NI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Cx=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(e,t){if(t){if(Cx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lg=null,Ao=null,Po=null;function $0(e){if(e=Mu(e)){if(typeof lg!="function")throw Error($(280));var t=e.stateNode;t&&(t=of(t),lg(e.stateNode,e.type,t))}}function MI(e){Ao?Po?Po.push(e):Po=[e]:Ao=e}function $I(){if(Ao){var e=Ao,t=Po;if(Po=Ao=null,$0(e),t)for(e=0;e<t.length;e++)$0(t[e])}}function LI(e,t){return e(t)}function FI(){}var Up=!1;function VI(e,t,n){if(Up)return e(t,n);Up=!0;try{return LI(e,t,n)}finally{Up=!1,(Ao!==null||Po!==null)&&(FI(),$I())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var ug=!1;if(Fr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{ug=!1}function Dx(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ml=!1,jd=null,Ud=!1,cg=null,kx={onError:function(e){ml=!0,jd=e}};function bx(e,t,n,r,i,s,o,a,l){ml=!1,jd=null,Dx.apply(kx,arguments)}function Ox(e,t,n,r,i,s,o,a,l){if(bx.apply(this,arguments),ml){if(ml){var u=jd;ml=!1,jd=null}else throw Error($(198));Ud||(Ud=!0,cg=u)}}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L0(e){if(Ws(e)!==e)throw Error($(188))}function xx(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return L0(i),e;if(s===r)return L0(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function UI(e){return e=xx(e),e!==null?BI(e):null}function BI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BI(e);if(t!==null)return t;e=e.sibling}return null}var zI=cn.unstable_scheduleCallback,F0=cn.unstable_cancelCallback,Nx=cn.unstable_shouldYield,Mx=cn.unstable_requestPaint,Qe=cn.unstable_now,$x=cn.unstable_getCurrentPriorityLevel,ay=cn.unstable_ImmediatePriority,WI=cn.unstable_UserBlockingPriority,Bd=cn.unstable_NormalPriority,Lx=cn.unstable_LowPriority,HI=cn.unstable_IdlePriority,tf=null,rr=null;function Fx(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(tf,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:Ux,Vx=Math.log,jx=Math.LN2;function Ux(e){return e>>>=0,e===0?32:31-(Vx(e)/jx|0)|0}var bc=64,Oc=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=il(a):(s&=o,s!==0&&(r=il(s)))}else o=n&~i,o!==0?r=il(o):s!==0&&(r=il(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fn(t),i=1<<n,r|=e[n],t&=~i;return r}function Bx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Bx(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YI(){var e=bc;return bc<<=1,!(bc&4194240)&&(bc=64),e}function Bp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=n}function Wx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ly(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function qI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GI,uy,KI,QI,XI,hg=!1,xc=[],Ti=null,Ii=null,Ri=null,Ml=new Map,$l=new Map,di=[],Hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function ja(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mu(t),t!==null&&uy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Yx(e,t,n,r,i){switch(t){case"focusin":return Ti=ja(Ti,e,t,n,r,i),!0;case"dragenter":return Ii=ja(Ii,e,t,n,r,i),!0;case"mouseover":return Ri=ja(Ri,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ml.set(s,ja(Ml.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,ja($l.get(s)||null,e,t,n,r,i)),!0}return!1}function JI(e){var t=cs(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=jI(n),t!==null){e.blockedOn=t,XI(e.priority,function(){KI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return t=Mu(n),t!==null&&uy(t),e.blockedOn=n,!1;t.shift()}return!0}function j0(e,t,n){ud(e)&&n.delete(t)}function qx(){hg=!1,Ti!==null&&ud(Ti)&&(Ti=null),Ii!==null&&ud(Ii)&&(Ii=null),Ri!==null&&ud(Ri)&&(Ri=null),Ml.forEach(j0),$l.forEach(j0)}function Ua(e,t){e.blockedOn===t&&(e.blockedOn=null,hg||(hg=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,qx)))}function Ll(e){function t(i){return Ua(i,e)}if(0<xc.length){Ua(xc[0],e);for(var n=1;n<xc.length;n++){var r=xc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ti!==null&&Ua(Ti,e),Ii!==null&&Ua(Ii,e),Ri!==null&&Ua(Ri,e),Ml.forEach(t),$l.forEach(t),n=0;n<di.length;n++)r=di[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)JI(n),n.blockedOn===null&&di.shift()}var Co=Qr.ReactCurrentBatchConfig,Wd=!0;function Gx(e,t,n,r){var i=Ie,s=Co.transition;Co.transition=null;try{Ie=1,cy(e,t,n,r)}finally{Ie=i,Co.transition=s}}function Kx(e,t,n,r){var i=Ie,s=Co.transition;Co.transition=null;try{Ie=4,cy(e,t,n,r)}finally{Ie=i,Co.transition=s}}function cy(e,t,n,r){if(Wd){var i=fg(e,t,n,r);if(i===null)Jp(e,t,r,Hd,n),V0(e,r);else if(Yx(i,e,t,n,r))r.stopPropagation();else if(V0(e,r),t&4&&-1<Hx.indexOf(e)){for(;i!==null;){var s=Mu(i);if(s!==null&&GI(s),s=fg(e,t,n,r),s===null&&Jp(e,t,r,Hd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jp(e,t,r,null,n)}}var Hd=null;function fg(e,t,n,r){if(Hd=null,e=oy(r),e=cs(e),e!==null)if(t=Ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hd=e,null}function ZI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case ay:return 1;case WI:return 4;case Bd:case Lx:return 16;case HI:return 536870912;default:return 16}default:return 16}}var vi=null,dy=null,cd=null;function eR(){if(cd)return cd;var e,t=dy,n=t.length,r,i="value"in vi?vi.value:vi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return cd=i.slice(e,1<r?1-r:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nc(){return!0}function U0(){return!1}function pn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nc:U0,this.isPropagationStopped=U0,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=pn(da),Nu=We({},da,{view:0,detail:0}),Qx=pn(Nu),zp,Wp,Ba,nf=We({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ba&&(Ba&&e.type==="mousemove"?(zp=e.screenX-Ba.screenX,Wp=e.screenY-Ba.screenY):Wp=zp=0,Ba=e),zp)},movementY:function(e){return"movementY"in e?e.movementY:Wp}}),B0=pn(nf),Xx=We({},nf,{dataTransfer:0}),Jx=pn(Xx),Zx=We({},Nu,{relatedTarget:0}),Hp=pn(Zx),eN=We({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),tN=pn(eN),nN=We({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rN=pn(nN),iN=We({},da,{data:0}),z0=pn(iN),sN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aN[e])?!!t[e]:!1}function fy(){return lN}var uN=We({},Nu,{key:function(e){if(e.key){var t=sN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cN=pn(uN),dN=We({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W0=pn(dN),hN=We({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),fN=pn(hN),pN=We({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),mN=pn(pN),gN=We({},nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vN=pn(gN),yN=[9,13,27,32],py=Fr&&"CompositionEvent"in window,gl=null;Fr&&"documentMode"in document&&(gl=document.documentMode);var _N=Fr&&"TextEvent"in window&&!gl,tR=Fr&&(!py||gl&&8<gl&&11>=gl),H0=" ",Y0=!1;function nR(e,t){switch(e){case"keyup":return yN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ho=!1;function wN(e,t){switch(e){case"compositionend":return rR(t);case"keypress":return t.which!==32?null:(Y0=!0,H0);case"textInput":return e=t.data,e===H0&&Y0?null:e;default:return null}}function EN(e,t){if(ho)return e==="compositionend"||!py&&nR(e,t)?(e=eR(),cd=dy=vi=null,ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tR&&t.locale!=="ko"?null:t.data;default:return null}}var SN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SN[e.type]:t==="textarea"}function iR(e,t,n,r){MI(r),t=Yd(t,"onChange"),0<t.length&&(n=new hy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vl=null,Fl=null;function TN(e){mR(e,0)}function rf(e){var t=mo(e);if(CI(t))return e}function IN(e,t){if(e==="change")return t}var sR=!1;if(Fr){var Yp;if(Fr){var qp="oninput"in document;if(!qp){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),qp=typeof G0.oninput=="function"}Yp=qp}else Yp=!1;sR=Yp&&(!document.documentMode||9<document.documentMode)}function K0(){vl&&(vl.detachEvent("onpropertychange",oR),Fl=vl=null)}function oR(e){if(e.propertyName==="value"&&rf(Fl)){var t=[];iR(t,Fl,e,oy(e)),VI(TN,t)}}function RN(e,t,n){e==="focusin"?(K0(),vl=t,Fl=n,vl.attachEvent("onpropertychange",oR)):e==="focusout"&&K0()}function AN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rf(Fl)}function PN(e,t){if(e==="click")return rf(t)}function CN(e,t){if(e==="input"||e==="change")return rf(t)}function DN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:DN;function Vl(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Km.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function Q0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X0(e,t){var n=Q0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q0(n)}}function aR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lR(){for(var e=window,t=Vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vd(e.document)}return t}function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kN(e){var t=lR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aR(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=X0(n,s);var o=X0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bN=Fr&&"documentMode"in document&&11>=document.documentMode,fo=null,pg=null,yl=null,mg=!1;function J0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||fo==null||fo!==Vd(r)||(r=fo,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Vl(yl,r)||(yl=r,r=Yd(pg,"onSelect"),0<r.length&&(t=new hy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fo)))}function Mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var po={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Gp={},uR={};Fr&&(uR=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function sf(e){if(Gp[e])return Gp[e];if(!po[e])return e;var t=po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uR)return Gp[e]=t[n];return e}var cR=sf("animationend"),dR=sf("animationiteration"),hR=sf("animationstart"),fR=sf("transitionend"),pR=new Map,Z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){pR.set(e,t),zs(t,[e])}for(var Kp=0;Kp<Z0.length;Kp++){var Qp=Z0[Kp],ON=Qp.toLowerCase(),xN=Qp[0].toUpperCase()+Qp.slice(1);Yi(ON,"on"+xN)}Yi(cR,"onAnimationEnd");Yi(dR,"onAnimationIteration");Yi(hR,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(fR,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function eE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ox(r,t,void 0,e),e.currentTarget=null}function mR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;eE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;eE(i,a,u),s=l}}}if(Ud)throw e=cg,Ud=!1,cg=null,e}function be(e,t){var n=t[wg];n===void 0&&(n=t[wg]=new Set);var r=e+"__bubble";n.has(r)||(gR(t,e,2,!1),n.add(r))}function Xp(e,t,n){var r=0;t&&(r|=4),gR(n,e,r,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[$c]){e[$c]=!0,TI.forEach(function(n){n!=="selectionchange"&&(NN.has(n)||Xp(n,!1,e),Xp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Xp("selectionchange",!1,t))}}function gR(e,t,n,r){switch(ZI(t)){case 1:var i=Gx;break;case 4:i=Kx;break;default:i=cy}n=i.bind(null,t,n,e),i=void 0,!ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}VI(function(){var u=s,c=oy(n),d=[];e:{var h=pR.get(e);if(h!==void 0){var f=hy,v=e;switch(e){case"keypress":if(dd(n)===0)break e;case"keydown":case"keyup":f=cN;break;case"focusin":v="focus",f=Hp;break;case"focusout":v="blur",f=Hp;break;case"beforeblur":case"afterblur":f=Hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=B0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=fN;break;case cR:case dR:case hR:f=tN;break;case fR:f=mN;break;case"scroll":f=Qx;break;case"wheel":f=vN;break;case"copy":case"cut":case"paste":f=rN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=W0}var p=(t&4)!==0,_=!p&&e==="scroll",g=p?h!==null?h+"Capture":null:h;p=[];for(var m=u,y;m!==null;){y=m;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,g!==null&&(E=Nl(m,g),E!=null&&p.push(Ul(m,E,y)))),_)break;m=m.return}0<p.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==ag&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Vr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?cs(v):null,v!==null&&(_=Ws(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(p=B0,E="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=W0,E="onPointerLeave",g="onPointerEnter",m="pointer"),_=f==null?h:mo(f),y=v==null?h:mo(v),h=new p(E,m+"leave",f,n,c),h.target=_,h.relatedTarget=y,E=null,cs(c)===u&&(p=new p(g,m+"enter",v,n,c),p.target=y,p.relatedTarget=_,E=p),_=E,f&&v)t:{for(p=f,g=v,m=0,y=p;y;y=to(y))m++;for(y=0,E=g;E;E=to(E))y++;for(;0<m-y;)p=to(p),m--;for(;0<y-m;)g=to(g),y--;for(;m--;){if(p===g||g!==null&&p===g.alternate)break t;p=to(p),g=to(g)}p=null}else p=null;f!==null&&tE(d,h,f,p,!1),v!==null&&_!==null&&tE(d,_,v,p,!0)}}e:{if(h=u?mo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=IN;else if(q0(h))if(sR)S=CN;else{S=AN;var T=RN}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=PN);if(S&&(S=S(e,u))){iR(d,S,n,c);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&ng(h,"number",h.value)}switch(T=u?mo(u):window,e){case"focusin":(q0(T)||T.contentEditable==="true")&&(fo=T,pg=u,yl=null);break;case"focusout":yl=pg=fo=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,J0(d,n,c);break;case"selectionchange":if(bN)break;case"keydown":case"keyup":J0(d,n,c)}var I;if(py)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ho?nR(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(tR&&n.locale!=="ko"&&(ho||A!=="onCompositionStart"?A==="onCompositionEnd"&&ho&&(I=eR()):(vi=c,dy="value"in vi?vi.value:vi.textContent,ho=!0)),T=Yd(u,A),0<T.length&&(A=new z0(A,e,null,n,c),d.push({event:A,listeners:T}),I?A.data=I:(I=rR(n),I!==null&&(A.data=I)))),(I=_N?wN(e,n):EN(e,n))&&(u=Yd(u,"onBeforeInput"),0<u.length&&(c=new z0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}mR(d,t)})}function Ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nl(e,n),s!=null&&r.unshift(Ul(e,s,i)),s=Nl(e,t),s!=null&&r.push(Ul(e,s,i))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tE(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nl(n,s),l!=null&&o.unshift(Ul(n,l,a))):i||(l=Nl(n,s),l!=null&&o.push(Ul(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var MN=/\r\n?/g,$N=/\u0000|\uFFFD/g;function nE(e){return(typeof e=="string"?e:""+e).replace(MN,`
`).replace($N,"")}function Lc(e,t,n){if(t=nE(t),nE(e)!==t&&n)throw Error($(425))}function qd(){}var gg=null,vg=null;function yg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,rE=typeof Promise=="function"?Promise:void 0,FN=typeof queueMicrotask=="function"?queueMicrotask:typeof rE<"u"?function(e){return rE.resolve(null).then(e).catch(VN)}:_g;function VN(e){setTimeout(function(){throw e})}function Zp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ll(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ll(t)}function Ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ha,Bl="__reactProps$"+ha,Vr="__reactContainer$"+ha,wg="__reactEvents$"+ha,jN="__reactListeners$"+ha,UN="__reactHandles$"+ha;function cs(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vr]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iE(e);e!==null;){if(n=e[Qn])return n;e=iE(e)}return t}e=n,n=e.parentNode}return null}function Mu(e){return e=e[Qn]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function of(e){return e[Bl]||null}var Eg=[],go=-1;function qi(e){return{current:e}}function Me(e){0>go||(e.current=Eg[go],Eg[go]=null,go--)}function ke(e,t){go++,Eg[go]=e.current,e.current=t}var Vi={},$t=qi(Vi),Xt=qi(!1),Is=Vi;function jo(e,t){var n=e.type.contextTypes;if(!n)return Vi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function Gd(){Me(Xt),Me($t)}function sE(e,t,n){if($t.current!==Vi)throw Error($(168));ke($t,t),ke(Xt,n)}function vR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,Rx(e)||"Unknown",i));return We({},n,r)}function Kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,Is=$t.current,ke($t,e),ke(Xt,Xt.current),!0}function oE(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=vR(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Me(Xt),Me($t),ke($t,e)):Me(Xt),ke(Xt,n)}var Ir=null,af=!1,em=!1;function yR(e){Ir===null?Ir=[e]:Ir.push(e)}function BN(e){af=!0,yR(e)}function Gi(){if(!em&&Ir!==null){em=!0;var e=0,t=Ie;try{var n=Ir;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ir=null,af=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(e+1)),zI(ay,Gi),i}finally{Ie=t,em=!1}}return null}var vo=[],yo=0,Qd=null,Xd=0,gn=[],vn=0,Rs=null,Ar=1,Pr="";function ss(e,t){vo[yo++]=Xd,vo[yo++]=Qd,Qd=e,Xd=t}function _R(e,t,n){gn[vn++]=Ar,gn[vn++]=Pr,gn[vn++]=Rs,Rs=e;var r=Ar;e=Pr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ar=1<<32-Fn(t)+i|n<<i|r,Pr=s+e}else Ar=1<<s|n<<i|r,Pr=e}function gy(e){e.return!==null&&(ss(e,1),_R(e,1,0))}function vy(e){for(;e===Qd;)Qd=vo[--yo],vo[yo]=null,Xd=vo[--yo],vo[yo]=null;for(;e===Rs;)Rs=gn[--vn],gn[vn]=null,Pr=gn[--vn],gn[vn]=null,Ar=gn[--vn],gn[vn]=null}var un=null,an=null,Ue=!1,Mn=null;function wR(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,an=Ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rs!==null?{id:Ar,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,an=null,!0):!1;default:return!1}}function Sg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tg(e){if(Ue){var t=an;if(t){var n=t;if(!aE(e,t)){if(Sg(e))throw Error($(418));t=Ai(n.nextSibling);var r=un;t&&aE(e,t)?wR(r,n):(e.flags=e.flags&-4097|2,Ue=!1,un=e)}}else{if(Sg(e))throw Error($(418));e.flags=e.flags&-4097|2,Ue=!1,un=e}}}function lE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Fc(e){if(e!==un)return!1;if(!Ue)return lE(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yg(e.type,e.memoizedProps)),t&&(t=an)){if(Sg(e))throw ER(),Error($(418));for(;t;)wR(e,t),t=Ai(t.nextSibling)}if(lE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Ai(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=un?Ai(e.stateNode.nextSibling):null;return!0}function ER(){for(var e=an;e;)e=Ai(e.nextSibling)}function Uo(){an=un=null,Ue=!1}function yy(e){Mn===null?Mn=[e]:Mn.push(e)}var zN=Qr.ReactCurrentBatchConfig;function xn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Jd=qi(null),Zd=null,_o=null,_y=null;function wy(){_y=_o=Zd=null}function Ey(e){var t=Jd.current;Me(Jd),e._currentValue=t}function Ig(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t){Zd=e,_y=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(_y!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(Zd===null)throw Error($(308));_o=e,Zd.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var ds=null;function Sy(e){ds===null?ds=[e]:ds.push(e)}function SR(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Sy(t)):(n.next=i.next,i.next=n),t.interleaved=n,jr(e,r)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ci=!1;function Ty(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jr(e,n)}return i=r.interleaved,i===null?(t.next=t,Sy(r)):(t.next=i.next,i.next=t),r.interleaved=t,jr(e,n)}function hd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ly(e,n)}}function uE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,r){var i=e.updateQueue;ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,p=a;switch(h=t,f=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=We({},d,h);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=d}}function cE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var IR=new SI.Component().refs;function Rg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lf={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=Di(e),s=xr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Pi(e,s,i),t!==null&&(Vn(t,e,i,r),hd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=Di(e),s=xr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pi(e,s,i),t!==null&&(Vn(t,e,i,r),hd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),r=Di(e),i=xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pi(e,i,r),t!==null&&(Vn(t,e,r,n),hd(t,e,r))}};function dE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,s):!0}function RR(e,t,n){var r=!1,i=Vi,s=t.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Jt(t)?Is:$t.current,r=t.contextTypes,s=(r=r!=null)?jo(e,i):Vi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function hE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Ag(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=IR,Ty(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Jt(t)?Is:$t.current,i.context=jo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lf.enqueueReplaceState(i,i.state,null),eh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===IR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Vc(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fE(e){var t=e._init;return t(e._payload)}function AR(e){function t(g,m){if(e){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ki(g,m),g.index=0,g.sibling=null,g}function s(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,y,E){return m===null||m.tag!==6?(m=am(y,g.mode,E),m.return=g,m):(m=i(m,y),m.return=g,m)}function l(g,m,y,E){var S=y.type;return S===co?c(g,m,y.props.children,E,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&fE(S)===m.type)?(E=i(m,y.props),E.ref=za(g,m,y),E.return=g,E):(E=yd(y.type,y.key,y.props,null,g.mode,E),E.ref=za(g,m,y),E.return=g,E)}function u(g,m,y,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=lm(y,g.mode,E),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function c(g,m,y,E,S){return m===null||m.tag!==7?(m=ys(y,g.mode,E,S),m.return=g,m):(m=i(m,y),m.return=g,m)}function d(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=am(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Cc:return y=yd(m.type,m.key,m.props,null,g.mode,y),y.ref=za(g,null,m),y.return=g,y;case uo:return m=lm(m,g.mode,y),m.return=g,m;case ui:var E=m._init;return d(g,E(m._payload),y)}if(rl(m)||Fa(m))return m=ys(m,g.mode,y,null),m.return=g,m;Vc(g,m)}return null}function h(g,m,y,E){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(g,m,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cc:return y.key===S?l(g,m,y,E):null;case uo:return y.key===S?u(g,m,y,E):null;case ui:return S=y._init,h(g,m,S(y._payload),E)}if(rl(y)||Fa(y))return S!==null?null:c(g,m,y,E,null);Vc(g,y)}return null}function f(g,m,y,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(y)||null,a(m,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Cc:return g=g.get(E.key===null?y:E.key)||null,l(m,g,E,S);case uo:return g=g.get(E.key===null?y:E.key)||null,u(m,g,E,S);case ui:var T=E._init;return f(g,m,y,T(E._payload),S)}if(rl(E)||Fa(E))return g=g.get(y)||null,c(m,g,E,S,null);Vc(m,E)}return null}function v(g,m,y,E){for(var S=null,T=null,I=m,A=m=0,k=null;I!==null&&A<y.length;A++){I.index>A?(k=I,I=null):k=I.sibling;var C=h(g,I,y[A],E);if(C===null){I===null&&(I=k);break}e&&I&&C.alternate===null&&t(g,I),m=s(C,m,A),T===null?S=C:T.sibling=C,T=C,I=k}if(A===y.length)return n(g,I),Ue&&ss(g,A),S;if(I===null){for(;A<y.length;A++)I=d(g,y[A],E),I!==null&&(m=s(I,m,A),T===null?S=I:T.sibling=I,T=I);return Ue&&ss(g,A),S}for(I=r(g,I);A<y.length;A++)k=f(I,g,A,y[A],E),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?A:k.key),m=s(k,m,A),T===null?S=k:T.sibling=k,T=k);return e&&I.forEach(function(M){return t(g,M)}),Ue&&ss(g,A),S}function p(g,m,y,E){var S=Fa(y);if(typeof S!="function")throw Error($(150));if(y=S.call(y),y==null)throw Error($(151));for(var T=S=null,I=m,A=m=0,k=null,C=y.next();I!==null&&!C.done;A++,C=y.next()){I.index>A?(k=I,I=null):k=I.sibling;var M=h(g,I,C.value,E);if(M===null){I===null&&(I=k);break}e&&I&&M.alternate===null&&t(g,I),m=s(M,m,A),T===null?S=M:T.sibling=M,T=M,I=k}if(C.done)return n(g,I),Ue&&ss(g,A),S;if(I===null){for(;!C.done;A++,C=y.next())C=d(g,C.value,E),C!==null&&(m=s(C,m,A),T===null?S=C:T.sibling=C,T=C);return Ue&&ss(g,A),S}for(I=r(g,I);!C.done;A++,C=y.next())C=f(I,g,A,C.value,E),C!==null&&(e&&C.alternate!==null&&I.delete(C.key===null?A:C.key),m=s(C,m,A),T===null?S=C:T.sibling=C,T=C);return e&&I.forEach(function(z){return t(g,z)}),Ue&&ss(g,A),S}function _(g,m,y,E){if(typeof y=="object"&&y!==null&&y.type===co&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Cc:e:{for(var S=y.key,T=m;T!==null;){if(T.key===S){if(S=y.type,S===co){if(T.tag===7){n(g,T.sibling),m=i(T,y.props.children),m.return=g,g=m;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&fE(S)===T.type){n(g,T.sibling),m=i(T,y.props),m.ref=za(g,T,y),m.return=g,g=m;break e}n(g,T);break}else t(g,T);T=T.sibling}y.type===co?(m=ys(y.props.children,g.mode,E,y.key),m.return=g,g=m):(E=yd(y.type,y.key,y.props,null,g.mode,E),E.ref=za(g,m,y),E.return=g,g=E)}return o(g);case uo:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=lm(y,g.mode,E),m.return=g,g=m}return o(g);case ui:return T=y._init,_(g,m,T(y._payload),E)}if(rl(y))return v(g,m,y,E);if(Fa(y))return p(g,m,y,E);Vc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,y),m.return=g,g=m):(n(g,m),m=am(y,g.mode,E),m.return=g,g=m),o(g)):n(g,m)}return _}var Bo=AR(!0),PR=AR(!1),$u={},ir=qi($u),zl=qi($u),Wl=qi($u);function hs(e){if(e===$u)throw Error($(174));return e}function Iy(e,t){switch(ke(Wl,t),ke(zl,e),ke(ir,$u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ig(t,e)}Me(ir),ke(ir,t)}function zo(){Me(ir),Me(zl),Me(Wl)}function CR(e){hs(Wl.current);var t=hs(ir.current),n=ig(t,e.type);t!==n&&(ke(zl,e),ke(ir,n))}function Ry(e){zl.current===e&&(Me(ir),Me(zl))}var Be=qi(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tm=[];function Ay(){for(var e=0;e<tm.length;e++)tm[e]._workInProgressVersionPrimary=null;tm.length=0}var fd=Qr.ReactCurrentDispatcher,nm=Qr.ReactCurrentBatchConfig,As=0,ze=null,it=null,ut=null,nh=!1,_l=!1,Hl=0,WN=0;function At(){throw Error($(321))}function Py(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Cy(e,t,n,r,i,s){if(As=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fd.current=e===null||e.memoizedState===null?GN:KN,e=n(r,i),_l){s=0;do{if(_l=!1,Hl=0,25<=s)throw Error($(301));s+=1,ut=it=null,t.updateQueue=null,fd.current=QN,e=n(r,i)}while(_l)}if(fd.current=rh,t=it!==null&&it.next!==null,As=0,ut=it=ze=null,nh=!1,t)throw Error($(300));return e}function Dy(){var e=Hl!==0;return Hl=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=e:ut=ut.next=e,ut}function In(){if(it===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ut===null?ze.memoizedState:ut.next;if(t!==null)ut=t,it=e;else{if(e===null)throw Error($(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?ze.memoizedState=ut=e:ut=ut.next=e}return ut}function Yl(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=In(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((As&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=c,Ps|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,jn(r,t.memoizedState)||(Qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ze.lanes|=s,Ps|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function im(e){var t=In(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);jn(s,t.memoizedState)||(Qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function DR(){}function kR(e,t){var n=ze,r=In(),i=t(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,ky(xR.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ql(9,OR.bind(null,n,r,i,t),void 0,null),ct===null)throw Error($(349));As&30||bR(n,t,i)}return i}function bR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OR(e,t,n,r){t.value=n,t.getSnapshot=r,NR(t)&&MR(e)}function xR(e,t,n){return n(function(){NR(t)&&MR(e)})}function NR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function MR(e){var t=jr(e,1);t!==null&&Vn(t,e,1,-1)}function pE(e){var t=Kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:e},t.queue=e,e=e.dispatch=qN.bind(null,ze,e),[t.memoizedState,e]}function ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $R(){return In().memoizedState}function pd(e,t,n,r){var i=Kn();ze.flags|=e,i.memoizedState=ql(1|t,n,void 0,r===void 0?null:r)}function uf(e,t,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Py(r,o.deps)){i.memoizedState=ql(t,n,s,r);return}}ze.flags|=e,i.memoizedState=ql(1|t,n,s,r)}function mE(e,t){return pd(8390656,8,e,t)}function ky(e,t){return uf(2048,8,e,t)}function LR(e,t){return uf(4,2,e,t)}function FR(e,t){return uf(4,4,e,t)}function VR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jR(e,t,n){return n=n!=null?n.concat([e]):null,uf(4,4,VR.bind(null,t,e),n)}function by(){}function UR(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Py(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function BR(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Py(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zR(e,t,n){return As&21?(jn(n,t)||(n=YI(),ze.lanes|=n,Ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=n)}function HN(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=nm.transition;nm.transition={};try{e(!1),t()}finally{Ie=n,nm.transition=r}}function WR(){return In().memoizedState}function YN(e,t,n){var r=Di(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HR(e))YR(t,n);else if(n=SR(e,t,n,r),n!==null){var i=Bt();Vn(n,e,r,i),qR(n,t,r)}}function qN(e,t,n){var r=Di(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HR(e))YR(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=t.interleaved;l===null?(i.next=i,Sy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=SR(e,t,i,r),n!==null&&(i=Bt(),Vn(n,e,r,i),qR(n,t,r))}}function HR(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function YR(e,t){_l=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qR(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ly(e,n)}}var rh={readContext:Tn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},GN={readContext:Tn,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:mE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pd(4194308,4,VR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return pd(4,2,e,t)},useMemo:function(e,t){var n=Kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YN.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:pE,useDebugValue:by,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=pE(!1),t=e[0];return e=HN.bind(null,e[1]),Kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Kn();if(Ue){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ct===null)throw Error($(349));As&30||bR(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,mE(xR.bind(null,r,s,e),[e]),r.flags|=2048,ql(9,OR.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Kn(),t=ct.identifierPrefix;if(Ue){var n=Pr,r=Ar;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KN={readContext:Tn,useCallback:UR,useContext:Tn,useEffect:ky,useImperativeHandle:jR,useInsertionEffect:LR,useLayoutEffect:FR,useMemo:BR,useReducer:rm,useRef:$R,useState:function(){return rm(Yl)},useDebugValue:by,useDeferredValue:function(e){var t=In();return zR(t,it.memoizedState,e)},useTransition:function(){var e=rm(Yl)[0],t=In().memoizedState;return[e,t]},useMutableSource:DR,useSyncExternalStore:kR,useId:WR,unstable_isNewReconciler:!1},QN={readContext:Tn,useCallback:UR,useContext:Tn,useEffect:ky,useImperativeHandle:jR,useInsertionEffect:LR,useLayoutEffect:FR,useMemo:BR,useReducer:im,useRef:$R,useState:function(){return im(Yl)},useDebugValue:by,useDeferredValue:function(e){var t=In();return it===null?t.memoizedState=e:zR(t,it.memoizedState,e)},useTransition:function(){var e=im(Yl)[0],t=In().memoizedState;return[e,t]},useMutableSource:DR,useSyncExternalStore:kR,useId:WR,unstable_isNewReconciler:!1};function Wo(e,t){try{var n="",r=t;do n+=Ix(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function sm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XN=typeof WeakMap=="function"?WeakMap:Map;function GR(e,t,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sh||(sh=!0,Lg=r),Pg(e,t)},n}function KR(e,t,n){n=xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Pg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pg(e,t),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function gE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=dM.bind(null,e,t,n),t.then(e,e))}function vE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xr(-1,1),t.tag=2,Pi(n,t,1))),n.lanes|=1),e)}var JN=Qr.ReactCurrentOwner,Qt=!1;function Vt(e,t,n,r){t.child=e===null?PR(t,null,n,r):Bo(t,e.child,n,r)}function _E(e,t,n,r,i){n=n.render;var s=t.ref;return Do(t,i),r=Cy(e,t,n,r,s,i),n=Dy(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Ue&&n&&gy(t),t.flags|=1,Vt(e,t,r,i),t.child)}function wE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Vy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,QR(e,t,s,r,i)):(e=yd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(o,r)&&e.ref===t.ref)return Ur(e,t,i)}return t.flags|=1,e=ki(s,r),e.ref=t.ref,e.return=t,t.child=e}function QR(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vl(s,r)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Ur(e,t,i)}return Cg(e,t,n,r,i)}function XR(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Eo,on),on|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Eo,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Eo,on),on|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ke(Eo,on),on|=r;return Vt(e,t,i,n),t.child}function JR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cg(e,t,n,r,i){var s=Jt(n)?Is:$t.current;return s=jo(t,s),Do(t,i),n=Cy(e,t,n,r,s,i),r=Dy(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Ue&&r&&gy(t),t.flags|=1,Vt(e,t,n,i),t.child)}function EE(e,t,n,r,i){if(Jt(n)){var s=!0;Kd(t)}else s=!1;if(Do(t,i),t.stateNode===null)md(e,t),RR(t,n,r),Ag(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Jt(n)?Is:$t.current,u=jo(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hE(t,o,r,u),ci=!1;var h=t.memoizedState;o.state=h,eh(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Xt.current||ci?(typeof c=="function"&&(Rg(t,n,c,r),l=t.memoizedState),(a=ci||dE(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,TR(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xn(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Jt(n)?Is:$t.current,l=jo(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&hE(t,o,r,l),ci=!1,h=t.memoizedState,o.state=h,eh(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||Xt.current||ci?(typeof f=="function"&&(Rg(t,n,f,r),v=t.memoizedState),(u=ci||dE(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Dg(e,t,n,r,s,i)}function Dg(e,t,n,r,i,s){JR(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&oE(t,n,!1),Ur(e,t,s);r=t.stateNode,JN.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bo(t,e.child,null,s),t.child=Bo(t,null,a,s)):Vt(e,t,a,s),t.memoizedState=r.state,i&&oE(t,n,!0),t.child}function ZR(e){var t=e.stateNode;t.pendingContext?sE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sE(e,t.context,!1),Iy(e,t.containerInfo)}function SE(e,t,n,r,i){return Uo(),yy(i),t.flags|=256,Vt(e,t,n,r),t.child}var kg={dehydrated:null,treeContext:null,retryLane:0};function bg(e){return{baseLanes:e,cachePool:null,transitions:null}}function eA(e,t,n){var r=t.pendingProps,i=Be.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Be,i&1),e===null)return Tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hf(o,r,0,null),e=ys(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bg(n),t.memoizedState=kg,e):Oy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZN(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ki(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?bg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=kg,r}return s=e.child,e=s.sibling,r=ki(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oy(e,t){return t=hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jc(e,t,n,r){return r!==null&&yy(r),Bo(t,e.child,null,n),e=Oy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=sm(Error($(422))),jc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=hf({mode:"visible",children:r.children},i,0,null),s=ys(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Bo(t,e.child,null,o),t.child.memoizedState=bg(o),t.memoizedState=kg,s);if(!(t.mode&1))return jc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=sm(s,r,void 0),jc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Qt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(e,i),Vn(r,e,i,-1))}return Fy(),r=sm(Error($(421))),jc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,an=Ai(i.nextSibling),un=t,Ue=!0,Mn=null,e!==null&&(gn[vn++]=Ar,gn[vn++]=Pr,gn[vn++]=Rs,Ar=e.id,Pr=e.overflow,Rs=t),t=Oy(t,r.children),t.flags|=4096,t)}function TE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ig(e.return,t,n)}function om(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tA(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TE(e,n,t);else if(e.tag===19)TE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),om(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&th(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}om(t,!0,n,null,s);break;case"together":om(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eM(e,t,n){switch(t.tag){case 3:ZR(t),Uo();break;case 5:CR(t);break;case 1:Jt(t.type)&&Kd(t);break;case 4:Iy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(Jd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?eA(e,t,n):(ke(Be,Be.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);ke(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tA(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,XR(e,t,n)}return Ur(e,t,n)}var nA,Og,rA,iA;nA=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};rA=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hs(ir.current);var s=null;switch(n){case"input":i=eg(e,i),r=eg(e,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=rg(e,i),r=rg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qd)}sg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};iA=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wa(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tM(e,t,n){var r=t.pendingProps;switch(vy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Jt(t.type)&&Gd(),Pt(t),null;case 3:return r=t.stateNode,zo(),Me(Xt),Me($t),Ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(jg(Mn),Mn=null))),Og(e,t),Pt(t),null;case 5:Ry(t);var i=hs(Wl.current);if(n=t.type,e!==null&&t.stateNode!=null)rA(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Pt(t),null}if(e=hs(ir.current),Fc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qn]=t,r[Bl]=s,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<sl.length;i++)be(sl[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":O0(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":N0(r,s),be("invalid",r)}sg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lc(r.textContent,a,e),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Dc(r),x0(r,s,!0);break;case"textarea":Dc(r),M0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qn]=t,e[Bl]=r,nA(e,t,!1,!1),t.stateNode=e;e:{switch(o=og(n,r),n){case"dialog":be("cancel",e),be("close",e),i=r;break;case"iframe":case"object":case"embed":be("load",e),i=r;break;case"video":case"audio":for(i=0;i<sl.length;i++)be(sl[i],e);i=r;break;case"source":be("error",e),i=r;break;case"img":case"image":case"link":be("error",e),be("load",e),i=r;break;case"details":be("toggle",e),i=r;break;case"input":O0(e,r),i=eg(e,r),be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),be("invalid",e);break;case"textarea":N0(e,r),i=rg(e,r),be("invalid",e);break;default:i=r}sg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?NI(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OI(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xl(e,l):typeof l=="number"&&xl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",e):l!=null&&ny(e,s,l,o))}switch(n){case"input":Dc(e),x0(e,r,!1);break;case"textarea":Dc(e),M0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ro(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)iA(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=hs(Wl.current),hs(ir.current),Fc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(s=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:Lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return Pt(t),null;case 13:if(Me(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&an!==null&&t.mode&1&&!(t.flags&128))ER(),Uo(),t.flags|=98560,s=!1;else if(s=Fc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Qn]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else Mn!==null&&(jg(Mn),Mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?st===0&&(st=3):Fy())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return zo(),Og(e,t),e===null&&jl(t.stateNode.containerInfo),Pt(t),null;case 10:return Ey(t.type._context),Pt(t),null;case 17:return Jt(t.type)&&Gd(),Pt(t),null;case 19:if(Me(Be),s=t.memoizedState,s===null)return Pt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Wa(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=th(e),o!==null){for(t.flags|=128,Wa(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Be,Be.current&1|2),t.child}e=e.sibling}s.tail!==null&&Qe()>Ho&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(e=th(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Pt(t),null}else 2*Qe()-s.renderingStartTime>Ho&&n!==1073741824&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=Be.current,ke(Be,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return Ly(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?on&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function nM(e,t){switch(vy(t),t.tag){case 1:return Jt(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zo(),Me(Xt),Me($t),Ay(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ry(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return zo(),null;case 10:return Ey(t.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Uc=!1,bt=!1,rM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function xg(e,t,n){try{n()}catch(r){Ye(e,t,r)}}var IE=!1;function iM(e,t){if(gg=Wd,e=lR(),my(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vg={focusedElem:e,selectionRange:n},Wd=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,_=v.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:xn(t.type,p),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(E){Ye(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=IE,IE=!1,v}function wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&xg(t,n,s)}i=i.next}while(i!==r)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ng(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sA(e){var t=e.alternate;t!==null&&(e.alternate=null,sA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Bl],delete t[wg],delete t[jN],delete t[UN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oA(e){return e.tag===5||e.tag===3||e.tag===4}function RE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qd));else if(r!==4&&(e=e.child,e!==null))for(Mg(e,t,n),e=e.sibling;e!==null;)Mg(e,t,n),e=e.sibling}function $g(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($g(e,t,n),e=e.sibling;e!==null;)$g(e,t,n),e=e.sibling}var vt=null,Nn=!1;function ri(e,t,n){for(n=n.child;n!==null;)aA(e,t,n),n=n.sibling}function aA(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:bt||wo(n,t);case 6:var r=vt,i=Nn;vt=null,ri(e,t,n),vt=r,Nn=i,vt!==null&&(Nn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Nn?(e=vt,n=n.stateNode,e.nodeType===8?Zp(e.parentNode,n):e.nodeType===1&&Zp(e,n),Ll(e)):Zp(vt,n.stateNode));break;case 4:r=vt,i=Nn,vt=n.stateNode.containerInfo,Nn=!0,ri(e,t,n),vt=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xg(n,t,o),i=i.next}while(i!==r)}ri(e,t,n);break;case 1:if(!bt&&(wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,t,a)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,ri(e,t,n),bt=r):ri(e,t,n);break;default:ri(e,t,n)}}function AE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rM),t.forEach(function(r){var i=fM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Nn=!1;break e;case 3:vt=a.stateNode.containerInfo,Nn=!0;break e;case 4:vt=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(vt===null)throw Error($(160));aA(s,o,i),vt=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lA(t,e),t=t.sibling}function lA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Gn(e),r&4){try{wl(3,e,e.return),cf(3,e)}catch(p){Ye(e,e.return,p)}try{wl(5,e,e.return)}catch(p){Ye(e,e.return,p)}}break;case 1:bn(t,e),Gn(e),r&512&&n!==null&&wo(n,n.return);break;case 5:if(bn(t,e),Gn(e),r&512&&n!==null&&wo(n,n.return),e.flags&32){var i=e.stateNode;try{xl(i,"")}catch(p){Ye(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&DI(i,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?NI(i,d):c==="dangerouslySetInnerHTML"?OI(i,d):c==="children"?xl(i,d):ny(i,c,d,u)}switch(a){case"input":tg(i,s);break;case"textarea":kI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ro(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bl]=s}catch(p){Ye(e,e.return,p)}}break;case 6:if(bn(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Ye(e,e.return,p)}}break;case 3:if(bn(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(p){Ye(e,e.return,p)}break;case 4:bn(t,e),Gn(e);break;case 13:bn(t,e),Gn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(My=Qe())),r&4&&AE(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(u=bt)||c,bn(t,e),bt=u):bn(t,e),Gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,f=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:wo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Ye(r,n,p)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){CE(d);continue}}f!==null?(f.return=h,Y=f):CE(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xI("display",o))}catch(p){Ye(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ye(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bn(t,e),Gn(e),r&4&&AE(e);break;case 21:break;default:bn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oA(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=RE(e);$g(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=RE(e);Mg(e,a,o);break;default:throw Error($(161))}}catch(l){Ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sM(e,t,n){Y=e,uA(e)}function uA(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Uc;var u=bt;if(Uc=o,(bt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?DE(i):l!==null?(l.return=o,Y=l):DE(i);for(;s!==null;)Y=s,uA(s),s=s.sibling;Y=i,Uc=a,bt=u}PE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):PE(e)}}function PE(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||cf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cE(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||t.flags&512&&Ng(t)}catch(h){Ye(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function CE(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function DE(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cf(4,t)}catch(l){Ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ye(t,i,l)}}var s=t.return;try{Ng(t)}catch(l){Ye(t,s,l)}break;case 5:var o=t.return;try{Ng(t)}catch(l){Ye(t,o,l)}}}catch(l){Ye(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var oM=Math.ceil,ih=Qr.ReactCurrentDispatcher,xy=Qr.ReactCurrentOwner,En=Qr.ReactCurrentBatchConfig,ve=0,ct=null,tt=null,Et=0,on=0,Eo=qi(0),st=0,Gl=null,Ps=0,df=0,Ny=0,El=null,Gt=null,My=0,Ho=1/0,Er=null,sh=!1,Lg=null,Ci=null,Bc=!1,yi=null,oh=0,Sl=0,Fg=null,gd=-1,vd=0;function Bt(){return ve&6?Qe():gd!==-1?gd:gd=Qe()}function Di(e){return e.mode&1?ve&2&&Et!==0?Et&-Et:zN.transition!==null?(vd===0&&(vd=YI()),vd):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:ZI(e.type)),e):1}function Vn(e,t,n,r){if(50<Sl)throw Sl=0,Fg=null,Error($(185));xu(e,n,r),(!(ve&2)||e!==ct)&&(e===ct&&(!(ve&2)&&(df|=n),st===4&&hi(e,Et)),Zt(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ho=Qe()+500,af&&Gi()))}function Zt(e,t){var n=e.callbackNode;zx(e,t);var r=zd(e,e===ct?Et:0);if(r===0)n!==null&&F0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&F0(n),t===1)e.tag===0?BN(kE.bind(null,e)):yR(kE.bind(null,e)),FN(function(){!(ve&6)&&Gi()}),n=null;else{switch(qI(r)){case 1:n=ay;break;case 4:n=WI;break;case 16:n=Bd;break;case 536870912:n=HI;break;default:n=Bd}n=vA(n,cA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cA(e,t){if(gd=-1,vd=0,ve&6)throw Error($(327));var n=e.callbackNode;if(ko()&&e.callbackNode!==n)return null;var r=zd(e,e===ct?Et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ah(e,r);else{t=r;var i=ve;ve|=2;var s=hA();(ct!==e||Et!==t)&&(Er=null,Ho=Qe()+500,vs(e,t));do try{uM();break}catch(a){dA(e,a)}while(!0);wy(),ih.current=s,ve=i,tt!==null?t=0:(ct=null,Et=0,t=st)}if(t!==0){if(t===2&&(i=dg(e),i!==0&&(r=i,t=Vg(e,i))),t===1)throw n=Gl,vs(e,0),hi(e,r),Zt(e,Qe()),n;if(t===6)hi(e,r);else{if(i=e.current.alternate,!(r&30)&&!aM(i)&&(t=ah(e,r),t===2&&(s=dg(e),s!==0&&(r=s,t=Vg(e,s))),t===1))throw n=Gl,vs(e,0),hi(e,r),Zt(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:os(e,Gt,Er);break;case 3:if(hi(e,r),(r&130023424)===r&&(t=My+500-Qe(),10<t)){if(zd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_g(os.bind(null,e,Gt,Er),t);break}os(e,Gt,Er);break;case 4:if(hi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oM(r/1960))-r,10<r){e.timeoutHandle=_g(os.bind(null,e,Gt,Er),r);break}os(e,Gt,Er);break;case 5:os(e,Gt,Er);break;default:throw Error($(329))}}}return Zt(e,Qe()),e.callbackNode===n?cA.bind(null,e):null}function Vg(e,t){var n=El;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=ah(e,t),e!==2&&(t=Gt,Gt=n,t!==null&&jg(t)),e}function jg(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function aM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~Ny,t&=~df,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fn(t),r=1<<n;e[n]=-1,t&=~r}}function kE(e){if(ve&6)throw Error($(327));ko();var t=zd(e,0);if(!(t&1))return Zt(e,Qe()),null;var n=ah(e,t);if(e.tag!==0&&n===2){var r=dg(e);r!==0&&(t=r,n=Vg(e,r))}if(n===1)throw n=Gl,vs(e,0),hi(e,t),Zt(e,Qe()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,Gt,Er),Zt(e,Qe()),null}function $y(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ho=Qe()+500,af&&Gi())}}function Cs(e){yi!==null&&yi.tag===0&&!(ve&6)&&ko();var t=ve;ve|=1;var n=En.transition,r=Ie;try{if(En.transition=null,Ie=1,e)return e()}finally{Ie=r,En.transition=n,ve=t,!(ve&6)&&Gi()}}function Ly(){on=Eo.current,Me(Eo)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gd();break;case 3:zo(),Me(Xt),Me($t),Ay();break;case 5:Ry(r);break;case 4:zo();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Ey(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(ct=e,tt=e=ki(e.current,null),Et=on=t,st=0,Gl=null,Ny=df=Ps=0,Gt=El=null,ds!==null){for(t=0;t<ds.length;t++)if(n=ds[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ds=null}return e}function dA(e,t){do{var n=tt;try{if(wy(),fd.current=rh,nh){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(As=0,ut=it=ze=null,_l=!1,Hl=0,xy.current=null,n===null||n.return===null){st=1,Gl=t,tt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=vE(o);if(f!==null){f.flags&=-257,yE(f,o,a,s,t),f.mode&1&&gE(s,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){gE(s,u,t),Fy();break e}l=Error($(426))}}else if(Ue&&a.mode&1){var _=vE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),yE(_,o,a,s,t),yy(Wo(l,a));break e}}s=l=Wo(l,a),st!==4&&(st=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=GR(s,l,t);uE(s,g);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ci===null||!Ci.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=KR(s,a,t);uE(s,E);break e}}s=s.return}while(s!==null)}pA(n)}catch(S){t=S,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function hA(){var e=ih.current;return ih.current=rh,e===null?rh:e}function Fy(){(st===0||st===3||st===2)&&(st=4),ct===null||!(Ps&268435455)&&!(df&268435455)||hi(ct,Et)}function ah(e,t){var n=ve;ve|=2;var r=hA();(ct!==e||Et!==t)&&(Er=null,vs(e,t));do try{lM();break}catch(i){dA(e,i)}while(!0);if(wy(),ve=n,ih.current=r,tt!==null)throw Error($(261));return ct=null,Et=0,st}function lM(){for(;tt!==null;)fA(tt)}function uM(){for(;tt!==null&&!Nx();)fA(tt)}function fA(e){var t=gA(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?pA(e):tt=t,xy.current=null}function pA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nM(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,tt=null;return}}else if(n=tM(n,t,on),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);st===0&&(st=5)}function os(e,t,n){var r=Ie,i=En.transition;try{En.transition=null,Ie=1,cM(e,t,n,r)}finally{En.transition=i,Ie=r}return null}function cM(e,t,n,r){do ko();while(yi!==null);if(ve&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Wx(e,s),e===ct&&(tt=ct=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,vA(Bd,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=Ie;Ie=1;var a=ve;ve|=4,xy.current=null,iM(e,n),lA(n,e),kN(vg),Wd=!!gg,vg=gg=null,e.current=n,sM(n),Mx(),ve=a,Ie=o,En.transition=s}else e.current=n;if(Bc&&(Bc=!1,yi=e,oh=i),s=e.pendingLanes,s===0&&(Ci=null),Fx(n.stateNode),Zt(e,Qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sh)throw sh=!1,e=Lg,Lg=null,e;return oh&1&&e.tag!==0&&ko(),s=e.pendingLanes,s&1?e===Fg?Sl++:(Sl=0,Fg=e):Sl=0,Gi(),null}function ko(){if(yi!==null){var e=qI(oh),t=En.transition,n=Ie;try{if(En.transition=null,Ie=16>e?16:e,yi===null)var r=!1;else{if(e=yi,yi=null,oh=0,ve&6)throw Error($(331));var i=ve;for(ve|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:wl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,f=c.return;if(sA(c),c===u){Y=null;break}if(h!==null){h.return=f,Y=h;break}Y=f}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Y=g;break e}Y=s.return}}var m=e.current;for(Y=m;Y!==null;){o=Y;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Y=y;else e:for(o=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cf(9,a)}}catch(S){Ye(a,a.return,S)}if(a===o){Y=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Y=E;break e}Y=a.return}}if(ve=i,Gi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(tf,e)}catch{}r=!0}return r}finally{Ie=n,En.transition=t}}return!1}function bE(e,t,n){t=Wo(n,t),t=GR(e,t,1),e=Pi(e,t,1),t=Bt(),e!==null&&(xu(e,1,t),Zt(e,t))}function Ye(e,t,n){if(e.tag===3)bE(e,e,n);else for(;t!==null;){if(t.tag===3){bE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){e=Wo(n,e),e=KR(t,e,1),t=Pi(t,e,1),e=Bt(),t!==null&&(xu(t,1,e),Zt(t,e));break}}t=t.return}}function dM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(Et&n)===n&&(st===4||st===3&&(Et&130023424)===Et&&500>Qe()-My?vs(e,0):Ny|=n),Zt(e,t)}function mA(e,t){t===0&&(e.mode&1?(t=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):t=1);var n=Bt();e=jr(e,t),e!==null&&(xu(e,t,n),Zt(e,n))}function hM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mA(e,n)}function fM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),mA(e,n)}var gA;gA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qt=!1,eM(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,Ue&&t.flags&1048576&&_R(t,Xd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;md(e,t),e=t.pendingProps;var i=jo(t,$t.current);Do(t,n),i=Cy(null,t,r,e,i,n);var s=Dy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(r)?(s=!0,Kd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ty(t),i.updater=lf,t.stateNode=i,i._reactInternals=t,Ag(t,r,e,n),t=Dg(null,t,r,!0,s,n)):(t.tag=0,Ue&&s&&gy(t),Vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(md(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=mM(r),e=xn(r,e),i){case 0:t=Cg(null,t,r,e,n);break e;case 1:t=EE(null,t,r,e,n);break e;case 11:t=_E(null,t,r,e,n);break e;case 14:t=wE(null,t,r,xn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),Cg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),EE(e,t,r,i,n);case 3:e:{if(ZR(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,TR(e,t),eh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wo(Error($(423)),t),t=SE(e,t,r,n,i);break e}else if(r!==i){i=Wo(Error($(424)),t),t=SE(e,t,r,n,i);break e}else for(an=Ai(t.stateNode.containerInfo.firstChild),un=t,Ue=!0,Mn=null,n=PR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===i){t=Ur(e,t,n);break e}Vt(e,t,r,n)}t=t.child}return t;case 5:return CR(t),e===null&&Tg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,yg(r,i)?o=null:s!==null&&yg(r,s)&&(t.flags|=32),JR(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&Tg(t),null;case 13:return eA(e,t,n);case 4:return Iy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):Vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),_E(e,t,r,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ke(Jd,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!Xt.current){t=Ur(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ig(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ig(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Do(t,n),i=Tn(i),r=r(i),t.flags|=1,Vt(e,t,r,n),t.child;case 14:return r=t.type,i=xn(r,t.pendingProps),i=xn(r.type,i),wE(e,t,r,i,n);case 15:return QR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xn(r,i),md(e,t),t.tag=1,Jt(r)?(e=!0,Kd(t)):e=!1,Do(t,n),RR(t,r,i),Ag(t,r,i,n),Dg(null,t,r,!0,e,n);case 19:return tA(e,t,n);case 22:return XR(e,t,n)}throw Error($(156,t.tag))};function vA(e,t){return zI(e,t)}function pM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new pM(e,t,n,r)}function Vy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mM(e){if(typeof e=="function")return Vy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iy)return 11;if(e===sy)return 14}return 2}function ki(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Vy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case co:return ys(n.children,i,s,t);case ry:o=8,i|=8;break;case Qm:return e=wn(12,n,t,i|2),e.elementType=Qm,e.lanes=s,e;case Xm:return e=wn(13,n,t,i),e.elementType=Xm,e.lanes=s,e;case Jm:return e=wn(19,n,t,i),e.elementType=Jm,e.lanes=s,e;case AI:return hf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case II:o=10;break e;case RI:o=9;break e;case iy:o=11;break e;case sy:o=14;break e;case ui:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=wn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ys(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function hf(e,t,n,r){return e=wn(22,e,r,t),e.elementType=AI,e.lanes=n,e.stateNode={isHidden:!1},e}function am(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function lm(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jy(e,t,n,r,i,s,o,a,l){return e=new gM(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(s),e}function vM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yA(e){if(!e)return Vi;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Jt(n))return vR(e,n,t)}return t}function _A(e,t,n,r,i,s,o,a,l){return e=jy(n,r,!0,e,i,s,o,a,l),e.context=yA(null),n=e.current,r=Bt(),i=Di(n),s=xr(r,i),s.callback=t??null,Pi(n,s,i),e.current.lanes=i,xu(e,i,r),Zt(e,r),e}function ff(e,t,n,r){var i=t.current,s=Bt(),o=Di(i);return n=yA(n),t.context===null?t.context=n:t.pendingContext=n,t=xr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pi(i,t,o),e!==null&&(Vn(e,i,o,s),hd(e,i,o)),o}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function OE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uy(e,t){OE(e,t),(e=e.alternate)&&OE(e,t)}function yM(){return null}var wA=typeof reportError=="function"?reportError:function(e){console.error(e)};function By(e){this._internalRoot=e}pf.prototype.render=By.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));ff(e,t,null,null)};pf.prototype.unmount=By.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){ff(null,e,null,null)}),t[Vr]=null}};function pf(e){this._internalRoot=e}pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=QI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&JI(e)}};function zy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xE(){}function _M(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lh(o);s.call(u)}}var o=_A(t,r,e,0,null,!1,!1,"",xE);return e._reactRootContainer=o,e[Vr]=o.current,jl(e.nodeType===8?e.parentNode:e),Cs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lh(l);a.call(u)}}var l=jy(e,0,!1,null,null,!1,!1,"",xE);return e._reactRootContainer=l,e[Vr]=l.current,jl(e.nodeType===8?e.parentNode:e),Cs(function(){ff(t,l,n,r)}),l}function gf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lh(o);a.call(l)}}ff(t,o,e,i)}else o=_M(n,t,e,i,r);return lh(o)}GI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=il(t.pendingLanes);n!==0&&(ly(t,n|1),Zt(t,Qe()),!(ve&6)&&(Ho=Qe()+500,Gi()))}break;case 13:Cs(function(){var r=jr(e,1);if(r!==null){var i=Bt();Vn(r,e,1,i)}}),Uy(e,1)}};uy=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var n=Bt();Vn(t,e,134217728,n)}Uy(e,134217728)}};KI=function(e){if(e.tag===13){var t=Di(e),n=jr(e,t);if(n!==null){var r=Bt();Vn(n,e,t,r)}Uy(e,t)}};QI=function(){return Ie};XI=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};lg=function(e,t,n){switch(t){case"input":if(tg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=of(r);if(!i)throw Error($(90));CI(r),tg(r,i)}}}break;case"textarea":kI(e,n);break;case"select":t=n.value,t!=null&&Ro(e,!!n.multiple,t,!1)}};LI=$y;FI=Cs;var wM={usingClientEntryPoint:!1,Events:[Mu,mo,of,MI,$I,$y]},Ha={findFiberByHostInstance:cs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},EM={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=UI(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||yM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tf=zc.inject(EM),rr=zc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wM;fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(t))throw Error($(200));return vM(e,t,null,n)};fn.createRoot=function(e,t){if(!zy(e))throw Error($(299));var n=!1,r="",i=wA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jy(e,1,!1,null,null,n,!1,r,i),e[Vr]=t.current,jl(e.nodeType===8?e.parentNode:e),new By(t)};fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=UI(t),e=e===null?null:e.stateNode,e};fn.flushSync=function(e){return Cs(e)};fn.hydrate=function(e,t,n){if(!mf(t))throw Error($(200));return gf(null,e,t,!0,n)};fn.hydrateRoot=function(e,t,n){if(!zy(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_A(t,null,e,1,n??null,i,!1,s,o),e[Vr]=t.current,jl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pf(t)};fn.render=function(e,t,n){if(!mf(t))throw Error($(200));return gf(null,e,t,!1,n)};fn.unmountComponentAtNode=function(e){if(!mf(e))throw Error($(40));return e._reactRootContainer?(Cs(function(){gf(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};fn.unstable_batchedUpdates=$y;fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mf(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return gf(e,t,n,!1,r)};fn.version="18.2.0-next-9e3b772b8-20220608";function EA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EA)}catch(e){console.error(e)}}EA(),_I.exports=fn;var SA=_I.exports;const TA=sn(SA);var NE=SA;Gm.createRoot=NE.createRoot,Gm.hydrateRoot=NE.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kl.apply(this,arguments)}var _i;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_i||(_i={}));const ME="popstate";function SM(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ug("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uh(i)}return IM(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TM(){return Math.random().toString(36).substr(2,8)}function $E(e,t){return{usr:e.state,key:e.key,idx:t}}function Ug(e,t,n,r){return n===void 0&&(n=null),Kl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fa(t):t,{state:n,key:t&&t.key||r||TM()})}function uh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=_i.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Kl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=_i.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:p.location,delta:g})}function h(_,g){a=_i.Push;let m=Ug(p.location,_,g);n&&n(m,_),u=c()+1;let y=$E(m,u),E=p.createHref(m);try{o.pushState(y,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:p.location,delta:1})}function f(_,g){a=_i.Replace;let m=Ug(p.location,_,g);n&&n(m,_),u=c();let y=$E(m,u),E=p.createHref(m);o.replaceState(y,"",E),s&&l&&l({action:a,location:p.location,delta:0})}function v(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:uh(_);return m=m.replace(/ $/,"%20"),rt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let p={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ME,d),l=_,()=>{i.removeEventListener(ME,d),l=null}},createHref(_){return t(i,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(_){return o.go(_)}};return p}var LE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LE||(LE={}));function RM(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?fa(t):t,i=Wy(r.pathname||"/",n);if(i==null)return null;let s=RA(e);AM(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=FM(i);o=MM(s[a],l)}return o}function RA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RA(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xM(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of AA(s.path))i(s,o,l)}),t}function AA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function AM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PM=/^:[\w-]+$/,CM=3,DM=2,kM=1,bM=10,OM=-2,FE=e=>e==="*";function xM(e,t){let n=e.split("/"),r=n.length;return n.some(FE)&&(r+=OM),t&&(r+=DM),n.filter(i=>!FE(i)).reduce((i,s)=>i+(PM.test(s)?CM:s===""?kM:bM),r)}function NM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function MM(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=$M({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:bi([i,c.pathname]),pathnameBase:BM(bi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bi([i,c.pathnameBase]))}return s}function $M(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=LM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=a[d];return f&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function LM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),IA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function FM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return IA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function VM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fa(e):e;return{pathname:n?n.startsWith("/")?n:jM(n,t):t,search:zM(r),hash:WM(i)}}function jM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function um(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function PA(e,t){let n=UM(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CA(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fa(e):(i=Kl({},e),rt(!i.pathname||!i.pathname.includes("?"),um("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),um("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),um("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=VM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),BM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DA=["post","put","patch","delete"];new Set(DA);const YM=["get",...DA];new Set(YM);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}const Hy=R.createContext(null),qM=R.createContext(null),Hs=R.createContext(null),vf=R.createContext(null),Ys=R.createContext({outlet:null,matches:[],isDataRoute:!1}),kA=R.createContext(null);function GM(e,t){let{relative:n}=t===void 0?{}:t;Lu()||rt(!1);let{basename:r,navigator:i}=R.useContext(Hs),{hash:s,pathname:o,search:a}=OA(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Lu(){return R.useContext(vf)!=null}function Fu(){return Lu()||rt(!1),R.useContext(vf).location}function bA(e){R.useContext(Hs).static||R.useLayoutEffect(e)}function pa(){let{isDataRoute:e}=R.useContext(Ys);return e?a$():KM()}function KM(){Lu()||rt(!1);let e=R.useContext(Hy),{basename:t,future:n,navigator:r}=R.useContext(Hs),{matches:i}=R.useContext(Ys),{pathname:s}=Fu(),o=JSON.stringify(PA(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return bA(()=>{a.current=!0}),R.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=CA(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:bi([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function OA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Hs),{matches:i}=R.useContext(Ys),{pathname:s}=Fu(),o=JSON.stringify(PA(i,r.v7_relativeSplatPath));return R.useMemo(()=>CA(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function QM(e,t){return XM(e,t)}function XM(e,t,n,r){Lu()||rt(!1);let{navigator:i}=R.useContext(Hs),{matches:s}=R.useContext(Ys),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Fu(),c;if(t){var d;let _=typeof t=="string"?fa(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||rt(!1),c=_}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=RM(e,{pathname:f}),p=n$(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:bi([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:bi([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return t&&p?R.createElement(vf.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_i.Pop}},p):p}function JM(){let e=o$(),t=HM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const ZM=R.createElement(JM,null);class e$ extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Ys.Provider,{value:this.props.routeContext},R.createElement(kA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t$(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(Hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Ys.Provider,{value:t},r)}function n$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||rt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,v=!1,p=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||ZM,l&&(u<0&&h===0?(l$("route-fallback",!1),v=!0,_=null):u===h&&(v=!0,_=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),m=()=>{let y;return f?y=p:v?y=_:d.route.Component?y=R.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,R.createElement(t$,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(e$,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var xA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xA||{}),ch=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ch||{});function r$(e){let t=R.useContext(Hy);return t||rt(!1),t}function i$(e){let t=R.useContext(qM);return t||rt(!1),t}function s$(e){let t=R.useContext(Ys);return t||rt(!1),t}function NA(e){let t=s$(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function o$(){var e;let t=R.useContext(kA),n=i$(ch.UseRouteError),r=NA(ch.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function a$(){let{router:e}=r$(xA.UseNavigateStable),t=NA(ch.UseNavigateStable),n=R.useRef(!1);return bA(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ql({fromRouteId:t},s)))},[e,t])}const VE={};function l$(e,t,n){!t&&!VE[e]&&(VE[e]=!0)}function On(e){rt(!1)}function u$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=_i.Pop,navigator:s,static:o=!1,future:a}=e;Lu()&&rt(!1);let l=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:s,static:o,future:Ql({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=fa(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:v="default"}=r,p=R.useMemo(()=>{let _=Wy(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:v},navigationType:i}},[l,c,d,h,f,v,i]);return p==null?null:R.createElement(Hs.Provider,{value:u},R.createElement(vf.Provider,{children:n,value:p}))}function c$(e){let{children:t,location:n}=e;return QM(Bg(t),n)}new Promise(()=>{});function Bg(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,Bg(r.props.children,s));return}r.type!==On&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function d$(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function h$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f$(e,t){return e.button===0&&(!t||t==="_self")&&!h$(e)}const p$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],m$="6";try{window.__reactRouterVersion=m$}catch{}const g$="startTransition",jE=hx[g$];function v$(e){let{basename:t,children:n,future:r,window:i}=e,s=R.useRef();s.current==null&&(s.current=SM({window:i,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=R.useCallback(d=>{u&&jE?jE(()=>l(d)):l(d)},[l,u]);return R.useLayoutEffect(()=>o.listen(c),[o,c]),R.createElement(u$,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=R.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=d$(t,p$),{basename:f}=R.useContext(Hs),v,p=!1;if(typeof u=="string"&&_$.test(u)&&(v=u,y$))try{let y=new URL(window.location.href),E=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Wy(E.pathname,f);E.origin===y.origin&&S!=null?u=S+E.search+E.hash:p=!0}catch{}let _=GM(u,{relative:i}),g=w$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function m(y){r&&r(y),y.defaultPrevented||g(y)}return R.createElement("a",zg({},h,{href:v||_,onClick:p||s?r:m,ref:n,target:l}))});var UE;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(UE||(UE={}));var BE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(BE||(BE={}));function w$(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=pa(),u=Fu(),c=OA(e,{relative:o});return R.useCallback(d=>{if(f$(d,n)){d.preventDefault();let h=r!==void 0?r:uh(u)===uh(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}let Wc;const E$=new Uint8Array(16);function S$(){if(!Wc&&(Wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wc(E$)}const gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function T$(e,t=0){return gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]}const I$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zE={randomUUID:I$};function WE(e,t,n){if(zE.randomUUID&&!t&&!e)return zE.randomUUID();e=e||{};const r=e.random||(e.rng||S$)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return T$(r)}const qs=()=>{const[e,t]=R.useState(!1),n=()=>{t(!e)},r=()=>{t(!1)},i=()=>{localStorage.clear(),r()};return R.useEffect(()=>{const s=o=>{document.querySelector(".burger-menu").contains(o.target)||r()};return e&&document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[e]),w.jsxs("div",{className:"burger-menu",children:[w.jsxs("div",{className:"burger-icon",onClick:n,children:[w.jsx("div",{className:`burger-line ${e?"open":""}`}),w.jsx("div",{className:`burger-line ${e?"open":""}`}),w.jsx("div",{className:`burger-line ${e?"open":""}`})]}),w.jsx("div",{className:`menu ${e?"open":""}`,children:w.jsxs("ul",{className:"burger-menu-options",children:[w.jsx("li",{children:w.jsx(ii,{to:"/home-page",onClick:r,children:"Home"})}),w.jsx("li",{children:w.jsx(ii,{to:"/plant-details",onClick:r,children:"Search"})}),w.jsx("li",{children:w.jsx(ii,{to:"/weather",onClick:r,children:"Weather"})}),w.jsx("li",{children:w.jsx(ii,{to:"/calendar",onClick:r,children:"Calendar"})}),w.jsx("li",{children:w.jsx(ii,{to:"/discussion-board",onClick:r,children:"Discussion Board"})}),w.jsx("li",{children:w.jsx(ii,{to:"/reminders",onClick:r,children:"Reminders"})}),w.jsx("li",{children:w.jsx(ii,{to:"/optimal-plants",onClick:r,children:"Optimal Plants"})}),w.jsx("li",{children:w.jsx(ii,{to:"/",onClick:i,children:"Logout"})})]})})]})};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},R$=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},$A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):R$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A$;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class A$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P$=function(e){const t=MA(e);return $A.encodeByteArray(t,!0)},dh=function(e){return P$(e).replace(/\./g,"")},LA=function(e){try{return $A.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=()=>C$().__FIREBASE_DEFAULTS__,k$=()=>{if(typeof process>"u"||typeof HE>"u")return;const e=HE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},b$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LA(e[1]);return t&&JSON.parse(t)},Yy=()=>{try{return D$()||k$()||b$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},FA=e=>{var t,n;return(n=(t=Yy())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},O$=e=>{const t=FA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},VA=()=>{var e;return(e=Yy())===null||e===void 0?void 0:e.config},jA=e=>{var t;return(t=Yy())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function $$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function L$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F$(){const e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function V$(){try{return typeof indexedDB=="object"}catch{return!1}}function j$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="FirebaseError";class Xr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=U$,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?B$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,r)}}function B$(e,t){return e.replace(z$,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const z$=/\{\$([^}]+)}/g;function W$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function hh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(YE(s)&&YE(o)){if(!hh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ol(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function al(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function H$(e,t){const n=new Y$(e,t);return n.subscribe.bind(n)}class Y${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=cm),i.error===void 0&&(i.error=cm),i.complete===void 0&&(i.complete=cm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}class Ds{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new x$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Q$(t))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=as){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=as){return this.instances.has(t)}getOptions(t=as){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=as){return this.component?this.component.multipleInstances?t:as:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K$(e){return e===as?void 0:e}function Q$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new G$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const J$={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Z$=he.INFO,eL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},tL=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=eL[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qy{constructor(t){this.name=t,this._logLevel=Z$,this._logHandler=tL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?J$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const nL=(e,t)=>t.some(n=>e instanceof n);let qE,GE;function rL(){return qE||(qE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iL(){return GE||(GE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,Wg=new WeakMap,BA=new WeakMap,dm=new WeakMap,Gy=new WeakMap;function sL(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Oi(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&UA.set(n,e)}).catch(()=>{}),Gy.set(t,e),t}function oL(e){if(Wg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Wg.set(e,t)}let Hg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||BA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function aL(e){Hg=e(Hg)}function lL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(hm(this),t,...n);return BA.set(r,t.sort?t.sort():[t]),Oi(r)}:iL().includes(e)?function(...t){return e.apply(hm(this),t),Oi(UA.get(this))}:function(...t){return Oi(e.apply(hm(this),t))}}function uL(e){return typeof e=="function"?lL(e):(e instanceof IDBTransaction&&oL(e),nL(e,rL())?new Proxy(e,Hg):e)}function Oi(e){if(e instanceof IDBRequest)return sL(e);if(dm.has(e))return dm.get(e);const t=uL(e);return t!==e&&(dm.set(e,t),Gy.set(t,e)),t}const hm=e=>Gy.get(e);function cL(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oi(o.result),l.oldVersion,l.newVersion,Oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dL=["get","getKey","getAll","getAllKeys","count"],hL=["put","add","delete","clear"],fm=new Map;function KE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=hL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return fm.set(t,s),s}aL(e=>({...e,get:(t,n,r)=>KE(t,n)||e.get(t,n,r),has:(t,n)=>!!KE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yg="@firebase/app",QE="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new qy("@firebase/app"),mL="@firebase/app-compat",gL="@firebase/analytics-compat",vL="@firebase/analytics",yL="@firebase/app-check-compat",_L="@firebase/app-check",wL="@firebase/auth",EL="@firebase/auth-compat",SL="@firebase/database",TL="@firebase/database-compat",IL="@firebase/functions",RL="@firebase/functions-compat",AL="@firebase/installations",PL="@firebase/installations-compat",CL="@firebase/messaging",DL="@firebase/messaging-compat",kL="@firebase/performance",bL="@firebase/performance-compat",OL="@firebase/remote-config",xL="@firebase/remote-config-compat",NL="@firebase/storage",ML="@firebase/storage-compat",$L="@firebase/firestore",LL="@firebase/firestore-compat",FL="firebase",VL="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",jL={[Yg]:"fire-core",[mL]:"fire-core-compat",[vL]:"fire-analytics",[gL]:"fire-analytics-compat",[_L]:"fire-app-check",[yL]:"fire-app-check-compat",[wL]:"fire-auth",[EL]:"fire-auth-compat",[SL]:"fire-rtdb",[TL]:"fire-rtdb-compat",[IL]:"fire-fn",[RL]:"fire-fn-compat",[AL]:"fire-iid",[PL]:"fire-iid-compat",[CL]:"fire-fcm",[DL]:"fire-fcm-compat",[kL]:"fire-perf",[bL]:"fire-perf-compat",[OL]:"fire-rc",[xL]:"fire-rc-compat",[NL]:"fire-gcs",[ML]:"fire-gcs-compat",[$L]:"fire-fst",[LL]:"fire-fst-compat","fire-js":"fire-js",[FL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,Gg=new Map;function UL(e,t){try{e.container.addComponent(t)}catch(n){ks.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yo(e){const t=e.name;if(Gg.has(t))return ks.debug(`There were multiple attempts to register component ${t}.`),!1;Gg.set(t,e);for(const n of fh.values())UL(n,e);return!0}function Ky(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xi=new Vu("app","Firebase",BL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=VL;function zA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=VA()),!n)throw xi.create("no-options");const s=fh.get(i);if(s){if(hh(n,s.options)&&hh(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new X$(i);for(const l of Gg.values())o.addComponent(l);const a=new zL(n,r,o);return fh.set(i,a),a}function WA(e=qg){const t=fh.get(e);if(!t&&e===qg&&VA())return zA();if(!t)throw xi.create("no-app",{appName:e});return t}function Ni(e,t,n){var r;let i=(r=jL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ks.warn(a.join(" "));return}Yo(new Ds(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="firebase-heartbeat-database",HL=1,Xl="firebase-heartbeat-store";let pm=null;function HA(){return pm||(pm=cL(WL,HL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xl)}}}).catch(e=>{throw xi.create("idb-open",{originalErrorMessage:e.message})})),pm}async function YL(e){try{return await(await HA()).transaction(Xl).objectStore(Xl).get(YA(e))}catch(t){if(t instanceof Xr)ks.warn(t.message);else{const n=xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ks.warn(n.message)}}}async function XE(e,t){try{const r=(await HA()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,YA(e)),await r.done}catch(n){if(n instanceof Xr)ks.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ks.warn(r.message)}}}function YA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1024,GL=30*24*60*60*1e3;class KL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=GL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=JE(),{heartbeatsToSend:r,unsentEntries:i}=QL(this._heartbeatsCache.heartbeats),s=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function JE(){return new Date().toISOString().substring(0,10)}function QL(e,t=qL){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZE(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V$()?j$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ZE(e){return dh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(e){Yo(new Ds("platform-logger",t=>new fL(t),"PRIVATE")),Yo(new Ds("heartbeat",t=>new KL(t),"PRIVATE")),Ni(Yg,QE,e),Ni(Yg,QE,"esm2017"),Ni("fire-js","")}JL("");var ZL="firebase",e2="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(ZL,e2,"app");var t2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Qy=Qy||{},re=t2||self;function yf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Uu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function n2(e){return Object.prototype.hasOwnProperty.call(e,mm)&&e[mm]||(e[mm]=++r2)}var mm="closure_uid_"+(1e9*Math.random()>>>0),r2=0;function i2(e,t,n){return e.call.apply(e.bind,arguments)}function s2(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function xt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xt=i2:xt=s2,xt.apply(null,arguments)}function Hc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ft(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Ki(){this.s=this.s,this.o=this.o}var o2=0;Ki.prototype.s=!1;Ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),o2!=0)&&n2(this)};Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xy(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function eS(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yf(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var a2=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{re.addEventListener("test",()=>{},t),re.removeEventListener("test",()=>{},t)}catch{}return e}();function Jl(e){return/^[\s\xa0]*$/.test(e)}function _f(){var e=re.navigator;return e&&(e=e.userAgent)?e:""}function Xn(e){return _f().indexOf(e)!=-1}function Jy(e){return Jy[" "](e),e}Jy[" "]=function(){};function l2(e,t){var n=eF;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var u2=Xn("Opera"),qo=Xn("Trident")||Xn("MSIE"),GA=Xn("Edge"),Kg=GA||qo,KA=Xn("Gecko")&&!(_f().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge"))&&!(Xn("Trident")||Xn("MSIE"))&&!Xn("Edge"),c2=_f().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge");function QA(){var e=re.document;return e?e.documentMode:void 0}var Qg;e:{var gm="",vm=function(){var e=_f();if(KA)return/rv:([^\);]+)(\)|;)/.exec(e);if(GA)return/Edge\/([\d\.]+)/.exec(e);if(qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(c2)return/WebKit\/(\S+)/.exec(e);if(u2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(vm&&(gm=vm?vm[1]:""),qo){var ym=QA();if(ym!=null&&ym>parseFloat(gm)){Qg=String(ym);break e}}Qg=gm}var Xg;if(re.document&&qo){var tS=QA();Xg=tS||parseInt(Qg,10)||void 0}else Xg=void 0;var d2=Xg;function Zl(e,t){if(Nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(KA){e:{try{Jy(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:h2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zl.$.h.call(this)}}ft(Zl,Nt);var h2={2:"touch",3:"pen",4:"mouse"};Zl.prototype.h=function(){Zl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bu="closure_listenable_"+(1e6*Math.random()|0),f2=0;function p2(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++f2,this.fa=this.ia=!1}function wf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zy(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function m2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function XA(e){const t={};for(const n in e)t[n]=e[n];return t}const nS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JA(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<nS.length;s++)n=nS[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ef(e){this.src=e,this.g={},this.h=0}Ef.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Zg(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new p2(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Jg(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=qA(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Zg(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var e_="closure_lm_"+(1e6*Math.random()|0),_m={};function ZA(e,t,n,r,i){if(r&&r.once)return tP(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ZA(e,t[s],n,r,i);return null}return n=r_(n),e&&e[Bu]?e.O(t,n,Uu(r)?!!r.capture:!!r,i):eP(e,t,n,!1,r,i)}function eP(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Uu(i)?!!i.capture:!!i,a=n_(e);if(a||(e[e_]=a=new Ef(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=g2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)a2||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rP(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function g2(){function e(n){return t.call(e.src,e.listener,n)}const t=v2;return e}function tP(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tP(e,t[s],n,r,i);return null}return n=r_(n),e&&e[Bu]?e.P(t,n,Uu(r)?!!r.capture:!!r,i):eP(e,t,n,!0,r,i)}function nP(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)nP(e,t[s],n,r,i);else r=Uu(r)?!!r.capture:!!r,n=r_(n),e&&e[Bu]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Zg(s,n,r,i),-1<n&&(wf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=n_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zg(t,n,r,i)),(n=-1<e?t[e]:null)&&t_(n))}function t_(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Bu])Jg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rP(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=n_(t))?(Jg(n,e),n.h==0&&(n.src=null,t[e_]=null)):wf(e)}}}function rP(e){return e in _m?_m[e]:_m[e]="on"+e}function v2(e,t){if(e.fa)e=!0;else{t=new Zl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&t_(e),e=n.call(r,t)}return e}function n_(e){return e=e[e_],e instanceof Ef?e:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function r_(e){return typeof e=="function"?e:(e[wm]||(e[wm]=function(t){return e.handleEvent(t)}),e[wm])}function ht(){Ki.call(this),this.i=new Ef(this),this.S=this,this.J=null}ft(ht,Ki);ht.prototype[Bu]=!0;ht.prototype.removeEventListener=function(e,t,n,r){nP(this,e,t,n,r)};function St(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Nt(t,e);else if(t instanceof Nt)t.target=t.target||e;else{var i=t;t=new Nt(r,e),JA(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Yc(o,r,!0,t)&&i}if(o=t.g=e,i=Yc(o,r,!0,t)&&i,i=Yc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Yc(o,r,!1,t)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wf(n[r]);delete e.g[t],e.h--}}this.J=null};ht.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ht.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Yc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Jg(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var i_=re.JSON.stringify;class y2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function _2(){var e=s_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class w2{constructor(){this.h=this.g=null}add(t,n){const r=iP.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iP=new y2(()=>new E2,e=>e.reset());class E2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function S2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T2(e){re.setTimeout(()=>{throw e},0)}let eu,tu=!1,s_=new w2,sP=()=>{const e=re.Promise.resolve(void 0);eu=()=>{e.then(I2)}};var I2=()=>{for(var e;e=_2();){try{e.h.call(e.g)}catch(n){T2(n)}var t=iP;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tu=!1};function Sf(e,t){ht.call(this),this.h=e||1,this.g=t||re,this.j=xt(this.qb,this),this.l=Date.now()}ft(Sf,ht);B=Sf.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(o_(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Sf.$.N.call(this),o_(this),delete this.g};function a_(e,t,n){if(typeof e=="function")n&&(e=xt(e,n));else if(e&&typeof e.handleEvent=="function")e=xt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:re.setTimeout(e,t||0)}function oP(e){e.g=a_(()=>{e.g=null,e.i&&(e.i=!1,oP(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class R2 extends Ki{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:oP(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nu(e){Ki.call(this),this.h=e,this.g={}}ft(nu,Ki);var rS=[];function aP(e,t,n,r){Array.isArray(n)||(n&&(rS[0]=n.toString()),n=rS);for(var i=0;i<n.length;i++){var s=ZA(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function lP(e){Zy(e.g,function(t,n){this.g.hasOwnProperty(n)&&t_(t)},e),e.g={}}nu.prototype.N=function(){nu.$.N.call(this),lP(this)};nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tf(){this.g=!0}Tf.prototype.Ea=function(){this.g=!1};function A2(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function P2(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function So(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+D2(e,n)+(r?" "+r:"")})}function C2(e,t){e.info(function(){return"TIMEOUT: "+t})}Tf.prototype.info=function(){};function D2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return i_(n)}catch{return t}}var Gs={},iS=null;function If(){return iS=iS||new ht}Gs.Ta="serverreachability";function uP(e){Nt.call(this,Gs.Ta,e)}ft(uP,Nt);function ru(e){const t=If();St(t,new uP(t))}Gs.STAT_EVENT="statevent";function cP(e,t){Nt.call(this,Gs.STAT_EVENT,e),this.stat=t}ft(cP,Nt);function Ut(e){const t=If();St(t,new cP(t,e))}Gs.Ua="timingevent";function dP(e,t){Nt.call(this,Gs.Ua,e),this.size=t}ft(dP,Nt);function zu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){e()},t)}var Rf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function l_(){}l_.prototype.h=null;function sS(e){return e.h||(e.h=e.i())}function fP(){}var Wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u_(){Nt.call(this,"d")}ft(u_,Nt);function c_(){Nt.call(this,"c")}ft(c_,Nt);var ev;function Af(){}ft(Af,l_);Af.prototype.g=function(){return new XMLHttpRequest};Af.prototype.i=function(){return{}};ev=new Af;function Hu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new nu(this),this.P=k2,e=Kg?125:void 0,this.V=new Sf(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pP}function pP(){this.i=null,this.g="",this.h=!1}var k2=45e3,tv={},ph={};B=Hu.prototype;B.setTimeout=function(e){this.P=e};function nv(e,t,n){e.L=1,e.v=Cf(Br(t)),e.s=n,e.S=!0,mP(e,null)}function mP(e,t){e.G=Date.now(),Yu(e),e.A=Br(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),TP(n.i,"t",r),e.C=0,n=e.l.J,e.h=new pP,e.g=WP(e.l,n?t:null,!e.s),0<e.O&&(e.M=new R2(xt(e.Pa,e,e.g),e.O)),aP(e.U,e.g,"readystatechange",e.nb),t=e.I?XA(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ru(),A2(e.j,e.u,e.A,e.m,e.W,e.s)}B.nb=function(e){e=e.target;const t=this.M;t&&er(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)e:{const c=er(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Kg||this.g&&(this.h.h||this.g.ja()||uS(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?ru(3):ru(2)),Pf(this);var n=this.g.da();this.ca=n;t:if(gP(this)){var r=uS(this.g);e="";var i=r.length,s=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Tl(this);var o="";break t}this.h.i=new re.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,P2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jl(a)){var u=a;break t}}u=null}if(n=u)So(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rv(this,n);else{this.i=!1,this.o=3,Ut(12),fs(this),Tl(this);break e}}this.S?(vP(this,c,o),Kg&&this.i&&c==3&&(aP(this.U,this.V,"tick",this.mb),this.V.start())):(So(this.j,this.m,o,null),rv(this,o)),c==4&&fs(this),this.i&&!this.J&&(c==4?jP(this.l,this):(this.i=!1,Yu(this)))}else X2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),fs(this),Tl(this)}}}catch{}finally{}};function gP(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function vP(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=b2(e,n),i==ph){t==4&&(e.o=4,Ut(14),r=!1),So(e.j,e.m,null,"[Incomplete Response]");break}else if(i==tv){e.o=4,Ut(15),So(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else So(e.j,e.m,i,null),rv(e,i);gP(e)&&i!=ph&&i!=tv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ut(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),g_(t),t.M=!0,Ut(11))):(So(e.j,e.m,n,"[Invalid Chunked Response]"),fs(e),Tl(e))}B.mb=function(){if(this.g){var e=er(this.g),t=this.g.ja();this.C<t.length&&(Pf(this),vP(this,e,t),this.i&&e!=4&&Yu(this))}};function b2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ph:(n=Number(t.substring(n,r)),isNaN(n)?tv:(r+=1,r+n>t.length?ph:(t=t.slice(r,r+n),e.C=r+n,t)))}B.cancel=function(){this.J=!0,fs(this)};function Yu(e){e.Y=Date.now()+e.P,yP(e,e.P)}function yP(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=zu(xt(e.lb,e),t)}function Pf(e){e.B&&(re.clearTimeout(e.B),e.B=null)}B.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(C2(this.j,this.A),this.L!=2&&(ru(),Ut(17)),fs(this),this.o=2,Tl(this)):yP(this,this.Y-e)};function Tl(e){e.l.H==0||e.J||jP(e.l,e)}function fs(e){Pf(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,o_(e.V),lP(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function rv(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||iv(n.i,e))){if(!e.K&&iv(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)vh(n),bf(n);else break e;m_(n),Ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=zu(xt(n.ib,n),6e3));if(1>=AP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ps(n,11)}else if((e.K||n.g==e)&&vh(n),!Jl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(d_(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,xe(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=zP(r,r.J?r.pa:null,r.Y),o.K){PP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Pf(a),Yu(a)),r.g=o}else FP(r);0<n.j.length&&Of(n)}else u[0]!="stop"&&u[0]!="close"||ps(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ps(n,7):p_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ru(4)}catch{}}function O2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(yf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function x2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(yf(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function _P(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yf(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=x2(e),r=O2(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var wP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _s(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _s){this.h=e.h,mh(this,e.j),this.s=e.s,this.g=e.g,gh(this,e.m),this.l=e.l;var t=e.i,n=new iu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),oS(this,n),this.o=e.o}else e&&(t=String(e).match(wP))?(this.h=!1,mh(this,t[1]||"",!0),this.s=ll(t[2]||""),this.g=ll(t[3]||"",!0),gh(this,t[4]),this.l=ll(t[5]||"",!0),oS(this,t[6]||"",!0),this.o=ll(t[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}_s.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ul(t,aS,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ul(t,aS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ul(n,n.charAt(0)=="/"?L2:$2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ul(n,V2)),e.join("")};function Br(e){return new _s(e)}function mh(e,t,n){e.j=n?ll(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function oS(e,t,n){t instanceof iu?(e.i=t,j2(e.i,e.h)):(n||(t=ul(t,F2)),e.i=new iu(t,e.h))}function xe(e,t,n){e.i.set(t,n)}function Cf(e){return xe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ll(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ul(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,M2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function M2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var aS=/[#\/\?@]/g,$2=/[#\?:]/g,L2=/[#\?]/g,F2=/[#\?@]/g,V2=/#/g;function iu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qi(e){e.g||(e.g=new Map,e.h=0,e.i&&N2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=iu.prototype;B.add=function(e,t){Qi(this),this.i=null,e=ga(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function EP(e,t){Qi(e),t=ga(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function SP(e,t){return Qi(e),t=ga(e,t),e.g.has(t)}B.forEach=function(e,t){Qi(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};B.ta=function(){Qi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};B.Z=function(e){Qi(this);let t=[];if(typeof e=="string")SP(this,e)&&(t=t.concat(this.g.get(ga(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return Qi(this),this.i=null,e=ga(this,e),SP(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function TP(e,t,n){EP(e,t),0<n.length&&(e.i=null,e.g.set(ga(e,t),Xy(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function ga(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function j2(e,t){t&&!e.j&&(Qi(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(EP(this,r),TP(this,i,n))},e)),e.j=t}var U2=class{constructor(e,t){this.g=e,this.map=t}};function IP(e){this.l=e||B2,re.PerformanceNavigationTiming?(e=re.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var B2=10;function RP(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function AP(e){return e.h?1:e.g?e.g.size:0}function iv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function d_(e,t){e.g?e.g.add(t):e.h=t}function PP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}IP.prototype.cancel=function(){if(this.i=CP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function CP(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Xy(e.i)}var z2=class{stringify(e){return re.JSON.stringify(e,void 0)}parse(e){return re.JSON.parse(e,void 0)}};function W2(){this.g=new z2}function H2(e,t,n){const r=n||"";try{_P(e,function(i,s){let o=i;Uu(i)&&(o=i_(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Y2(e,t){const n=new Tf;if(re.Image){const r=new Image;r.onload=Hc(qc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hc(qc,n,r,"TestLoadImage: error",!1,t),r.onabort=Hc(qc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hc(qc,n,r,"TestLoadImage: timeout",!1,t),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function qc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function qu(e){this.l=e.ec||null,this.j=e.ob||!1}ft(qu,l_);qu.prototype.g=function(){return new Df(this.l,this.j)};qu.prototype.i=function(e){return function(){return e}}({});function Df(e,t){ht.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=h_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Df,ht);var h_=0;B=Df.prototype;B.open=function(e,t){if(this.readyState!=h_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,su(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=h_};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DP(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function DP(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gu(this):su(this),this.readyState==3&&DP(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,Gu(this))};B.Ya=function(e){this.g&&(this.response=e,Gu(this))};B.ka=function(){this.g&&Gu(this)};function Gu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,su(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function su(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var q2=re.JSON.parse;function Ge(e){ht.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kP,this.L=this.M=!1}ft(Ge,ht);var kP="",G2=/^https?$/i,K2=["POST","PUT"];B=Ge.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ev.g(),this.C=this.u?sS(this.u):sS(ev),this.g.onreadystatechange=xt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){lS(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&e instanceof re.FormData,!(0<=qA(K2,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xP(this),0<this.B&&((this.L=Q2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.ua,this)):this.A=a_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lS(this,s)}};function Q2(e){return qo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof Qy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function lS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bP(e),kf(e)}function bP(e){e.F||(e.F=!0,St(e,"complete"),St(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,St(this,"complete"),St(this,"abort"),kf(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kf(this,!0)),Ge.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?OP(this):this.kb())};B.kb=function(){OP(this)};function OP(e){if(e.h&&typeof Qy<"u"&&(!e.C[1]||er(e)!=4||e.da()!=2)){if(e.v&&er(e)==4)a_(e.La,0,e);else if(St(e,"readystatechange"),er(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(wP)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!G2.test(i?i.toLowerCase():"")}n=r}if(n)St(e,"complete"),St(e,"success");else{e.m=6;try{var s=2<er(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",bP(e)}}finally{kf(e)}}}}function kf(e,t){if(e.g){xP(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||St(e,"ready");try{n.onreadystatechange=r}catch{}}}function xP(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(re.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function er(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),q2(t)}};function uS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case kP:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function X2(e){const t={};e=(e.g&&2<=er(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Jl(e[r]))continue;var n=S2(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}m2(t,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NP(e){let t="";return Zy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function f_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):xe(e,t,n))}function Ya(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function MP(e){this.Ga=0,this.j=[],this.l=new Tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,e),this.hb=Ya("retryDelaySeedMs",1e4,e),this.eb=Ya("forwardChannelMaxRetries",2,e),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new IP(e&&e.concurrentRequestLimit),this.Ja=new W2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=MP.prototype;B.ra=8;B.H=1;function p_(e){if($P(e),e.H==3){var t=e.W++,n=Br(e.I);if(xe(n,"SID",e.K),xe(n,"RID",t),xe(n,"TYPE","terminate"),Ku(e,n),t=new Hu(e,e.l,t),t.L=2,t.v=Cf(Br(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=t.v,n=!0),n||(t.g=WP(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yu(t)}BP(e)}function bf(e){e.g&&(g_(e),e.g.cancel(),e.g=null)}function $P(e){bf(e),e.u&&(re.clearTimeout(e.u),e.u=null),vh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&re.clearTimeout(e.m),e.m=null)}function Of(e){if(!RP(e.i)&&!e.m){e.m=!0;var t=e.Na;eu||sP(),tu||(eu(),tu=!0),s_.add(t,e),e.C=0}}function J2(e,t){return AP(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=zu(xt(e.Na,e,t),UP(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Hu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=XA(s),JA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=LP(this,i,t),n=Br(this.I),xe(n,"RID",e),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),Ku(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(NP(s)))+"&"+t:this.o&&f_(n,this.o,s)),d_(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",t),xe(n,"SID","null"),i.aa=!0,nv(i,n,null)):nv(i,n,t),this.H=2}}else this.H==3&&(e?cS(this,e):this.j.length==0||RP(this.i)||cS(this))};function cS(e,t){var n;t?n=t.m:n=e.W++;const r=Br(e.I);xe(r,"SID",e.K),xe(r,"RID",n),xe(r,"AID",e.V),Ku(e,r),e.o&&e.s&&f_(r,e.o,e.s),n=new Hu(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=LP(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),d_(e.i,n),nv(n,r,t)}function Ku(e,t){e.na&&Zy(e.na,function(n,r){xe(t,r,n)}),e.h&&_P({},function(n,r){xe(t,r,n)})}function LP(e,t,n){n=Math.min(e.j.length,n);var r=e.h?xt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{H2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function FP(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;eu||sP(),tu||(eu(),tu=!0),s_.add(t,e),e.A=0}}function m_(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=zu(xt(e.Ma,e),UP(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,VP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=zu(xt(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ut(10),bf(this),VP(this))};function g_(e){e.B!=null&&(re.clearTimeout(e.B),e.B=null)}function VP(e){e.g=new Hu(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Br(e.wa);xe(t,"RID","rpc"),xe(t,"SID",e.K),xe(t,"AID",e.V),xe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xe(t,"TO",e.qa),xe(t,"TYPE","xmlhttp"),Ku(e,t),e.o&&e.s&&f_(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Cf(Br(t)),n.s=null,n.S=!0,mP(n,e)}B.ib=function(){this.v!=null&&(this.v=null,bf(this),m_(this),Ut(19))};function vh(e){e.v!=null&&(re.clearTimeout(e.v),e.v=null)}function jP(e,t){var n=null;if(e.g==t){vh(e),g_(e),e.g=null;var r=2}else if(iv(e.i,t))n=t.F,PP(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=If(),St(r,new dP(r,n)),Of(e)}else FP(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&J2(e,t)||r==2&&m_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ps(e,5);break;case 4:ps(e,10);break;case 3:ps(e,6);break;default:ps(e,2)}}}function UP(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ps(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=xt(e.pb,e);n||(n=new _s("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||mh(n,"https"),Cf(n)),Y2(n.toString(),r)}else Ut(2);e.H=0,e.h&&e.h.za(t),BP(e),$P(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ut(2)):(this.l.info("Failed to ping google.com"),Ut(1))};function BP(e){if(e.H=0,e.ma=[],e.h){const t=CP(e.i);(t.length!=0||e.j.length!=0)&&(eS(e.ma,t),eS(e.ma,e.j),e.i.i.length=0,Xy(e.j),e.j.length=0),e.h.ya()}}function zP(e,t,n){var r=n instanceof _s?Br(n):new _s(n);if(r.g!="")t&&(r.g=t+"."+r.g),gh(r,r.m);else{var i=re.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _s(null);r&&mh(s,r),t&&(s.g=t),i&&gh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&xe(r,n,t),xe(r,"VER",e.ra),Ku(e,r),r}function WP(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ge(new qu({ob:!0})):new Ge(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function HP(){}B=HP.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function yh(){if(qo&&!(10<=Number(d2)))throw Error("Environmental error: no available transport.")}yh.prototype.g=function(e,t){return new dn(e,t)};function dn(e,t){ht.call(this),this.g=new MP(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jl(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new va(this)}ft(dn,ht);dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ut(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zP(e,null,e.Y),Of(e)};dn.prototype.close=function(){p_(this.g)};dn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=i_(e),e=n);t.j.push(new U2(t.fb++,e)),t.H==3&&Of(t)};dn.prototype.N=function(){this.g.h=null,delete this.j,p_(this.g),delete this.g,dn.$.N.call(this)};function YP(e){u_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ft(YP,u_);function qP(){c_.call(this),this.status=1}ft(qP,c_);function va(e){this.g=e}ft(va,HP);va.prototype.Ba=function(){St(this.g,"a")};va.prototype.Aa=function(e){St(this.g,new YP(e))};va.prototype.za=function(e){St(this.g,new qP)};va.prototype.ya=function(){St(this.g,"b")};function Z2(){this.blockSize=-1}function Un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ft(Un,Z2);Un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Em(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Un.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Em(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Em(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Em(this,r),i=0;break}}this.h=i,this.i+=t};Un.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Re(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var eF={};function v_(e){return-128<=e&&128>e?l2(e,function(t){return new Re([t|0],0>t?-1:0)}):new Re([e|0],0>e?-1:0)}function tr(e){if(isNaN(e)||!isFinite(e))return bo;if(0>e)return _t(tr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sv;return new Re(t,0)}function GP(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return _t(GP(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tr(Math.pow(t,8)),r=bo,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=tr(Math.pow(t,s)),r=r.R(s).add(tr(o))):(r=r.R(n),r=r.add(tr(o)))}return r}var sv=4294967296,bo=v_(0),ov=v_(1),dS=v_(16777216);B=Re.prototype;B.ea=function(){if(_n(this))return-_t(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sv+r)*t,t*=sv}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Cr(this))return"0";if(_n(this))return"-"+_t(this).toString(e);for(var t=tr(Math.pow(e,6)),n=this,r="";;){var i=wh(n,t).g;n=_h(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Cr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function _n(e){return e.h==-1}B.X=function(e){return e=_h(this,e),_n(e)?-1:Cr(e)?0:1};function _t(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Re(n,~e.h).add(ov)}B.abs=function(){return _n(this)?_t(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function _h(e,t){return e.add(_t(t))}B.R=function(e){if(Cr(this)||Cr(e))return bo;if(_n(this))return _n(e)?_t(this).R(_t(e)):_t(_t(this).R(e));if(_n(e))return _t(this.R(_t(e)));if(0>this.X(dS)&&0>e.X(dS))return tr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Gc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Gc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Re(n,0)};function Gc(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function qa(e,t){this.g=e,this.h=t}function wh(e,t){if(Cr(t))throw Error("division by zero");if(Cr(e))return new qa(bo,bo);if(_n(e))return t=wh(_t(e),t),new qa(_t(t.g),_t(t.h));if(_n(t))return t=wh(e,_t(t)),new qa(_t(t.g),t.h);if(30<e.g.length){if(_n(e)||_n(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ov,r=t;0>=r.X(e);)n=hS(n),r=hS(r);var i=no(n,1),s=no(r,1);for(r=no(r,2),n=no(n,2);!Cr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=no(r,1),n=no(n,1)}return t=_h(e,i.R(t)),new qa(i,t)}for(i=bo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=tr(n),o=s.R(t);_n(o)||0<o.X(e);)n-=r,s=tr(n),o=s.R(t);Cr(s)&&(s=ov),i=i.add(s),e=_h(e,o)}return new qa(i,e)}B.gb=function(e){return wh(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Re(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Re(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Re(n,this.h^e.h)};function hS(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Re(n,e.h)}function no(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Re(i,e.h)}yh.prototype.createWebChannel=yh.prototype.g;dn.prototype.send=dn.prototype.u;dn.prototype.open=dn.prototype.m;dn.prototype.close=dn.prototype.close;Rf.NO_ERROR=0;Rf.TIMEOUT=8;Rf.HTTP_ERROR=6;hP.COMPLETE="complete";fP.EventType=Wu;Wu.OPEN="a";Wu.CLOSE="b";Wu.ERROR="c";Wu.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;Un.prototype.digest=Un.prototype.l;Un.prototype.reset=Un.prototype.reset;Un.prototype.update=Un.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=tr;Re.fromString=GP;var tF=function(){return new yh},nF=function(){return If()},Sm=Rf,rF=hP,iF=Gs,fS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sF=qu,Kc=fP,oF=Ge,aF=Un,Oo=Re;const pS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new qy("@firebase/firestore");function Ga(){return bs.logLevel}function Q(e,...t){if(bs.logLevel<=he.DEBUG){const n=t.map(y_);bs.debug(`Firestore (${ya}): ${e}`,...n)}}function zr(e,...t){if(bs.logLevel<=he.ERROR){const n=t.map(y_);bs.error(`Firestore (${ya}): ${e}`,...n)}}function Go(e,...t){if(bs.logLevel<=he.WARN){const n=t.map(y_);bs.warn(`Firestore (${ya}): ${e}`,...n)}}function y_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e="Unexpected state"){const t=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+e;throw zr(t),new Error(t)}function $e(e,t){e||ne()}function oe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Xr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class uF{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cF{constructor(t){this.t=t,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new KP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new kt(t)}}class dF{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hF{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new dF(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pF{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new fF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=mF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Se(e,t){return e<t?-1:e>t?1:0}function Ko(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new se(t)}static min(){return new se(new Xe(0,0))}static max(){return new se(new Xe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n,r){n===void 0?n=0:n>t.length&&ne(),r===void 0?r=t.length-n:r>t.length-n&&ne(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ou.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ou?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ne extends ou{construct(t,n,r){return new Ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new K(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const gF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ou{construct(t,n,r){return new wt(t,n,r)}static isValidIdentifier(t){return gF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new K(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Ne.fromString(t))}static fromName(t){return new Z(Ne.fromString(t).popFirst(5))}static empty(){return new Z(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Ne(t.slice()))}}function vF(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new ji(i,Z.empty(),t)}function yF(e){return new ji(e.readTime,e.key,-1)}class ji{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ji(se.min(),Z.empty(),-1)}static max(){return new ji(se.max(),Z.empty(),-1)}}function _F(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==wF)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Xu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}__._e=-1;function xf(e){return e==null}function Eh(e){return e===0&&1/e==-1/0}function SF(e){return typeof e=="number"&&Number.isInteger(e)&&!Eh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ks(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function XP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.comparator=t,this.root=n||yt.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qc(this.root,t,this.comparator,!0)}}class Qc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new yt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const t=this.left.check();if(t!==this.right.check())throw ne();return t+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,n,r,i,s){return this}insert(t,n,r){return new yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gS(this.data.getIterator())}getIteratorFrom(t){return new gS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Tt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tt(this.comparator);return n.data=t,n}}class gS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.fields=t,t.sort(wt.comparator)}static empty(){return new ln([])}unionWith(t){let n=new Tt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JP("Invalid base64 string: "+s):s}}(t);return new Ft(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Ft(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const TF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(e){if($e(!!e),typeof e=="string"){let t=0;const n=TF.exec(e);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:et(e.seconds),nanos:et(e.nanos)}}function et(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Os(e){return typeof e=="string"?Ft.fromBase64String(e):Ft.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E_(e){const t=e.mapValue.fields.__previous_value__;return w_(t)?E_(t):t}function au(e){const t=Ui(e.mapValue.fields.__local_write_time__.timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class lu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?w_(e)?4:RF(e)?9007199254740991:10:ne()}function hr(e,t){if(e===t)return!0;const n=xs(e);if(n!==xs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return au(e).isEqual(au(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ui(i.timestampValue),a=Ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Os(i.bytesValue).isEqual(Os(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Eh(o)===Eh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],hr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mS(o)!==mS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(e,t);default:return ne()}}function uu(e,t){return(e.values||[]).find(n=>hr(n,t))!==void 0}function Qo(e,t){if(e===t)return 0;const n=xs(e),r=xs(t);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return vS(e.timestampValue,t.timestampValue);case 4:return vS(au(e),au(t));case 5:return Se(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Os(s),l=Os(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Se(et(s.latitude),et(o.latitude));return a!==0?a:Se(et(s.longitude),et(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Qo(a[u],l[u]);if(c)return c}return Se(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Xc.mapValue&&o===Xc.mapValue)return 0;if(s===Xc.mapValue)return 1;if(o===Xc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Se(l[d],c[d]);if(h!==0)return h;const f=Qo(a[l[d]],u[c[d]]);if(f!==0)return f}return Se(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ne()}}function vS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Se(e,t);const n=Ui(e),r=Ui(t),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Xo(e){return av(e)}function av(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Os(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=av(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${av(n.fields[o])}`;return i+"}"}(e.mapValue):ne()}function yS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lv(e){return!!e&&"integerValue"in e}function S_(e){return!!e&&"arrayValue"in e}function _S(e){return!!e&&"nullValue"in e}function wS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _d(e){return!!e&&"mapValue"in e}function Il(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ks(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Il(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Il(e.arrayValue.values[n]);return t}return Object.assign({},e)}function RF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.value=t}static empty(){return new Kt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(n)}setAll(t){let n=wt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];_d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ks(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Kt(Il(this.value))}}function ZP(e){const t=[];return Ks(e.fields,(n,r)=>{const i=new wt([n]);if(_d(r)){const s=ZP(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ot(t,0,se.min(),se.min(),se.min(),Kt.empty(),0)}static newFoundDocument(t,n,r,i){return new Ot(t,1,n,se.min(),r,i,0)}static newNoDocument(t,n){return new Ot(t,2,n,se.min(),se.min(),Kt.empty(),0)}static newUnknownDocument(t,n){return new Ot(t,3,n,se.min(),se.min(),Kt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ot&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n){this.position=t,this.inclusive=n}}function ES(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n="asc"){this.field=t,this.dir=n}}function AF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nt extends eC{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new CF(t,n,r):n==="array-contains"?new bF(t,r):n==="in"?new OF(t,r):n==="not-in"?new xF(t,r):n==="array-contains-any"?new NF(t,r):new nt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new DF(t,r):new kF(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends eC{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Bn(t,n)}matches(t){return tC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tC(e){return e.op==="and"}function nC(e){return PF(e)&&tC(e)}function PF(e){for(const t of e.filters)if(t instanceof Bn)return!1;return!0}function uv(e){if(e instanceof nt)return e.field.canonicalString()+e.op.toString()+Xo(e.value);if(nC(e))return e.filters.map(t=>uv(t)).join(",");{const t=e.filters.map(n=>uv(n)).join(",");return`${e.op}(${t})`}}function rC(e,t){return e instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(e,t):e instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rC(o,i.filters[a]),!0):!1}(e,t):void ne()}function iC(e){return e instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(e):e instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(iC).join(" ,")+"}"}(e):"Filter"}class CF extends nt{constructor(t,n,r){super(t,n,r),this.key=Z.fromName(r.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class DF extends nt{constructor(t,n){super(t,"in",n),this.keys=sC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kF extends nt{constructor(t,n){super(t,"not-in",n),this.keys=sC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class bF extends nt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return S_(n)&&uu(n.arrayValue,this.value)}}class OF extends nt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class xF extends nt{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!uu(this.value.arrayValue,n)}}class NF extends nt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!S_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function TS(e,t=null,n=[],r=[],i=null,s=null,o=null){return new MF(e,t,n,r,i,s,o)}function T_(e){const t=oe(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>uv(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Xo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Xo(r)).join(",")),t.ce=n}return t.ce}function I_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!AF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!SS(e.startAt,t.startAt)&&SS(e.endAt,t.endAt)}function cv(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function $F(e,t,n,r,i,s,o,a){return new Ju(e,t,n,r,i,s,o,a)}function R_(e){return new Ju(e)}function IS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oC(e){return e.collectionGroup!==null}function Rl(e){const t=oe(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Th(s,r))}),n.has(wt.keyField().canonicalString())||t.le.push(new Th(wt.keyField(),r))}return t.le}function sr(e){const t=oe(e);return t.he||(t.he=LF(t,Rl(e))),t.he}function LF(e,t){if(e.limitType==="F")return TS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Th(i.field,s)});const n=e.endAt?new Sh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sh(e.startAt.position,e.startAt.inclusive):null;return TS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dv(e,t){const n=e.filters.concat([t]);return new Ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hv(e,t,n){return new Ju(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nf(e,t){return I_(sr(e),sr(t))&&e.limitType===t.limitType}function aC(e){return`${T_(sr(e))}|lt:${e.limitType}`}function io(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iC(i)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xo(i)).join(",")),`Target(${r})`}(sr(e))}; limitType=${e.limitType})`}function Mf(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Rl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ES(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),i)||r.endAt&&!function(o,a,l){const u=ES(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),i))}(e,t)}function FF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lC(e){return(t,n)=>{let r=!1;for(const i of Rl(e)){const s=VF(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VF(e,t,n){const r=e.field.isKeyField()?Z.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Qo(l,u):ne()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return XP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new He(Z.comparator);function Wr(){return jF}const uC=new He(Z.comparator);function cl(...e){let t=uC;for(const n of e)t=t.insert(n.key,n);return t}function cC(e){let t=uC;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ms(){return Al()}function dC(){return Al()}function Al(){return new _a(e=>e.toString(),(e,t)=>e.isEqual(t))}const UF=new He(Z.comparator),BF=new Tt(Z.comparator);function ue(...e){let t=BF;for(const n of e)t=t.add(n);return t}const zF=new Tt(Se);function WF(){return zF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function fC(e){return{integerValue:""+e}}function HF(e,t){return SF(t)?fC(t):hC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function YF(e,t,n){return e instanceof Ih?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&w_(s)&&(s=E_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Jo?mC(e,t):e instanceof cu?gC(e,t):function(i,s){const o=pC(i,s),a=RS(o)+RS(i.Ie);return lv(o)&&lv(i.Ie)?fC(a):hC(i.serializer,a)}(e,t)}function qF(e,t,n){return e instanceof Jo?mC(e,t):e instanceof cu?gC(e,t):n}function pC(e,t){return e instanceof Rh?function(r){return lv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Ih extends $f{}class Jo extends $f{constructor(t){super(),this.elements=t}}function mC(e,t){const n=vC(t);for(const r of e.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends $f{constructor(t){super(),this.elements=t}}function gC(e,t){let n=vC(t);for(const r of e.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class Rh extends $f{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function RS(e){return et(e.integerValue||e.doubleValue)}function vC(e){return S_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(t,n){this.field=t,this.transform=n}}function KF(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Jo&&i instanceof Jo||r instanceof cu&&i instanceof cu?Ko(r.elements,i.elements,hr):r instanceof Rh&&i instanceof Rh?hr(r.Ie,i.Ie):r instanceof Ih&&i instanceof Ih}(e.transform,t.transform)}class QF{constructor(t,n){this.version=t,this.transformResults=n}}class or{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lf{}function yC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wC(e.key,or.none()):new Zu(e.key,e.data,or.none());{const n=e.data,r=Kt.empty();let i=new Tt(wt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xi(e.key,r,new ln(i.toArray()),or.none())}}function XF(e,t,n){e instanceof Zu?function(i,s,o){const a=i.value.clone(),l=PS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Xi?function(i,s,o){if(!wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=PS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_C(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Pl(e,t,n,r){return e instanceof Zu?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=s.value.clone(),c=CS(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xi?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=CS(s.fieldTransforms,l,o),c=o.data;return c.setAll(_C(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(s,o,a){return wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function JF(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=pC(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function AS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ko(r,i,(s,o)=>KF(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zu extends Lf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends Lf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _C(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function PS(e,t,n){const r=new Map;$e(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,qF(o,a,n[i]))}return r}function CS(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YF(s,o,t))}return r}class wC extends Lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZF extends Lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&XF(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Pl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=dC();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=yC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ue())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,(n,r)=>AS(n,r))&&Ko(this.baseMutations,t.baseMutations,(n,r)=>AS(n,r))}}class A_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){$e(t.mutations.length===r.length);let i=function(){return UF}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new A_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,pe;function rV(e){switch(e){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function EC(e){if(e===void 0)return zr("GRPC error has no .code"),O.UNKNOWN;switch(e){case Ze.OK:return O.OK;case Ze.CANCELLED:return O.CANCELLED;case Ze.UNKNOWN:return O.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return O.INTERNAL;case Ze.UNAVAILABLE:return O.UNAVAILABLE;case Ze.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ze.NOT_FOUND:return O.NOT_FOUND;case Ze.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ze.ABORTED:return O.ABORTED;case Ze.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ze.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}(pe=Ze||(Ze={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Oo([4294967295,4294967295],0);function DS(e){const t=iV().encode(e),n=new aF;return n.update(t),new Uint8Array(n.digest())}function kS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,s],0)]}class P_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Oo.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Oo.fromNumber(r)));return i.compare(sV)===1&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=DS(t),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new P_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=DS(t),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,ec.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ff(se.min(),i,new He(Se),Wr(),ue())}}class ec{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ec(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class SC{constructor(t,n){this.targetId=t,this.fe=n}}class TC{constructor(t,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bS{constructor(){this.ge=0,this.pe=xS(),this.ye=Ft.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new ec(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=xS()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class oV{constructor(t){this.Le=t,this.ke=new Map,this.qe=Wr(),this.Qe=OS(),this.Ke=new He(Se)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ne()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(cv(s))if(r===0){const o=new Z(s.path);this.We(n,o,Ot.newNoDocument(o,se.min()))}else $e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Os(r).toUint8Array()}catch(l){if(l instanceof JP)return Go("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new P_(o,i,s)}catch(l){return Go(l instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&cv(a.target)){const l=new Z(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ot.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Ff(t,n,this.Ke,this.qe,r);return this.qe=Wr(),this.Qe=OS(),this.Ke=new He(Se),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new bS,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Tt(Se),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new bS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function OS(){return new He(Z.comparator)}function xS(){return new He(Z.comparator)}const aV={asc:"ASCENDING",desc:"DESCENDING"},lV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uV={and:"AND",or:"OR"};class cV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fv(e,t){return e.useProto3Json||xf(t)?t:{value:t}}function Ah(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dV(e,t){return Ah(e,t.toTimestamp())}function ar(e){return $e(!!e),se.fromTimestamp(function(n){const r=Ui(n);return new Xe(r.seconds,r.nanos)}(e))}function C_(e,t){return function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function RC(e){const t=Ne.fromString(e);return $e(DC(t)),t}function pv(e,t){return C_(e.databaseId,t.path)}function Tm(e,t){const n=RC(t);if(n.get(1)!==e.databaseId.projectId)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(AC(n))}function mv(e,t){return C_(e.databaseId,t)}function hV(e){const t=RC(e);return t.length===4?Ne.emptyPath():AC(t)}function gv(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AC(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function NS(e,t,n){return{name:pv(e,t),fields:n.value.mapValue.fields}}function fV(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),Ft.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?O.UNKNOWN:EC(u.code);return new K(c,u.message||"")}(o);n=new TC(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tm(e,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):se.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ed(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Tm(e,r.document),s=r.readTime?ar(r.readTime):se.min(),o=Ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ed([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Tm(e,r.document),s=r.removedTargetIds||[];n=new Ed([],s,i,null)}else{if(!("filter"in t))return ne();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nV(i,s),a=r.targetId;n=new SC(a,o)}}return n}function pV(e,t){let n;if(t instanceof Zu)n={update:NS(e,t.key,t.value)};else if(t instanceof wC)n={delete:pv(e,t.key)};else if(t instanceof Xi)n={update:NS(e,t.key,t.data),updateMask:TV(t.fieldMask)};else{if(!(t instanceof ZF))return ne();n={verify:pv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ne()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(e,t.precondition)),n}function mV(e,t){return e&&e.length>0?($e(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(se.min())&&(o=ar(s)),new QF(o,i.transformResults||[])}(n,t))):[]}function gV(e,t){return{documents:[mv(e,t.path)]}}function vV(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=mv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return CC(Bn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:so(d.field),direction:wV(d.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=fv(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function yV(e){let t=hV(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=PC(d);return h instanceof Bn&&nC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Th(oo(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,xf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Sh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Sh(f,h)}(n.endAt)),$F(t,i,o,s,a,"F",l,u)}function _V(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PC(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oo(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oo(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oo(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(e):e.fieldFilter!==void 0?function(n){return nt.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>PC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(e):ne()}function wV(e){return aV[e]}function EV(e){return lV[e]}function SV(e){return uV[e]}function so(e){return{fieldPath:e.canonicalString()}}function oo(e){return wt.fromServerFormat(e.fieldPath)}function CC(e){return e instanceof nt?function(n){if(n.op==="=="){if(wS(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(_S(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wS(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(_S(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:EV(n.op),value:n.value}}}(e):e instanceof Bn?function(n){const r=n.getFilters().map(i=>CC(i));return r.length===1?r[0]:{compositeFilter:{op:SV(n.op),filters:r}}}(e):ne()}function TV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function DC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n,r,i,s=se.min(),o=se.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(t){this.ut=t}}function RV(e){const t=yV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.on=new PV}addToCollectionParentIndex(t,n){return this.on.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}deleteAllFieldIndexes(t){return N.resolve()}createTargetIndexes(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(ji.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(ji.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class PV{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Tt(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Tt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Zo(0)}static Nn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.changes=new _a(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ot.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Pl(r.mutation,i,ln.empty(),Xe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ue()){const i=ms();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=cl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ms();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Wr();const o=Al(),a=function(){return Al()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pl(c.mutation,u,c.mutation.getFieldMask(),Xe.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new DV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Al();let i=new He((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=dC();c.forEach(h=>{if(!s.has(h)){const f=yC(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(ms());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ue())).next(c=>({batchId:a,changes:cC(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(t,s).next(a=>N.forEach(a,l=>{const u=function(d,h){return new Ju(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ot.newInvalidDocument(c)))});let a=cl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Pl(c.mutation,u,ln.empty(),Xe.now()),Mf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return N.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),N.resolve()}getNamedQuery(t,n){return N.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:RV(i.bundledQuery),readTime:ar(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.overlays=new He(Z.comparator),this.lr=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ms();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=ms(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new He((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ms(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ms(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tV(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.hr=new Tt(lt.Pr),this.Ir=new Tt(lt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new lt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new lt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new Z(new Ne([])),r=new lt(n,t),i=new lt(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new Z(new Ne([])),r=new lt(n,t),i=new lt(n,t+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new lt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class lt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return Z.comparator(t.key,n.key)||Se(t.gr,n.gr)}static Tr(t,n){return Se(t.gr,n.gr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tt(lt.Pr)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Tt(Se);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),N.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new lt(new Z(s),0);let a=new Tt(Se);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),N.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$e(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return N.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new lt(n,0),i=this.yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t){this.Cr=t,this.docs=function(){return new He(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(t,n){let r=Wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Wr();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_F(yF(c),r)<=0||(i.has(c.key)||Mf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ne()}vr(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new MV(this)}getSize(t){return N.resolve(this.size)}}class MV extends CV{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t){this.persistence=t,this.Fr=new _a(n=>T_(n),I_),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Mr=0,this.Or=new D_,this.targetCount=0,this.Nr=Zo.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),N.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Zo(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.kn(n),N.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(t,n){this.Br={},this.overlays={},this.Lr=new __(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new $V(this),this.indexManager=new AV,this.remoteDocumentCache=function(i){return new NV(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new IV(n),this.Kr=new bV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OV,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new xV(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Q("MemoryPersistence","Starting transaction:",t);const i=new FV(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class FV extends EF{constructor(t){super(),this.currentSequenceNumber=t}}class k_{constructor(t){this.persistence=t,this.Gr=new D_,this.zr=null}static jr(t){return new k_(t)}get Hr(){if(this.zr)return this.zr;throw ne()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),N.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Hr,r=>{const i=Z.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return N.or([()=>N.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new b_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VV;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Ga()<=he.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),N.resolve()):(Ga()<=he.DEBUG&&Q("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ga()<=he.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sr(n))):N.resolve())}zi(t,n){if(IS(n))return N.resolve(null);let r=sr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hv(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,hv(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return IS(n)||i.isEqual(se.min())?N.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?N.resolve(null):(Ga()<=he.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(n)),this.Xi(t,o,n,vF(i,-1)).next(a=>a))})}Yi(t,n){let r=new Tt(lC(t));return n.forEach((i,s)=>{Mf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Ga()<=he.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",io(n)),this.Gi.getDocumentsMatchingQuery(t,n,ji.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new He(Se),this.ns=new _a(s=>T_(s),I_),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function BV(e,t,n,r){return new UV(e,t,n,r)}async function kC(e,t){const n=oe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function zV(e,t){const n=oe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(v=>{f=f.next(()=>c.getEntry(l,v)).next(p=>{const _=u.docVersions.get(v);$e(_!==null),p.version.compareTo(_)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function bC(e){const t=oe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function WV(e,t){const n=oe(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,_,g){return p.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=Wr(),u=ue();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(HV(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(se.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function HV(e,t,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Wr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function YV(e,t){const n=oe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function qV(e,t){const n=oe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new wi(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function vv(e,t,n){const r=oe(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xu(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function MS(e,t,n){const r=oe(e);let i=se.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=oe(l),h=d.ns.get(c);return h!==void 0?N.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,sr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:se.min(),n?s:ue())).next(a=>(GV(r,FF(t),a),{documents:a,ls:s})))}function GV(e,t,n){let r=e.rs.get(t)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class $S{constructor(){this.activeTargetIds=WF()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KV{constructor(){this.eo=new $S,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new $S,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Im(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class ZV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Im(),l=this.So(n,r);Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Go("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=XV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Im();return new Promise((o,a)=>{const l=new oF;l.setWithCredentials(!0),l.listenOnce(rF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sm.NO_ERROR:const c=l.getResponseJson();Q(Ct,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Sm.TIMEOUT:Q(Ct,`RPC '${t}' ${s} timed out`),a(new K(O.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const d=l.getStatus();if(Q(Ct,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const v=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(g)>=0?g:O.UNKNOWN}(f.status);a(new K(v,f.message))}else a(new K(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Q(Ct,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);Q(Ct,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Im(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=tF(),a=nF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new sF({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Q(Ct,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const v=new JV({co:_=>{f?Q(Ct,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(h||(Q(Ct,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Q(Ct,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),p=(_,g,m)=>{_.listen(g,y=>{try{m(y)}catch(E){setTimeout(()=>{throw E},0)}})};return p(d,Kc.EventType.OPEN,()=>{f||Q(Ct,`RPC '${t}' stream ${i} transport opened.`)}),p(d,Kc.EventType.CLOSE,()=>{f||(f=!0,Q(Ct,`RPC '${t}' stream ${i} transport closed`),v.Ro())}),p(d,Kc.EventType.ERROR,_=>{f||(f=!0,Go(Ct,`RPC '${t}' stream ${i} transport errored:`,_),v.Ro(new K(O.UNAVAILABLE,"The operation could not be completed")))}),p(d,Kc.EventType.MESSAGE,_=>{var g;if(!f){const m=_.data[0];$e(!!m);const y=m,E=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(E){Q(Ct,`RPC '${t}' stream ${i} received error:`,E);const S=E.status;let T=function(k){const C=Ze[k];if(C!==void 0)return EC(C)}(S),I=E.message;T===void 0&&(T=O.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),f=!0,v.Ro(new K(T,I)),d.close()}else Q(Ct,`RPC '${t}' stream ${i} received:`,m),v.Vo(m)}}),p(a,iF.STAT_EVENT,_=>{_.stat===fS.PROXY?Q(Ct,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===fS.NOPROXY&&Q(Ct,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(e){return new cV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new OC(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new K(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ej extends xC{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=fV(this.serializer,t),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?ar(o.readTime):se.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=gv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=cv(l)?{documents:gV(s,l)}:{query:vV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IC(s,o.resumeToken);const u=fv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Ah(s,o.snapshotVersion.toTimestamp());const u=fv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=_V(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=gv(this.serializer),n.removeTarget=t,this.e_(n)}}class tj extends xC{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if($e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=mV(t.writeResults,t.commitTime),r=ar(t.commitTime);return this.listener.I_(r,n)}return $e(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=gv(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>pV(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(O.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(O.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class rj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(zr(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.C_.add(4),await tc(u),u.M_.set("Unknown"),u.C_.delete(4),await jf(u)}(this))})}),this.M_=new rj(r,i)}}async function jf(e){if(Qs(e))for(const t of e.v_)await t(!0)}async function tc(e){for(const t of e.v_)await t(!1)}function NC(e,t){const n=oe(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),N_(n)?x_(n):wa(n).Ho()&&O_(n,t))}function MC(e,t){const n=oe(e),r=wa(n);n.D_.delete(t),r.Ho()&&$C(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Qs(n)&&n.M_.set("Unknown"))}function O_(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wa(e).u_(t)}function $C(e,t){e.x_.Oe(t),wa(e).c_(t)}function x_(e){e.x_=new oV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),wa(e).start(),e.M_.g_()}function N_(e){return Qs(e)&&!wa(e).jo()&&e.D_.size>0}function Qs(e){return oe(e).C_.size===0}function LC(e){e.x_=void 0}async function sj(e){e.D_.forEach((t,n)=>{O_(e,t)})}async function oj(e,t){LC(e),N_(e)?(e.M_.w_(t),x_(e)):e.M_.set("Unknown")}async function aj(e,t,n){if(e.M_.set("Online"),t instanceof TC&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ph(e,r)}else if(t instanceof Ed?e.x_.$e(t):t instanceof SC?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(se.min()))try{const r=await bC(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Ft.EMPTY_BYTE_STRING,c.snapshotVersion)),$C(s,l);const d=new wi(c.target,l,u,c.sequenceNumber);O_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Ph(e,r)}}async function Ph(e,t,n){if(!Xu(t))throw t;e.C_.add(1),await tc(e),e.M_.set("Offline"),n||(n=()=>bC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await jf(e)})}function FC(e,t){return t().catch(n=>Ph(e,n,t))}async function Uf(e){const t=oe(e),n=Bi(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;lj(t);)try{const i=await YV(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,uj(t,i)}catch(i){await Ph(t,i)}VC(t)&&jC(t)}function lj(e){return Qs(e)&&e.b_.length<10}function uj(e,t){e.b_.push(t);const n=Bi(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function VC(e){return Qs(e)&&!Bi(e).jo()&&e.b_.length>0}function jC(e){Bi(e).start()}async function cj(e){Bi(e).E_()}async function dj(e){const t=Bi(e);for(const n of e.b_)t.P_(n.mutations)}async function hj(e,t,n){const r=e.b_.shift(),i=A_.from(r,t,n);await FC(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Uf(e)}async function fj(e,t){t&&Bi(e).h_&&await async function(r,i){if(function(o){return rV(o)&&o!==O.ABORTED}(i.code)){const s=r.b_.shift();Bi(r).Yo(),await FC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uf(r)}}(e,t),VC(e)&&jC(e)}async function FS(e,t){const n=oe(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.C_.add(3),await tc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await jf(n)}async function pj(e,t){const n=oe(e);t?(n.C_.delete(2),await jf(n)):t||(n.C_.add(2),await tc(n),n.M_.set("Unknown"))}function wa(e){return e.O_||(e.O_=function(n,r,i){const s=oe(n);return s.A_(),new ej(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:sj.bind(null,e),Io:oj.bind(null,e),a_:aj.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),N_(e)?x_(e):e.M_.set("Unknown")):(await e.O_.stop(),LC(e))})),e.O_}function Bi(e){return e.N_||(e.N_=function(n,r,i){const s=oe(n);return s.A_(),new tj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:cj.bind(null,e),Io:fj.bind(null,e),T_:dj.bind(null,e),I_:hj.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Uf(e)):(await e.N_.stop(),e.b_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new M_(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(e,t){if(zr("AsyncQueue",`${t}: ${e}`),Xu(e))return new K(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new He(this.comparator)}static emptySet(t){return new xo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.B_=new He(Z.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ne():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ea{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(t,n,xo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.k_=void 0,this.listeners=[]}}class gj{constructor(){this.queries=new _a(t=>aC(t),Nf),this.onlineState="Unknown",this.q_=new Set}}async function UC(e,t){const n=oe(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new mj),i)try{s.k_=await n.onListen(r)}catch(o){const a=$_(o,`Initialization of query '${io(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&L_(n)}async function BC(e,t){const n=oe(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vj(e,t){const n=oe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&L_(n)}function yj(e,t,n){const r=oe(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function L_(e){e.q_.forEach(t=>{t.next()})}class zC{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ea(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=ea.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.key=t}}class HC{constructor(t){this.key=t}}class _j{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=lC(t),this.aa=new xo(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new VS,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=Mf(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?v!==p&&(r.track({type:3,doc:f}),_=!0):this.ha(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((u,c)=>function(h,f){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return v(h)-v(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new ea(this.query,t.aa,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new VS,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new HC(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new WC(r))}),n}da(t){this.ia=t.ls,this.oa=ue();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return ea.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class wj{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Ej{constructor(t){this.key=t,this.Ra=!1}}class Sj{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new _a(a=>aC(a),Nf),this.fa=new Map,this.ga=new Set,this.pa=new He(Z.comparator),this.ya=new Map,this.wa=new D_,this.Sa={},this.ba=new Map,this.Da=Zo.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Tj(e,t){const n=xj(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await qV(n.localStore,sr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Ij(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&NC(n.remoteStore,o)}return i}async function Ij(e,t,n,r,i){e.va=(d,h,f)=>async function(p,_,g,m){let y=_.view.ca(g);y.Zi&&(y=await MS(p.localStore,_.query,!1).then(({documents:T})=>_.view.ca(T,y)));const E=m&&m.targetChanges.get(_.targetId),S=_.view.applyChanges(y,p.isPrimaryClient,E);return US(p,_.targetId,S.Ta),S.snapshot}(e,d,h,f);const s=await MS(e.localStore,t,!0),o=new _j(t,s.ls),a=o.ca(s.documents),l=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);US(e,n,u.Ta);const c=new wj(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function Rj(e,t){const n=oe(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Nf(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),MC(n.remoteStore,r.targetId),yv(n,r.targetId)}).catch(Qu)):(yv(n,r.targetId),await vv(n.localStore,r.targetId,!0))}async function Aj(e,t,n){const r=Nj(e);try{const i=await function(o,a){const l=oe(o),u=Xe.now(),c=a.reduce((f,v)=>f.add(v.key),ue());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=Wr(),p=ue();return l.ss.getEntries(f,c).next(_=>{v=_,v.forEach((g,m)=>{m.isValidDocument()||(p=p.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,v)).next(_=>{d=_;const g=[];for(const m of a){const y=JF(m,d.get(m.key).overlayedDocument);y!=null&&g.push(new Xi(m.key,y,ZP(y.value.mapValue),or.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(_=>{h=_;const g=_.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,_.batchId,g)})}).then(()=>({batchId:h.batchId,changes:cC(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new He(Se)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await nc(r,i.changes),await Uf(r.remoteStore)}catch(i){const s=$_(i,"Failed to persist write");n.reject(s)}}async function YC(e,t){const n=oe(e);try{const r=await WV(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?$e(o.Ra):i.removedDocuments.size>0&&($e(o.Ra),o.Ra=!1))}),await nc(n,r,t)}catch(r){await Qu(r)}}function jS(e,t,n){const r=oe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&L_(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pj(e,t,n){const r=oe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new He(Z.comparator);o=o.insert(s,Ot.newNoDocument(s,se.min()));const a=ue().add(s),l=new Ff(se.min(),new Map,new He(Se),o,a);await YC(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),F_(r)}else await vv(r.localStore,t,!1).then(()=>yv(r,t,n)).catch(Qu)}async function Cj(e,t){const n=oe(e),r=t.batch.batchId;try{const i=await zV(n.localStore,t);GC(n,r,null),qC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Qu(i)}}async function Dj(e,t,n){const r=oe(e);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>($e(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);GC(r,t,n),qC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nc(r,i)}catch(i){await Qu(i)}}function qC(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function GC(e,t,n){const r=oe(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function yv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||KC(e,r)})}function KC(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(MC(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),F_(e))}function US(e,t,n){for(const r of n)r instanceof WC?(e.wa.addReference(r.key,t),kj(e,r)):r instanceof HC?(Q("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||KC(e,r.key)):ne()}function kj(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.ga.add(r),F_(e))}function F_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Z(Ne.fromString(t)),r=e.Da.next();e.ya.set(r,new Ej(n)),e.pa=e.pa.insert(n,r),NC(e.remoteStore,new wi(sr(R_(n.path)),r,"TargetPurposeLimboResolution",__._e))}}async function nc(e,t,n){const r=oe(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=b_.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xu(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),v=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(v);c.ts=c.ts.insert(h,p)}}}(r.localStore,s))}async function bj(e,t){const n=oe(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const r=await kC(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new K(O.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nc(n,r._s)}}function Oj(e,t){const n=oe(e),r=n.ya.get(t);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function xj(e){const t=oe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=YC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,t),t.Va.a_=vj.bind(null,t.eventManager),t.Va.Fa=yj.bind(null,t.eventManager),t}function Nj(e){const t=oe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dj.bind(null,t),t}class BS{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Vf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return BV(this.persistence,new jV,t.initialUser,this.serializer)}createPersistence(t){return new LV(k_.jr,this.serializer)}createSharedClientState(t){return new KV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mj{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bj.bind(null,this.syncEngine),await pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gj}()}createDatastore(t){const n=Vf(t.databaseInfo.databaseId),r=function(s){return new ZV(s)}(t.databaseInfo);return function(s,o,a,l){return new nj(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new ij(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>jS(this.syncEngine,n,0),function(){return LS.D()?new LS:new QV}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const d=new Sj(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=oe(n);Q("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await tc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):zr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=QP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Q("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=$_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Am(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kC(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Fj(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>FS(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>FS(t.remoteStore,s)),e._onlineComponents=t}function Lj(e){return e.name==="FirebaseError"?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Fj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Am(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Lj(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Am(e,new BS)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Am(e,new BS);return e._offlineComponents}async function XC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await zS(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await zS(e,new Mj))),e._onlineComponents}function Vj(e){return XC(e).then(t=>t.syncEngine)}async function _v(e){const t=await XC(e),n=t.eventManager;return n.onListen=Tj.bind(null,t.syncEngine),n.onUnlisten=Rj.bind(null,t.syncEngine),n}function jj(e,t,n={}){const r=new Mi;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new QC({next:h=>{o.enqueueAndForget(()=>BC(s,d)),h.fromCache&&l.source==="server"?u.reject(new K(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new zC(a,c,{includeMetadataChanges:!0,J_:!0});return UC(s,d)}(await _v(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(e,t,n){if(!n)throw new K(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Uj(e,t,n,r){if(t===!0&&r===!0)throw new K(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function HS(e){if(!Z.isDocumentKey(e))throw new K(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YS(e){if(Z.isDocumentKey(e))throw new K(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Bf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ne()}function Nr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(e);throw new K(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new K(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new K(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lF;switch(r.type){case"firstParty":return new hF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WS.get(n);r&&(Q("ComponentProvider","Removing Datastore"),WS.delete(n),r.terminate())}(this),Promise.resolve()}}function Bj(e,t,n,r={}){var i;const s=(e=Nr(e,zf))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=N$(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}e._authCredentials=new uF(new KP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class en{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class $i extends Xs{constructor(t,n,r){super(t,n,R_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new Z(t))}withConverter(t){return new $i(this.firestore,t,this._path)}}function Hr(e,t,...n){if(e=dt(e),ZC("collection","path",t),e instanceof zf){const r=Ne.fromString(t,...n);return YS(r),new $i(e,null,r)}{if(!(e instanceof en||e instanceof $i))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return YS(r),new $i(e.firestore,null,r)}}function eD(e,t,...n){if(e=dt(e),arguments.length===1&&(t=QP.newId()),ZC("doc","path",t),e instanceof zf){const r=Ne.fromString(t,...n);return HS(r),new en(e,null,new Z(r))}{if(!(e instanceof en||e instanceof $i))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ne.fromString(t,...n));return HS(r),new en(e.firestore,e instanceof $i?e.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new OC(this,"async_queue_retry"),this.iu=()=>{const n=Rm();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Xu(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=M_.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ne()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function GS(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ta extends zf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new zj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tD(this),this._firestoreClient.terminate()}}function Wj(e,t){const n=typeof e=="object"?e:WA(),r=typeof e=="string"?e:t||"(default)",i=Ky(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O$("firestore");s&&Bj(i,...s)}return i}function V_(e){return e._firestoreClient||tD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tD(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new IF(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,JC(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $j(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this._byteString=t}static fromBase64String(t){try{return new na(Ft.fromBase64String(t))}catch(n){throw new K(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new na(Ft.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new K(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Se(this._lat,t._lat)||Se(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=/^__.*__$/;class Yj{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Xi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(t,this.data,n,this.fieldTransforms)}}class nD{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Xi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Yf{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Yf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return Ch(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(rD(this.Iu)&&Hj.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class qj{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(t)}pu(t,n,r,i=!1){return new Yf({Iu:t,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U_(e){const t=e._freezeSettings(),n=Vf(e._databaseId);return new qj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gj(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);B_("Data must be an object, but it was:",o,r);const a=iD(r,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=wv(t,d,n);if(!o.contains(h))throw new K(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oD(c,h)||c.push(h)}l=new ln(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Yj(new Kt(a),l,u)}class qf extends Hf{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}function Kj(e,t,n){return new Yf({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qj extends Hf{constructor(t,n){super(t),this.yu=n}_toFieldTransform(t){const n=Kj(this,t,!0),r=this.yu.map(s=>Ea(s,n)),i=new Jo(r);return new GF(t.path,i)}isEqual(t){return this===t}}function Xj(e,t,n,r){const i=e.pu(1,t,n);B_("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();Ks(r,(l,u)=>{const c=z_(t,l,n);u=dt(u);const d=i.Ru(c);if(u instanceof qf)s.push(c);else{const h=Ea(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new ln(s);return new nD(o,a,i.fieldTransforms)}function Jj(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[wv(t,r,n)],l=[i];if(s.length%2!=0)throw new K(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(wv(t,s[h])),l.push(s[h+1]);const u=[],c=Kt.empty();for(let h=a.length-1;h>=0;--h)if(!oD(u,a[h])){const f=a[h];let v=l[h];v=dt(v);const p=o.Ru(f);if(v instanceof qf)u.push(f);else{const _=Ea(v,p);_!=null&&(u.push(f),c.set(f,_))}}const d=new ln(u);return new nD(c,d,o.fieldTransforms)}function Zj(e,t,n,r=!1){return Ea(n,e.pu(r?4:3,t))}function Ea(e,t){if(sD(e=dt(e)))return B_("Unsupported field value:",t,e),iD(e,t);if(e instanceof Hf)return function(r,i){if(!rD(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ea(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xe.fromDate(r);return{timestampValue:Ah(i.serializer,s)}}if(r instanceof Xe){const s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,s)}}if(r instanceof j_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof na)return{bytesValue:IC(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Bf(r)}`)}(e,t)}function iD(e,t){const n={};return XP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ks(e,(r,i)=>{const s=Ea(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xe||e instanceof j_||e instanceof na||e instanceof en||e instanceof Hf)}function B_(e,t,n){if(!sD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bf(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function wv(e,t,n){if((t=dt(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return z_(e,t);throw Ch("Field path arguments must be of type string or ",e,!1,void 0,n)}const eU=new RegExp("[~\\*/\\[\\]]");function z_(e,t,n){if(t.search(eU)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wf(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ch(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(O.INVALID_ARGUMENT,a+e+l)}function oD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(W_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tU extends aD{data(){return super.data()}}function W_(e,t){return typeof t=="string"?z_(e,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new K(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H_{}class nU extends H_{}function rU(e,t,...n){let r=[];t instanceof H_&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Y_).length,a=s.filter(l=>l instanceof Gf).length;if(o>1||o>0&&a>0)throw new K(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Gf extends nU{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Gf(t,n,r)}_apply(t){const n=this._parse(t);return uD(t._query,n),new Xs(t.firestore,t.converter,dv(t._query,n))}_parse(t){const n=U_(t.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){QS(d,c);const f=[];for(const v of d)f.push(KS(l,s,v));h={arrayValue:{values:f}}}else h=KS(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||QS(d,c),h=Zj(a,o,d,c==="in"||c==="not-in");return nt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function iU(e,t,n){const r=t,i=W_("where",e);return Gf._create(i,r,n)}class Y_ extends H_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Y_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)uD(o,l),o=dv(o,l)}(t._query,n),new Xs(t.firestore,t.converter,dv(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KS(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new K(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oC(t)&&n.indexOf("/")!==-1)throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ne.fromString(n));if(!Z.isDocumentKey(r))throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yS(e,new Z(r))}if(n instanceof en)return yS(e,n._key);throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function QS(e,t){if(!Array.isArray(e)||e.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uD(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sU{convertValue(t,n="none"){switch(xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ne()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ks(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new j_(et(t.latitude),et(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=E_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=Ui(t);return new Xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ne.fromString(t);$e(DC(r));const i=new lu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cD extends aD{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(W_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends cD{data(t={}){return super.data(t)}}class dD{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:aU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}class q_ extends sU{constructor(t){super(),this.firestore=t}convertBytes(t){return new na(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}function G_(e){e=Nr(e,Xs);const t=Nr(e.firestore,ta),n=V_(t),r=new q_(t);return lD(e._query),jj(n,e._query).then(i=>new dD(t,r,e,i))}function lU(e,t,n,...r){e=Nr(e,en);const i=Nr(e.firestore,ta),s=U_(i);let o;return o=typeof(t=dt(t))=="string"||t instanceof Wf?Jj(s,"updateDoc",e._key,t,n,r):Xj(s,"updateDoc",e._key,t),hD(i,[o.toMutation(e._key,or.exists(!0))])}function K_(e,t){const n=Nr(e.firestore,ta),r=eD(e),i=oU(e.converter,t);return hD(n,[Gj(U_(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function XS(e,...t){var n,r,i;e=dt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||GS(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(GS(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof en)u=Nr(e.firestore,ta),c=R_(e._key.path),l={next:d=>{t[o]&&t[o](uU(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Nr(e,Xs);u=Nr(d.firestore,ta),c=d._query;const h=new q_(u);l={next:f=>{t[o]&&t[o](new dD(u,h,d,f))},error:t[o+1],complete:t[o+2]},lD(e._query)}return function(h,f,v,p){const _=new QC(p),g=new zC(f,_,v);return h.asyncQueue.enqueueAndForget(async()=>UC(await _v(h),g)),()=>{_.Na(),h.asyncQueue.enqueueAndForget(async()=>BC(await _v(h),g))}}(V_(u),c,a,l)}function hD(e,t){return function(r,i){const s=new Mi;return r.asyncQueue.enqueueAndForget(async()=>Aj(await Vj(r),i,s)),s.promise}(V_(e),t)}function uU(e,t,n){const r=n.docs.get(t._key),i=new q_(e);return new cD(e,i,t._key,r,new hl(n.hasPendingWrites,n.fromCache),t.converter)}function cU(...e){return new Qj("arrayUnion",e)}(function(t,n=!0){(function(i){ya=i})(ma),Yo(new Ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ta(new cF(r.getProvider("auth-internal")),new pF(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ni(pS,"4.3.2",t),Ni(pS,"4.3.2","esm2017")})();function Q_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dU=fD,pD=new Vu("auth","Firebase",fD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new qy("@firebase/auth");function hU(e,...t){Dh.logLevel<=he.WARN&&Dh.warn(`Auth (${ma}): ${e}`,...t)}function Td(e,...t){Dh.logLevel<=he.ERROR&&Dh.error(`Auth (${ma}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e,...t){throw X_(e,...t)}function lr(e,...t){return X_(e,...t)}function fU(e,t,n){const r=Object.assign(Object.assign({},dU()),{[t]:n});return new Vu("auth","Firebase",r).create(t,{appName:e.name})}function X_(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return pD.create(e,...t)}function te(e,t,...n){if(!e)throw X_(t,...n)}function Dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Td(t),new Error(t)}function Yr(e,t){e||Dr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function pU(){return JS()==="http:"||JS()==="https:"}function JS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pU()||$$()||"connection"in navigator)?navigator.onLine:!0}function gU(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yr(n>t,"Short delay should be less than long delay!"),this.isMobile=M$()||L$()}get(){return mU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e,t){Yr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new rc(3e4,6e4);function Jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zr(e,t,n,r,i={}){return gD(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),mD.fetch()(vD(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function gD(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},vU),t);try{const i=new wU(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zc(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zc(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zc(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fU(e,c,u);zn(e,c)}}catch(i){if(i instanceof Xr)throw i;zn(e,"network-request-failed",{message:String(i)})}}async function ic(e,t,n,r,i={}){const s=await Zr(e,t,n,r,i);return"mfaPendingCredential"in s&&zn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function vD(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?J_(e.config,i):`${e.config.apiScheme}://${i}`}function _U(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wU{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),yU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(e,t,r);return i.customData._tokenResponse=n,i}function ZS(e){return e!==void 0&&e.enterprise!==void 0}class EU{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return _U(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function SU(e,t){return Zr(e,"GET","/v2/recaptchaConfig",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(e,t){return Zr(e,"POST","/v1/accounts:delete",t)}async function IU(e,t){return Zr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RU(e,t=!1){const n=dt(e),r=await n.getIdToken(t),i=Z_(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cl(Pm(i.auth_time)),issuedAtTime:Cl(Pm(i.iat)),expirationTime:Cl(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(e){return Number(e)*1e3}function Z_(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const i=LA(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AU(e){const t=Z_(e);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Xr&&PU(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function PU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await du(e,IU(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?bU(s.providerUserInfo):[],a=kU(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yD(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function DU(e){const t=dt(e);await kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kU(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function bU(e){return e.map(t=>{var{providerId:n}=t,r=Q_(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(e,t){const n=await gD(e,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=vD(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xU(e,t){return Zr(e,"POST","/v2/accounts:revokeToken",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return te(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OU(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hu;return r&&(te(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e,t){te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ws{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=Q_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yD(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await du(this,this.stsTokenManager.getToken(this.auth,t));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return RU(this,t)}reload(){return DU(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ws(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await du(this,TU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:E,isAnonymous:S,providerData:T,stsTokenManager:I}=n;te(y&&I,t,"internal-error");const A=hu.fromJSON(this.name,I);te(typeof y=="string",t,"internal-error"),si(d,t.name),si(h,t.name),te(typeof E=="boolean",t,"internal-error"),te(typeof S=="boolean",t,"internal-error"),si(f,t.name),si(v,t.name),si(p,t.name),si(_,t.name),si(g,t.name),si(m,t.name);const k=new ws({uid:y,auth:t,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:f,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:m});return T&&Array.isArray(T)&&(k.providerData=T.map(C=>Object.assign({},C))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new hu;i.updateFromServerResponse(n);const s=new ws({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await kh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;function kr(e){Yr(e instanceof Function,"Expected a class definition");let t=eT.get(e);return t?(Yr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_D.type="NONE";const tT=_D;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e,t,n){return`firebase:${e}:${t}:${n}`}class No{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Id(this.userKey,i.apiKey,s),this.fullPersistenceKey=Id("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ws._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new No(kr(tT),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||kr(tT);const o=Id(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ws._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ID(t))return"Blackberry";if(RD(t))return"Webos";if(ew(t))return"Safari";if((t.includes("chrome/")||ED(t))&&!t.includes("edge/"))return"Chrome";if(TD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wD(e=Lt()){return/firefox\//i.test(e)}function ew(e=Lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ED(e=Lt()){return/crios\//i.test(e)}function SD(e=Lt()){return/iemobile/i.test(e)}function TD(e=Lt()){return/android/i.test(e)}function ID(e=Lt()){return/blackberry/i.test(e)}function RD(e=Lt()){return/webos/i.test(e)}function Kf(e=Lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NU(e=Lt()){var t;return Kf(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MU(){return F$()&&document.documentMode===10}function AD(e=Lt()){return Kf(e)||TD(e)||RD(e)||ID(e)||/windows phone/i.test(e)||SD(e)}function $U(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(e,t=[]){let n;switch(e){case"Browser":n=nT(Lt());break;case"Worker":n=`${nT(Lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(e,t={}){return Zr(e,"GET","/v2/passwordPolicy",Jr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=6;class jU{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new LU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gU()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?dt(t):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FU(this),n=new jU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Vu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xU(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&kr(t)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&hU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(e){return dt(e)}class rT{constructor(t){this.auth=t,this.observer=null,this.addObserver=H$(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function CD(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",BU().appendChild(r)})}function zU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const WU="https://www.google.com/recaptcha/enterprise.js?render=",HU="recaptcha-enterprise",YU="NO_RECAPTCHA";class qU{constructor(t){this.type=HU,this.auth=Ji(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{SU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new EU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ZS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(YU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ZS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}CD(WU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function iT(e,t,n,r=!1){const i=new qU(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bh(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iT(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iT(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(e,t){const n=Ky(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(hh(s,t??{}))return i;zn(i,"already-initialized")}return n.initialize({options:t})}function KU(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function QU(e,t,n){const r=Ji(e);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=DD(t),{host:o,port:a}=XU(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||JU()}function DD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function XU(e){const t=DD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:sT(o)}}}function sT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function JU(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(t){return Dr("not implemented")}_linkToIdToken(t,n){return Dr("not implemented")}_getReauthenticationResolver(t){return Dr("not implemented")}}async function ZU(e,t){return Zr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(e,t){return ic(e,"POST","/v1/accounts:signInWithPassword",Jr(e,t))}async function kD(e,t){return Zr(e,"POST","/v1/accounts:sendOobCode",Jr(e,t))}async function t4(e,t){return kD(e,t)}async function n4(e,t){return kD(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(e,t){return ic(e,"POST","/v1/accounts:signInWithEmailLink",Jr(e,t))}async function i4(e,t){return ic(e,"POST","/v1/accounts:signInWithEmailLink",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends tw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new fu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new fu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,n,"signInWithPassword",e4);case"emailLink":return r4(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(t,r,"signUpPassword",ZU);case"emailLink":return i4(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(e,t){return ic(e,"POST","/v1/accounts:signInWithIdp",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="http://localhost";class Ns extends tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=Q_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Mo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Mo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Mo(t,n)}buildRequest(){const t={requestUri:s4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ju(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a4(e){const t=ol(al(e)).link,n=t?ol(al(t)).deep_link_id:null,r=ol(al(e)).deep_link_id;return(r?ol(al(r)).link:null)||r||n||t||e}class nw{constructor(t){var n,r,i,s,o,a;const l=ol(al(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=o4((i=l.mode)!==null&&i!==void 0?i:null);te(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=a4(t);try{return new nw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(t,n){return fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=nw.parseLink(n);return te(r,"argument-error"),fu._fromEmailAndCode(t,r.code,r.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends bD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends sc{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends sc{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends sc{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(e,t){return ic(e,"POST","/v1/accounts:signUp",Jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await ws._fromIdTokenResponse(t,r,i),o=oT(r);return new Ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=oT(r);return new Ms({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function oT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Xr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Oh(t,n,r,i)}}function OD(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(e,s,t,r):s})}async function u4(e,t,n=!1){const r=await du(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ms._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await du(e,OD(r,i,t,e),n);te(s.idToken,r,"internal-error");const o=Z_(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(e.uid===a,r,"user-mismatch"),Ms._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(e,t,n=!1){const r="signIn",i=await OD(e,r,t),s=await Ms._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function d4(e,t){return xD(Ji(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e,t,n){var r;te(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(e){const t=Ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function h4(e,t,n){const r=Ji(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ND(r,i,n),await bh(r,i,"getOobCode",n4)}async function f4(e,t,n){const r=Ji(e),o=await bh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MD(e),l}),a=await Ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function p4(e,t,n){return d4(dt(e),Sa.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MD(e),r})}async function $D(e,t){const n=dt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ND(n.auth,i,t);const{email:s}=await t4(n.auth,i);s!==e.email&&await e.reload()}function m4(e,t,n,r){return dt(e).onIdTokenChanged(t,n,r)}function g4(e,t,n){return dt(e).beforeAuthStateChanged(t,n)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){const e=Lt();return ew(e)||Kf(e)}const y4=1e3,_4=10;class FD extends LD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=v4()&&$U(),this.fallbackToPolling=AD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,_4):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FD.type="LOCAL";const w4=FD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends LD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VD.type="SESSION";const jD=VD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Qf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await E4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=rw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function T4(e){ur().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function I4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R4(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function A4(){return UD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebaseLocalStorageDb",P4=1,Nh="firebaseLocalStorage",zD="fbase_key";class oc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(e,t){return e.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function C4(){const e=indexedDB.deleteDatabase(BD);return new oc(e).toPromise()}function Sv(){const e=indexedDB.open(BD,P4);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Nh,{keyPath:zD})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Nh)?t(r):(r.close(),await C4(),t(await Sv()))})})}async function aT(e,t,n){const r=Xf(e,!0).put({[zD]:t,value:n});return new oc(r).toPromise()}async function D4(e,t){const n=Xf(e,!1).get(t),r=await new oc(n).toPromise();return r===void 0?null:r.value}function lT(e,t){const n=Xf(e,!0).delete(t);return new oc(n).toPromise()}const k4=800,b4=3;class WD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>b4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(A4()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await I4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sv();return await aT(t,xh,"1"),await lT(t,xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>D4(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Xf(i,!1).getAll();return new oc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WD.type="LOCAL";const O4=WD;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(e,t){return t?kr(t):(te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends tw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Mo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Mo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Mo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function N4(e){return xD(e.auth,new iw(e),e.bypassAuthState)}function M4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),c4(n,new iw(e),e.bypassAuthState)}async function $4(e){const{auth:t,user:n}=e;return te(n,t,"internal-error"),u4(n,new iw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N4;case"linkViaPopup":case"linkViaRedirect":return $4;case"reauthViaPopup":case"reauthViaRedirect":return M4;default:zn(this.auth,"internal-error")}}resolve(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new rc(2e3,1e4);class To extends HD{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const t=rw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,L4.get())};t()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="pendingRedirect",Rd=new Map;class V4 extends HD{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Rd.get(this.auth._key());if(!t){try{const r=await j4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Rd.set(this.auth._key(),t)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j4(e,t){const n=z4(t),r=B4(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U4(e,t){Rd.set(e._key(),t)}function B4(e){return kr(e._redirectPersistence)}function z4(e){return Id(F4,e.config.apiKey,e.name)}async function W4(e,t,n=!1){const r=Ji(e),i=x4(r,t),o=await new V4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=10*60*1e3;class Y4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!q4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!YD(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=H4&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(t))}saveEventToCache(t){this.cachedEventUids.add(uT(t)),this.lastProcessedEventTime=Date.now()}}function uT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function q4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(e,t={}){return Zr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function X4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await G4(e);for(const n of t)try{if(J4(n))return}catch{}zn(e,"unauthorized-domain")}function J4(e){const t=Ev(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q4.test(n))return!1;if(K4.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new rc(3e4,6e4);function cT(){const e=ur().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function e3(e){return new Promise((t,n)=>{var r,i,s;function o(){cT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cT(),n(lr(e,"network-request-failed"))},timeout:Z4.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=zU("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(e,"network-request-failed"))},CD(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ad=null,t})}let Ad=null;function t3(e){return Ad=Ad||e3(e),Ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new rc(5e3,15e3),r3="__/auth/iframe",i3="emulator/auth/iframe",s3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a3(e){const t=e.config;te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?J_(t,i3):`https://${e.config.authDomain}/${r3}`,r={apiKey:t.apiKey,appName:e.name,v:ma},i=o3.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function l3(e){const t=await t3(e),n=ur().gapi;return te(n,e,"internal-error"),t.open({where:document.body,url:a3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(e,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},n3.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c3=500,d3=600,h3="_blank",f3="http://localhost";class dT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p3(e,t,n,r=c3,i=d3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},u3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=ED(u)?h3:n),wD(u)&&(t=t||f3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,v])=>`${h}${f}=${v},`,"");if(NU(u)&&a!=="_self")return m3(t||"",a),new dT(null);const d=window.open(t||"",a,c);te(d,e,"popup-blocked");try{d.focus()}catch{}return new dT(d)}function m3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="__/auth/handler",v3="emulator/auth/handler",y3=encodeURIComponent("fac");async function hT(e,t,n,r,i,s){te(e.config.authDomain,e,"auth-domain-config-required"),te(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ma,eventId:i};if(t instanceof bD){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",W$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof sc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${y3}=${encodeURIComponent(l)}`:"";return`${_3(e)}?${ju(a).slice(1)}${u}`}function _3({config:e}){return e.emulator?J_(e,v3):`https://${e.authDomain}/${g3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class w3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jD,this._completeRedirectFn=W4,this._overrideRedirectResult=U4}async _openPopup(t,n,r,i){var s;Yr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hT(t,n,r,Ev(),i);return p3(t,o,rw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await hT(t,n,r,Ev(),i);return T4(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await l3(t),r=new Y4(t);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cm,{type:Cm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cm];o!==void 0&&n(!!o),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return AD()||ew()||Kf()}}const E3=w3;var fT="@firebase/auth",pT="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function I3(e){Yo(new Ds("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(e)},u=new UU(r,i,s,l);return KU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Yo(new Ds("auth-internal",t=>{const n=Ji(t.getProvider("auth").getImmediate());return(r=>new S3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(fT,pT,T3(e)),Ni(fT,pT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=5*60,A3=jA("authIdTokenMaxAge")||R3;let mT=null;const P3=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A3)return;const i=n==null?void 0:n.token;mT!==i&&(mT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Jf(e=WA()){const t=Ky(e,"auth");if(t.isInitialized())return t.getImmediate();const n=GU(e,{popupRedirectResolver:E3,persistence:[O4,w4,jD]}),r=jA("authTokenSyncURL");if(r){const s=P3(r);g4(n,s,()=>s(n.currentUser)),m4(n,o=>s(o))}const i=FA("auth");return i&&QU(n,`http://${i}`),n}I3("Browser");const C3={apiKey:"AIzaSyBdBh6oBgnUZJ6dROPNOp5Wwxyvrr8epLQ",authDomain:"mcgardens-bd0b1.firebaseapp.com",databaseURL:"https://mcgardens-bd0b1-default-rtdb.firebaseio.com",projectId:"mcgardens-bd0b1",storageBucket:"mcgardens-bd0b1.appspot.com",messagingSenderId:"102086093090",appId:"1:102086093090:web:f8c4183ccf4594d6eedd7b",measurementId:"G-G642QLL9KX"};zA(C3);const fr=Wj(),sw=Jf(),D3=async(e,t)=>{const n=Jf(),r=await p4(n,e,t);if(!r.user.emailVerified)throw new Error("Please verify your email before signing in.");return r},k3=async e=>{try{return await h4(sw,e),console.log("Password reset email sent successfully."),{success:!0,message:"Password reset email sent successfully."}}catch(t){return console.error("Error sending password reset email:",t),{success:!1,message:t.message}}},b3=async(e,t)=>{const n=Jf(),r=await f4(n,e,t);return await $D(r.user),console.log("Verification email sent."),r},O3=async e=>{const n=Jf().currentUser;return n&&!n.emailVerified?(await $D(n),{success:!0,message:"Verification email sent successfully."}):{success:!1,message:"User not found or already verified."}},gT=async()=>{const e=Hr(fr,"threads");try{return(await G_(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(t){throw console.error("Error fetching threads:",t),t}},vT=async()=>{const e=Hr(fr,"replies");try{return(await G_(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(t){throw console.error("Error fetching replies:",t),t}},x3=e=>{const t=Hr(fr,"threads"),n=Hr(fr,"replies"),r=XS(t,s=>{const o=s.docs.map(a=>({...a.data(),id:a.id}));e({threads:o})}),i=XS(n,s=>{const o=s.docs.map(a=>({...a.data(),id:a.id}));e({replies:o})});return()=>{r(),i()}},N3=async e=>{const t=Hr(fr,"threads");try{await K_(t,e),console.log("Thread added successfully:",e)}catch(n){throw console.error("Error adding thread:",n),n}},M3=async e=>{const t=Hr(fr,"replies");try{await K_(t,e),console.log("Reply added successfully:",e)}catch(n){throw console.error("Error adding reply:",n),n}},qD=async e=>{const t=Hr(fr,"calendar"),n=rU(t,iU("user","==",e));try{const i=(await G_(n)).docs.map(s=>{const o=s.data(),a=o.startDate.toDate(),l=o.endDate.toDate(),u=a.toISOString().slice(0,16),c=l.toISOString().slice(0,16),d=o.comments||[];return{...o,startDate:u,endDate:c,comments:d,docID:s.id}});return console.log("from back: ",i),i}catch(r){throw console.error("Error fetching events",r),r}},$3=async(e,t)=>{try{const n=eD(fr,"calendar",e);await lU(n,{comments:cU(t)}),console.log("Comment added successfully!")}catch(n){throw console.error("Error adding comment:",n),n}},L3=async e=>{const t=Hr(fr,"calendar").doc(e);try{await deleteDoc(t),console.log("Event deleted successfully:",eventID)}catch(n){throw console.error("Error deleting event:",n),n}},F3=async({username:e,title:t,start:n,end:r})=>{if(console.log("params passed:",e,t,n,r),!e||!t||!n||!r)throw new Error("Missing required parameters");const i=Hr(fr,"calendar"),s={user:e,title:t,startDate:Xe.fromDate(n),endDate:Xe.fromDate(r),comments:[]};try{const o=await K_(i,s);return console.log("Event added successfully:",s),console.log("Event has docId:",o.id),o.id}catch(o){throw console.error("Error adding event:",o),o}},Mh=()=>{const e=sw.currentUser;return e?e.email.split("@")[0]:null},V3=()=>{const[e,t]=R.useState([]),[n,r]=R.useState([]),[i,s]=R.useState(!1);R.useState(!1);const[o,a]=R.useState(""),[l,u]=R.useState("");R.useState("");const[c,d]=R.useState("");R.useState(0),R.useState([]),R.useState(null);const[h,f]=R.useState("");R.useEffect(()=>{(async()=>{try{const E=await gT(),S=await vT(),T=E.map(A=>({...A,replies:S.filter(k=>k.threadId===A.id)}));T.sort((A,k)=>new Date(k.created_on)-new Date(A.created_on)),S.sort((A,k)=>new Date(A.created_on)-new Date(k.created_on)),t(T),r(S);const I=await Mh();console.log(I),f(I)}catch(E){console.error("Error fetching data:",E)}})();const y=x3(({updatedThreads:E,updatedReplies:S})=>{if(console.log("Listening..."),E){console.log("HEARD THREAD");const T=E.map(I=>({...I,replies:n.filter(A=>A.threadId===I.id)}));T.sort((I,A)=>new Date(A.created_on)-new Date(I.created_on)),t(T)}if(S){console.log("HEARD REPLY");const T=e.map(I=>{const A=n.filter(k=>k.threadId===I.id);return{...I,replies:[...I.replies,...A]}});T.sort((I,A)=>new Date(A.created_on)-new Date(I.created_on)),t(T),n.sort((I,A)=>new Date(I.created_on)-new Date(A.created_on)),r(S)}});return()=>{y()}},[]);const v=()=>{s(!0)},p=async m=>{m.preventDefault();const y=new Date,E={id:WE(),title:o,text:l,author:h,created_on:y.toLocaleString(),numReplies:0};try{await N3(E);const S=[E,...e];t(S),console.log("New Thread added successfully:",E)}catch(S){console.error("Error adding thread:",S)}a(""),u(""),s(!1)},_=async(m,y)=>{m.preventDefault();const E=new Date,S={id:WE(),threadId:y.id,title:"RE:"+y.title,text:c,author:h,created_on:E.toLocaleString()};try{await M3(S);const T=[...n,S];r(T);const I=await gT(),A=await vT(),k=I.map(C=>({...C,replies:A.filter(M=>M.threadId===C.id)}));t(k),d("")}catch(T){console.error("Error adding reply:",T)}},g=()=>{a(""),u(""),s(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qs,{})}),w.jsxs("main",{className:"home",children:[!i&&w.jsx("button",{className:"create-thread-btn",onClick:v,children:"CREATE THREAD"}),i&&w.jsxs("form",{className:"create-thread-form",onSubmit:p,children:[w.jsx("h2",{className:"create-title",children:"Create a Thread"}),w.jsxs("div",{className:"create-thread-container",children:[w.jsx("label",{htmlFor:"threadTitle",children:"Title"}),w.jsx("input",{type:"text",id:"threadTitle",name:"threadTitle",required:!0,value:o,onChange:m=>a(m.target.value)}),w.jsx("p",{}),w.jsx("label",{htmlFor:"threadText",children:"Text"}),w.jsx("input",{type:"text",id:"threadText",name:"threadText",required:!0,value:l,onChange:m=>u(m.target.value)})]}),w.jsx("button",{className:"submit-btn",children:"SUBMIT THREAD"}),w.jsx("button",{className:"cancel-btn",onClick:g,children:"CANCEL POST"})]}),w.jsxs("div",{className:"thread-flex-container",children:[w.jsx("h2",{className:"home-title",children:"Check out these posts!"}),e.length===0?w.jsx("p",{children:"NO THREADS HAVE BEEN POSTED, BE THE FIRST!"}):e.map(m=>w.jsxs("div",{className:"thread-container",children:[w.jsxs("div",{className:"thread-contents",children:[w.jsxs("div",{className:"thread-info",children:[w.jsx("p",{className:"thread-title",children:m.title}),w.jsx("p",{className:"thread-author",children:m.author}),w.jsx("div",{className:"thread-date",children:w.jsxs("p",{className:"date",children:["Created On: ",m.created_on]})})]}),w.jsx("div",{className:"thread-text",children:m.text})]}),w.jsxs("div",{className:"replies-container",children:[w.jsx("div",{className:"reply-count",children:w.jsxs("p",{className:"reply-count-text",children:["Replies: ",m.replies?m.replies.length:0]})}),m.replies&&m.replies.length>0?m.replies.map(y=>w.jsx("div",{className:"reply-container",children:w.jsxs("div",{className:"reply-contents",children:[w.jsxs("div",{className:"reply-info",children:[w.jsx("p",{className:"reply-title",children:y.title}),w.jsx("p",{className:"reply-author",children:y.author}),w.jsx("div",{className:"reply-date",children:w.jsxs("p",{className:"date",children:["Created On: ",y.created_on]})})]}),w.jsx("div",{className:"reply-text",children:y.text})]})},y.id)):w.jsx("p",{children:"NO REPLIES YET! BE THE FIRST!"}),w.jsxs("form",{className:"create-reply-form",onSubmit:y=>_(y,m),children:[w.jsx("h2",{className:"create-reply-title",children:"Create a Reply"}),w.jsxs("div",{className:"create-reply-container",children:[w.jsx("label",{htmlFor:`replyText-${m.id}`,children:"Text"}),w.jsx("input",{type:"text",id:`replyText-${m.id}`,name:"replyText",required:!0,value:c,onChange:y=>d(y.target.value)})]}),w.jsx("button",{className:"submit-btn",children:"SUBMIT REPLY"})]})]})]},m.id))]})]})]})};function GD(e,t){return function(){return e.apply(t,arguments)}}const{toString:j3}=Object.prototype,{getPrototypeOf:ow}=Object,Zf=(e=>t=>{const n=j3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gr=e=>(e=e.toLowerCase(),t=>Zf(t)===e),ep=e=>t=>typeof t===e,{isArray:Ta}=Array,pu=ep("undefined");function U3(e){return e!==null&&!pu(e)&&e.constructor!==null&&!pu(e.constructor)&&Sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const KD=gr("ArrayBuffer");function B3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&KD(e.buffer),t}const z3=ep("string"),Sn=ep("function"),QD=ep("number"),tp=e=>e!==null&&typeof e=="object",W3=e=>e===!0||e===!1,Pd=e=>{if(Zf(e)!=="object")return!1;const t=ow(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H3=gr("Date"),Y3=gr("File"),q3=gr("Blob"),G3=gr("FileList"),K3=e=>tp(e)&&Sn(e.pipe),Q3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Sn(e.append)&&((t=Zf(e))==="formdata"||t==="object"&&Sn(e.toString)&&e.toString()==="[object FormData]"))},X3=gr("URLSearchParams"),J3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ac(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ta(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function XD(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const JD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZD=e=>!pu(e)&&e!==JD;function Tv(){const{caseless:e}=ZD(this)&&this||{},t={},n=(r,i)=>{const s=e&&XD(t,i)||i;Pd(t[s])&&Pd(r)?t[s]=Tv(t[s],r):Pd(r)?t[s]=Tv({},r):Ta(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ac(arguments[r],n);return t}const Z3=(e,t,n,{allOwnKeys:r}={})=>(ac(t,(i,s)=>{n&&Sn(i)?e[s]=GD(i,n):e[s]=i},{allOwnKeys:r}),e),eB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tB=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},nB=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ow(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rB=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},iB=e=>{if(!e)return null;if(Ta(e))return e;let t=e.length;if(!QD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},sB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ow(Uint8Array)),oB=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},aB=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},lB=gr("HTMLFormElement"),uB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),yT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),cB=gr("RegExp"),ek=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ac(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},dB=e=>{ek(e,(t,n)=>{if(Sn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Sn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hB=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ta(e)?r(e):r(String(e).split(t)),n},fB=()=>{},pB=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Dm="abcdefghijklmnopqrstuvwxyz",_T="0123456789",tk={DIGIT:_T,ALPHA:Dm,ALPHA_DIGIT:Dm+Dm.toUpperCase()+_T},mB=(e=16,t=tk.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function gB(e){return!!(e&&Sn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const vB=e=>{const t=new Array(10),n=(r,i)=>{if(tp(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Ta(r)?[]:{};return ac(r,(o,a)=>{const l=n(o,i+1);!pu(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},yB=gr("AsyncFunction"),_B=e=>e&&(tp(e)||Sn(e))&&Sn(e.then)&&Sn(e.catch),b={isArray:Ta,isArrayBuffer:KD,isBuffer:U3,isFormData:Q3,isArrayBufferView:B3,isString:z3,isNumber:QD,isBoolean:W3,isObject:tp,isPlainObject:Pd,isUndefined:pu,isDate:H3,isFile:Y3,isBlob:q3,isRegExp:cB,isFunction:Sn,isStream:K3,isURLSearchParams:X3,isTypedArray:sB,isFileList:G3,forEach:ac,merge:Tv,extend:Z3,trim:J3,stripBOM:eB,inherits:tB,toFlatObject:nB,kindOf:Zf,kindOfTest:gr,endsWith:rB,toArray:iB,forEachEntry:oB,matchAll:aB,isHTMLForm:lB,hasOwnProperty:yT,hasOwnProp:yT,reduceDescriptors:ek,freezeMethods:dB,toObjectSet:hB,toCamelCase:uB,noop:fB,toFiniteNumber:pB,findKey:XD,global:JD,isContextDefined:ZD,ALPHABET:tk,generateString:mB,isSpecCompliantForm:gB,toJSONObject:vB,isAsyncFn:yB,isThenable:_B};function me(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}b.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nk=me.prototype,rk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rk[e]={value:e}});Object.defineProperties(me,rk);Object.defineProperty(nk,"isAxiosError",{value:!0});me.from=(e,t,n,r,i,s)=>{const o=Object.create(nk);return b.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const wB=null;function Iv(e){return b.isPlainObject(e)||b.isArray(e)}function ik(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function wT(e,t,n){return e?e.concat(t).map(function(i,s){return i=ik(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function EB(e){return b.isArray(e)&&!e.some(Iv)}const SB=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function np(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,_){return!b.isUndefined(_[p])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(b.isDate(v))return v.toISOString();if(!l&&b.isBlob(v))throw new me("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(v)||b.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,p,_){let g=v;if(v&&!_&&typeof v=="object"){if(b.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(b.isArray(v)&&EB(v)||(b.isFileList(v)||b.endsWith(p,"[]"))&&(g=b.toArray(v)))return p=ik(p),g.forEach(function(y,E){!(b.isUndefined(y)||y===null)&&t.append(o===!0?wT([p],E,s):o===null?p:p+"[]",u(y))}),!1}return Iv(v)?!0:(t.append(wT(_,p,s),u(v)),!1)}const d=[],h=Object.assign(SB,{defaultVisitor:c,convertValue:u,isVisitable:Iv});function f(v,p){if(!b.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(v),b.forEach(v,function(g,m){(!(b.isUndefined(g)||g===null)&&i.call(t,g,b.isString(m)?m.trim():m,p,h))===!0&&f(g,p?p.concat(m):[m])}),d.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return f(e),t}function ET(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function aw(e,t){this._pairs=[],e&&np(e,this,t)}const sk=aw.prototype;sk.append=function(t,n){this._pairs.push([t,n])};sk.toString=function(t){const n=t?function(r){return t.call(this,r,ET)}:ET;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function TB(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ok(e,t,n){if(!t)return e;const r=n&&n.encode||TB,i=n&&n.serialize;let s;if(i?s=i(t,n):s=b.isURLSearchParams(t)?t.toString():new aw(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class ST{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ak={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IB=typeof URLSearchParams<"u"?URLSearchParams:aw,RB=typeof FormData<"u"?FormData:null,AB=typeof Blob<"u"?Blob:null,PB={isBrowser:!0,classes:{URLSearchParams:IB,FormData:RB,Blob:AB},protocols:["http","https","file","blob","url","data"]},lk=typeof window<"u"&&typeof document<"u",CB=(e=>lk&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),DB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lk,hasStandardBrowserEnv:CB,hasStandardBrowserWebWorkerEnv:DB},Symbol.toStringTag,{value:"Module"})),nr={...kB,...PB};function bB(e,t){return np(e,new nr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return nr.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function OB(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xB(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function uk(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&b.isArray(i)?i.length:o,l?(b.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!b.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&b.isArray(i[o])&&(i[o]=xB(i[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,i)=>{t(OB(r),i,n,0)}),n}return null}function NB(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const lw={transitional:ak,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=b.isObject(t);if(s&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return i?JSON.stringify(uk(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bB(t,this.formSerializer).toString();if((a=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return np(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),NB(t)):t}],transformResponse:[function(t){const n=this.transitional||lw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&b.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{lw.headers[e]={}});const uw=lw,MB=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$B=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&MB[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},TT=Symbol("internals");function Ka(e){return e&&String(e).trim().toLowerCase()}function Cd(e){return e===!1||e==null?e:b.isArray(e)?e.map(Cd):String(e)}function LB(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const FB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function km(e,t,n,r,i){if(b.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function VB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function jB(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class rp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const c=Ka(l);if(!c)throw new Error("header name must be a non-empty string");const d=b.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Cd(a))}const o=(a,l)=>b.forEach(a,(u,c)=>s(u,c,l));return b.isPlainObject(t)||t instanceof this.constructor?o(t,n):b.isString(t)&&(t=t.trim())&&!FB(t)?o($B(t),n):t!=null&&s(n,t,r),this}get(t,n){if(t=Ka(t),t){const r=b.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return LB(i);if(b.isFunction(n))return n.call(this,i,r);if(b.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ka(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||km(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Ka(o),o){const a=b.findKey(r,o);a&&(!n||km(r,r[a],a,n))&&(delete r[a],i=!0)}}return b.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||km(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return b.forEach(this,(i,s)=>{const o=b.findKey(r,s);if(o){n[o]=Cd(i),delete n[s];return}const a=t?VB(s):String(s).trim();a!==s&&delete n[s],n[a]=Cd(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[TT]=this[TT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ka(o);r[a]||(jB(i,o),r[a]=!0)}return b.isArray(t)?t.forEach(s):s(t),this}}rp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(rp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods(rp);const Mr=rp;function bm(e,t){const n=this||uw,r=t||n,i=Mr.from(r.headers);let s=r.data;return b.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function ck(e){return!!(e&&e.__CANCEL__)}function lc(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}b.inherits(lc,me,{__CANCEL__:!0});function UB(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const BB=nr.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];b.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),b.isString(r)&&o.push("path="+r),b.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dk(e,t){return e&&!zB(t)?WB(e,t):t}const HB=nr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=b.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function YB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qB(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function IT(e,t){let n=0;const r=qB(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const GB=typeof XMLHttpRequest<"u",KB=GB&&function(e){return new Promise(function(n,r){let i=e.data;const s=Mr.from(e.headers).normalize();let{responseType:o,withXSRFToken:a}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(b.isFormData(i)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((c=s.getContentType())!==!1){const[p,..._]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([p||"multipart/form-data",..._].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+_))}const h=dk(e.baseURL,e.url);d.open(e.method.toUpperCase(),ok(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function f(){if(!d)return;const p=Mr.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:e,request:d};UB(function(y){n(y),u()},function(y){r(y),u()},g),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new me("Request aborted",me.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let _=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||ak;e.timeoutErrorMessage&&(_=e.timeoutErrorMessage),r(new me(_,g.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,d)),d=null},nr.hasStandardBrowserEnv&&(a&&b.isFunction(a)&&(a=a(e)),a||a!==!1&&HB(h))){const p=e.xsrfHeaderName&&e.xsrfCookieName&&BB.read(e.xsrfCookieName);p&&s.set(e.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&b.forEach(s.toJSON(),function(_,g){d.setRequestHeader(g,_)}),b.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",IT(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",IT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=p=>{d&&(r(!p||p.type?new lc(null,e,d):p),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const v=YB(h);if(v&&nr.protocols.indexOf(v)===-1){r(new me("Unsupported protocol "+v+":",me.ERR_BAD_REQUEST,e));return}d.send(i||null)})},Rv={http:wB,xhr:KB};b.forEach(Rv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const RT=e=>`- ${e}`,QB=e=>b.isFunction(e)||e===null||e===!1,hk={getAdapter:e=>{e=b.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!QB(n)&&(r=Rv[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(RT).join(`
`):" "+RT(s[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Rv};function Om(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lc(null,e)}function AT(e){return Om(e),e.headers=Mr.from(e.headers),e.data=bm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hk.getAdapter(e.adapter||uw.adapter)(e).then(function(r){return Om(e),r.data=bm.call(e,e.transformResponse,r),r.headers=Mr.from(r.headers),r},function(r){return ck(r)||(Om(e),r&&r.response&&(r.response.data=bm.call(e,e.transformResponse,r.response),r.response.headers=Mr.from(r.response.headers))),Promise.reject(r)})}const PT=e=>e instanceof Mr?{...e}:e;function ra(e,t){t=t||{};const n={};function r(u,c,d){return b.isPlainObject(u)&&b.isPlainObject(c)?b.merge.call({caseless:d},u,c):b.isPlainObject(c)?b.merge({},c):b.isArray(c)?c.slice():c}function i(u,c,d){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!b.isUndefined(c))return r(void 0,c)}function o(u,c){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(PT(u),PT(c),!0)};return b.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,h=d(e[c],t[c],c);b.isUndefined(h)&&d!==a||(n[c]=h)}),n}const fk="1.6.8",cw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const CT={};cw.transitional=function(t,n,r){function i(s,o){return"[Axios v"+fk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new me(i(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!CT[o]&&(CT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function XB(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const Av={assertOptions:XB,validators:cw},oi=Av.validators;class $h{constructor(t){this.defaults=t,this.interceptors={request:new ST,response:new ST}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ra(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Av.assertOptions(r,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1),i!=null&&(b.isFunction(i)?n.paramsSerializer={serialize:i}:Av.assertOptions(i,{encode:oi.function,serialize:oi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&b.merge(s.common,s[n.method]);s&&b.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Mr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const v=[AT.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),h=v.length,c=Promise.resolve(n);d<h;)c=c.then(v[d++],v[d++]);return c}h=a.length;let f=n;for(d=0;d<h;){const v=a[d++],p=a[d++];try{f=v(f)}catch(_){p.call(this,_);break}}try{c=AT.call(this,f)}catch(v){return Promise.reject(v)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=ra(this.defaults,t);const n=dk(t.baseURL,t.url);return ok(n,t.params,t.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(t){$h.prototype[t]=function(n,r){return this.request(ra(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(ra(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$h.prototype[t]=n(),$h.prototype[t+"Form"]=n(!0)});const Dd=$h;class dw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new lc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new dw(function(i){t=i}),cancel:t}}}const JB=dw;function ZB(e){return function(n){return e.apply(null,n)}}function ez(e){return b.isObject(e)&&e.isAxiosError===!0}const Pv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pv).forEach(([e,t])=>{Pv[t]=e});const tz=Pv;function pk(e){const t=new Dd(e),n=GD(Dd.prototype.request,t);return b.extend(n,Dd.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return pk(ra(e,i))},n}const Je=pk(uw);Je.Axios=Dd;Je.CanceledError=lc;Je.CancelToken=JB;Je.isCancel=ck;Je.VERSION=fk;Je.toFormData=np;Je.AxiosError=me;Je.Cancel=Je.CanceledError;Je.all=function(t){return Promise.all(t)};Je.spread=ZB;Je.isAxiosError=ez;Je.mergeConfig=ra;Je.AxiosHeaders=Mr;Je.formToJSON=e=>uk(b.isHTMLForm(e)?new FormData(e):e);Je.getAdapter=hk.getAdapter;Je.HttpStatusCode=tz;Je.default=Je;const nz=()=>{const[e,t]=R.useState(""),[n,r]=R.useState([]),[i,s]=R.useState(!1),[o,a]=R.useState(""),l=pa(),u=h=>{t(h.target.value)},c=h=>{h.preventDefault(),s(!0),Je.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askOptimalCrops/askOptimalCrops",{location:e}).then(f=>{if(s(!1),f.data&&f.data.crops){const v=f.data.crops.split(`
`).map(p=>p.trim());r(v.filter(p=>p!=="")),a(e),t("")}else r([]),console.error("No crops data found in response:",f.data)}).catch(f=>{console.error("Failed to fetch optimal plants:",f),s(!1),r([]),t("")})},d=h=>{const f=h.substring(h.indexOf(" ")+1);l(`/plant-details?query=${encodeURIComponent(f)}`)};return w.jsxs("div",{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qs,{})}),w.jsxs("div",{className:"optimal-plants-container",children:[w.jsxs("div",{className:"search-bar-container",children:[w.jsx("h2",{children:"Find Optimal Plants For Your Garden"}),w.jsx("form",{onSubmit:c,children:w.jsxs("div",{className:"search-bar-parameters-container",children:[w.jsx("label",{htmlFor:"locationInput",className:"enter-location",children:"Enter your location:"}),w.jsx("input",{type:"text",className:"location-input",id:"locationInput",value:e,onChange:u,placeholder:"E.g., Riverdale, Bronx, NY",required:!0}),w.jsx("button",{type:"submit",className:"search-location",children:"Search"})]})})]}),i?w.jsx("p",{className:"enter-location-text",children:"Generating Information..."}):n.length>0?w.jsxs(w.Fragment,{children:[w.jsxs("h2",{children:["Optimal plants for ",o,":"]}),w.jsxs("div",{className:"optimal-plants-list-container",children:[w.jsx("div",{className:"column",children:n.slice(0,10).map((h,f)=>w.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))}),w.jsx("div",{className:"column",children:n.slice(10,20).map((h,f)=>w.jsx("div",{className:"plant-entry",onClick:()=>d(h),children:h},f))})]})]}):w.jsx("p",{className:"enter-location-text",children:"Enter location above to get list of plants."})]})]})},rz=()=>{const[e,t]=R.useState(null);return R.useEffect(()=>{const n=async()=>{try{const{geolocation:s}=navigator;if(!s){alert("Geolocation is not supported by your browser");return}const o=await new Promise((u,c)=>{s.getCurrentPosition(u,c)});console.log(o);const{latitude:a,longitude:l}=o.coords;localStorage.setItem("userLocation",JSON.stringify({latitude:a,longitude:l}))}catch(s){console.error("Error getting location:",s)}},r=async(s,o)=>{try{const l=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${s}&lon=${o}&cnt=1&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json(),u=l.list[0];console.log(u),t({city:l.city.name,condition:u.weather[0].main,max:u.temp.max,min:u.temp.min,icon:u.weather[0].icon})}catch(a){console.error("Error fetching weather data:",a)}},i=JSON.parse(localStorage.getItem("userLocation"));if(i){const{latitude:s,longitude:o}=i;r(s,o)}else r(40.9039,-73.9142);n()},[]),w.jsxs("div",{className:"container",children:[w.jsx("div",{className:"top-nav",children:w.jsx(qs,{})}),w.jsx("h1",{children:"Home Page"}),w.jsxs("div",{className:"giant-box",children:[w.jsx("div",{className:"notification-box",children:w.jsx("img",{src:"https://cdn3.vectorstock.com/i/1000x1000/79/72/notification-bell-icon-vector-34877972.jpg",alt:"Bell Icon",width:"30"})}),w.jsx("h2",{children:"MC Farm"}),w.jsxs("div",{className:"flex-container",children:[w.jsxs("div",{className:"square-box",style:{marginRight:"10px"},children:[w.jsx("h2",{children:"Weather"}),e?w.jsxs(w.Fragment,{children:[w.jsx("h3",{children:e.city}),w.jsx("p",{children:e.condition}),w.jsx("img",{src:`http://openweathermap.org/img/w/${e.icon}.png`,alt:"Weather Icon",width:"50"}),w.jsxs("p",{children:["Max: ",e.max,"°F"]}),w.jsxs("p",{children:["Min: ",e.min,"°F"]})]}):w.jsx("p",{children:"Loading weather..."})]}),w.jsxs("div",{className:"square-box",style:{marginLeft:"10px"},children:[w.jsx("h3",{children:"Inventory"}),w.jsx("p",{children:"Corn: 188"}),w.jsx("p",{children:"Wheat: 238"}),w.jsx("p",{children:"Tomatoes: 327"})]})]}),w.jsxs("div",{className:"rectangle",style:{margin:"0 auto"},children:[w.jsx("h3",{children:"Reminders"}),w.jsx("p",{children:"28 Days to harvest Corn 245"}),w.jsx("hr",{}),w.jsx("p",{children:"30 Days to sell Tomatoes"})]})]})]})};function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}function iz(e,t){if(qr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mk(e){var t=iz(e,"string");return qr(t)=="symbol"?t:t+""}function us(e,t,n){return t=mk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){us(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ip(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pr(e,t){if(e==null)return{};var n=ip(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mk(r.key),r)}}function mt(e,t,n){return t&&kT(e.prototype,t),n&&kT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(e)}function gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gk=function(){return!!e})()}function vk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sz(e,t){if(t&&(qr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vk(e)}function Ht(e,t,n){return t=Lh(t),sz(e,gk()?Reflect.construct(t,n||[],Lh(e).constructor):t.apply(e,n))}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fh(e,t)}function Yt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function yk(e){if(Array.isArray(e))return e}function oz(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hw(e,t){if(e){if(typeof e=="string")return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}}function _k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rr(e,t){return yk(e)||oz(e,t)||hw(e,t)||_k()}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}var az=function(e,t,n,r,i,s,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},lz=az;const mu=sn(lz);var uz=function(){};function cz(e,t){var n={};return Object.keys(e).forEach(function(r){n[kd(r)]=uz}),n}function bT(e,t){return e[t]!==void 0}function kd(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function dz(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function hz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fh(e,t)}function wk(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Ek(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Sk(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}wk.__suppressDeprecationWarning=!0;Ek.__suppressDeprecationWarning=!0;Sk.__suppressDeprecationWarning=!0;function fz(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=wk,t.componentWillReceiveProps=Ek),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Sk;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return e}var pz="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Tk(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",i=dz(e),s=Object.keys(t),o=s.map(kd);i||!n.length||mu(!1);var a=function(u){hz(c,u);function c(){for(var h,f=arguments.length,v=new Array(f),p=0;p<f;p++)v[p]=arguments[p];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),s.forEach(function(g){var m=t[g],y=function(S){if(h.props[m]){var T;h._notifying=!0;for(var I=arguments.length,A=new Array(I>1?I-1:0),k=1;k<I;k++)A[k-1]=arguments[k];(T=h.props)[m].apply(T,[S].concat(A)),h._notifying=!1}h.unmounted||h.setState(function(C){var M,z=C.values;return{values:qe(Object.create(null),z,(M={},M[g]=S,M))}})};h.handlers[m]=y}),n.length&&(h.attachRef=function(g){h.inner=g});var _=Object.create(null);return s.forEach(function(g){_[g]=h.props[kd(g)]}),h.state={values:_,prevProps:{}},h}var d=c.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(f,v){var p=v.values,_=v.prevProps,g={values:qe(Object.create(null),p),prevProps:{}};return s.forEach(function(m){g.prevProps[m]=f[m],!bT(f,m)&&bT(_,m)&&(g.values[m]=f[kd(m)])}),g},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var f=this,v=this.props,p=v.innerRef,_=ip(v,["innerRef"]);o.forEach(function(m){delete _[m]});var g={};return s.forEach(function(m){var y=f.props[m];g[m]=y!==void 0?y:f.state.values[m]}),P.createElement(e,qe({},_,g,this.handlers,{ref:p||this.attachRef}))},c}(P.Component);fz(a),a.displayName="Uncontrolled("+r+")",a.propTypes=qe({innerRef:function(){}},cz(t)),n.forEach(function(u){a.prototype[u]=function(){var d;return(d=this.inner)[u].apply(d,arguments)}});var l=a;return P.forwardRef&&(l=P.forwardRef(function(u,c){return P.createElement(a,qe({},u,{innerRef:c,__source:{fileName:pz,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,c,d){return c===void 0&&(c={}),Tk(u,qe({},t,c),d)},l}function Ik(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ik(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ik(e))&&(r&&(r+=" "),r+=t);return r}var Rk={exports:{}},mz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gz=mz,vz=gz;function Ak(){}function Pk(){}Pk.resetWarningCache=Ak;var yz=function(){function e(r,i,s,o,a,l){if(l!==vz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Pk,resetWarningCache:Ak};return n.PropTypes=n,n};Rk.exports=yz();var _z=Rk.exports;const F=sn(_z);var Vh="milliseconds",gu="seconds",vu="minutes",yu="hours",$s="day",ia="week",_u="month",Ls="year",Fs="decade",Vs="century",Ck={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},wz={month:1,year:12,decade:10*12,century:100*12};function Ez(e){return[31,Sz(e),31,30,31,30,31,31,30,31,30,31]}function Sz(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Wn(e,t,n){switch(e=new Date(e),n){case Vh:case gu:case vu:case yu:case $s:case ia:return Tz(e,t*Ck[n]);case _u:case Ls:case Fs:case Vs:return Iz(e,t*wz[n])}throw new TypeError('Invalid units: "'+n+'"')}function Tz(e,t){var n=new Date(+e+t);return Rz(e,n)}function Iz(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,Ez(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function Rz(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*Ck.minutes)}function wu(e,t,n){return Wn(e,-t,n)}function Rt(e,t,n){switch(e=new Date(e),t){case Vs:case Fs:case Ls:e=Uh(e,0);case _u:e=xk(e,1);case ia:case $s:e=Tu(e,0);case yu:e=sa(e,0);case vu:e=Su(e,0);case gu:e=Eu(e,0)}return t===Fs&&(e=wu(e,js(e)%10,"year")),t===Vs&&(e=wu(e,js(e)%100,"year")),t===ia&&(e=Nk(e,0,n)),e}function jh(e,t,n){switch(e=new Date(e),e=Rt(e,t,n),t){case Vs:case Fs:case Ls:case _u:case ia:e=Wn(e,1,t),e=wu(e,1,$s),e.setHours(23,59,59,999);break;case $s:e.setHours(23,59,59,999);break;case yu:case vu:case gu:e=Wn(e,1,t),e=wu(e,1,Vh)}return e}var uc=Ra(function(e,t){return e===t}),fw=Ra(function(e,t){return e!==t}),sp=Ra(function(e,t){return e>t}),cc=Ra(function(e,t){return e>=t}),pw=Ra(function(e,t){return e<t}),Ia=Ra(function(e,t){return e<=t});function Dk(){return new Date(Math.min.apply(Math,arguments))}function kk(){return new Date(Math.max.apply(Math,arguments))}function bk(e,t,n,r){return r=r||"day",(!t||cc(e,t,r))&&(!n||Ia(e,n,r))}var Eu=Zi("Milliseconds"),Su=Zi("Seconds"),sa=Zi("Minutes"),Tu=Zi("Hours"),Ok=Zi("Day"),xk=Zi("Date"),Uh=Zi("Month"),js=Zi("FullYear");function Az(e,t){return t===void 0?js(Rt(e,Fs)):Wn(e,t+10,Ls)}function Pz(e,t){return t===void 0?js(Rt(e,Vs)):Wn(e,t+100,Ls)}function Nk(e,t,n){var r=(Ok(e)+7-(n||0))%7;return t===void 0?r:Wn(e,t-r,$s)}function Cz(e,t,n,r){var i,s,o;switch(n){case Vh:case gu:case vu:case yu:case $s:case ia:i=t.getTime()-e.getTime();break;case _u:case Ls:case Fs:case Vs:i=(js(t)-js(e))*12+Uh(t)-Uh(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Vh:s=1;break;case gu:s=1e3;break;case vu:s=1e3*60;break;case yu:s=1e3*60*60;break;case $s:s=1e3*60*60*24;break;case ia:s=1e3*60*60*24*7;break;case _u:s=1;break;case Ls:s=12;break;case Fs:s=120;break;case Vs:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Zi(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Ra(e){return function(t,n,r){return e(+Rt(t,r),+Rt(n,r))}}const OT=Object.freeze(Object.defineProperty({__proto__:null,add:Wn,century:Pz,date:xk,day:Ok,decade:Az,diff:Cz,endOf:jh,eq:uc,gt:sp,gte:cc,hours:Tu,inRange:bk,lt:pw,lte:Ia,max:kk,milliseconds:Eu,min:Dk,minutes:sa,month:Uh,neq:fw,seconds:Su,startOf:Rt,subtract:wu,weekday:Nk,year:js},Symbol.toStringTag,{value:"Module"}));function Dz(e){if(Array.isArray(e))return Cv(e)}function Mk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bd(e){return Dz(e)||Mk(e)||hw(e)||kz()}function bz(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var $k=bz;function Oz(e,t){return e===t||e!==e&&t!==t}var dc=Oz,xz=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Lk=xz,Nz=Lk,Mz=typeof self=="object"&&self&&self.Object===Object&&self,$z=Nz||Mz||Function("return this")(),vr=$z,Lz=vr,Fz=Lz.Symbol,Aa=Fz,xT=Aa,Fk=Object.prototype,Vz=Fk.hasOwnProperty,jz=Fk.toString,Qa=xT?xT.toStringTag:void 0;function Uz(e){var t=Vz.call(e,Qa),n=e[Qa];try{e[Qa]=void 0;var r=!0}catch{}var i=jz.call(e);return r&&(t?e[Qa]=n:delete e[Qa]),i}var Bz=Uz,zz=Object.prototype,Wz=zz.toString;function Hz(e){return Wz.call(e)}var Yz=Hz,NT=Aa,qz=Bz,Gz=Yz,Kz="[object Null]",Qz="[object Undefined]",MT=NT?NT.toStringTag:void 0;function Xz(e){return e==null?e===void 0?Qz:Kz:MT&&MT in Object(e)?qz(e):Gz(e)}var Pa=Xz;function Jz(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ei=Jz,Zz=Pa,e9=ei,t9="[object AsyncFunction]",n9="[object Function]",r9="[object GeneratorFunction]",i9="[object Proxy]";function s9(e){if(!e9(e))return!1;var t=Zz(e);return t==n9||t==r9||t==t9||t==i9}var mw=s9,o9=9007199254740991;function a9(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=o9}var gw=a9,l9=mw,u9=gw;function c9(e){return e!=null&&u9(e.length)&&!l9(e)}var hc=c9,d9=9007199254740991,h9=/^(?:0|[1-9]\d*)$/;function f9(e,t){var n=typeof e;return t=t??d9,!!t&&(n=="number"||n!="symbol"&&h9.test(e))&&e>-1&&e%1==0&&e<t}var vw=f9,p9=dc,m9=hc,g9=vw,v9=ei;function y9(e,t,n){if(!v9(n))return!1;var r=typeof t;return(r=="number"?m9(n)&&g9(t,n.length):r=="string"&&t in n)?p9(n[t],e):!1}var op=y9,_9=/\s/;function w9(e){for(var t=e.length;t--&&_9.test(e.charAt(t)););return t}var E9=w9,S9=E9,T9=/^\s+/;function I9(e){return e&&e.slice(0,S9(e)+1).replace(T9,"")}var R9=I9;function A9(e){return e!=null&&typeof e=="object"}var es=A9,P9=Pa,C9=es,D9="[object Symbol]";function k9(e){return typeof e=="symbol"||C9(e)&&P9(e)==D9}var fc=k9,b9=R9,$T=ei,O9=fc,LT=NaN,x9=/^[-+]0x[0-9a-f]+$/i,N9=/^0b[01]+$/i,M9=/^0o[0-7]+$/i,$9=parseInt;function L9(e){if(typeof e=="number")return e;if(O9(e))return LT;if($T(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$T(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=b9(e);var n=N9.test(e);return n||M9.test(e)?$9(e.slice(2),n?2:8):x9.test(e)?LT:+e}var F9=L9,V9=F9,FT=1/0,j9=17976931348623157e292;function U9(e){if(!e)return e===0?e:0;if(e=V9(e),e===FT||e===-FT){var t=e<0?-1:1;return t*j9}return e===e?e:0}var Vk=U9,B9=Vk;function z9(e){var t=B9(e),n=t%1;return t===t?n?t-n:t:0}var jk=z9,W9=$k,H9=op,Y9=jk,q9=Math.ceil,G9=Math.max;function K9(e,t,n){(n?H9(e,t,n):t===void 0)?t=1:t=G9(Y9(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(q9(r/t));i<r;)o[s++]=W9(e,i,i+=t);return o}var Q9=K9;const X9=sn(Q9);function pc(e){return e&&e.ownerDocument||document}function J9(e){var t=pc(e);return t&&t.defaultView||window}function Z9(e,t){return J9(e).getComputedStyle(e,t)}var eW=/([A-Z])/g;function tW(e){return e.replace(eW,"-$1").toLowerCase()}var nW=/^ms-/;function ed(e){return tW(e).replace(nW,"-ms-")}var rW=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iW(e){return!!(e&&rW.test(e))}function ao(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(ed(t))||Z9(e).getPropertyValue(ed(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(ed(i)):iW(i)?r+=i+"("+s+") ":n+=ed(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Iu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function sW(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function yw(e){return"window"in e&&e.window===e?e:sW(e)&&e.defaultView||!1}function Uk(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=yw(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const Bk=Uk("pageXOffset"),zk=Uk("pageYOffset");function Es(e){var t=pc(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Iu(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+zk(r)-(r.clientTop||0),left:n.left+Bk(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var oW=function(t){return!!t&&"offsetParent"in t};function aW(e){for(var t=pc(e),n=e&&e.offsetParent;oW(n)&&n.nodeName!=="HTML"&&ao(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var lW=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function Wk(e,t){var n={top:0,left:0},r;if(ao(e,"position")==="fixed")r=e.getBoundingClientRect();else{var i=t||aW(e);r=Es(e),lW(i)!=="html"&&(n=Es(i));var s=String(ao(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-zk(i)||0;var o=String(ao(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-Bk(i)||0}var a=String(ao(e,"marginTop")||0),l=String(ao(e,"marginLeft")||0);return qe({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const _w=!!(typeof window<"u"&&window.document&&window.document.createElement);var VT=new Date().getTime();function uW(e){var t=new Date().getTime(),n=Math.max(0,16-(t-VT)),r=setTimeout(e,n);return VT=t,r}var cW=["","webkit","moz","o","ms"],Dv="clearTimeout",kv=uW,jT=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};_w&&cW.some(function(e){var t=jT(e,"request");return t in window&&(Dv=jT(e,"cancel"),kv=function(r){return window[t](r)}),!!kv});var UT=function(t){typeof window[Dv]=="function"&&window[Dv](t)},Hk=kv,xm;function dW(e,t){if(!xm){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;xm=function(s,o){return r.call(s,o)}}return xm(e,t)}var hW=Function.prototype.bind.call(Function.prototype.call,[].slice);function fW(e,t){return hW(e.querySelectorAll(t))}var bv=!1,Ov=!1;try{var Nm={get passive(){return bv=!0},get once(){return Ov=bv=!0}};_w&&(window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,!0))}catch{}function pW(e,t,n,r){if(r&&typeof r!="boolean"&&!Ov){var i=r.once,s=r.capture,o=n;!Ov&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,bv?r:s)}e.addEventListener(t,n,r)}function mW(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e},[e]),t}function BT(e){const t=mW(e);return R.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function zT(){return R.useState(null)}function gW(){const e=R.useRef(!0),t=R.useRef(()=>e.current);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function vW(e){const t=gW();return[e[0],R.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var tn="top",Rn="bottom",An="right",nn="left",ww="auto",mc=[tn,Rn,An,nn],oa="start",Ru="end",yW="clippingParents",Yk="viewport",Xa="popper",_W="reference",WT=mc.reduce(function(e,t){return e.concat([t+"-"+oa,t+"-"+Ru])},[]),Ew=[].concat(mc,[ww]).reduce(function(e,t){return e.concat([t,t+"-"+oa,t+"-"+Ru])},[]),wW="beforeRead",EW="read",SW="afterRead",TW="beforeMain",IW="main",RW="afterMain",AW="beforeWrite",PW="write",CW="afterWrite",DW=[wW,EW,SW,TW,IW,RW,AW,PW,CW];function cr(e){return e.split("-")[0]}function hn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Us(e){var t=hn(e).Element;return e instanceof t||e instanceof Element}function dr(e){var t=hn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Sw(e){if(typeof ShadowRoot>"u")return!1;var t=hn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ss=Math.max,Bh=Math.min,aa=Math.round;function xv(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qk(){return!/^((?!chrome|android).)*safari/i.test(xv())}function la(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&dr(e)&&(i=e.offsetWidth>0&&aa(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&aa(r.height)/e.offsetHeight||1);var o=Us(e)?hn(e):window,a=o.visualViewport,l=!qk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Tw(e){var t=la(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Gk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Sw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zi(e){return e?(e.nodeName||"").toLowerCase():null}function Gr(e){return hn(e).getComputedStyle(e)}function kW(e){return["table","td","th"].indexOf(zi(e))>=0}function ts(e){return((Us(e)?e.ownerDocument:e.document)||window.document).documentElement}function ap(e){return zi(e)==="html"?e:e.assignedSlot||e.parentNode||(Sw(e)?e.host:null)||ts(e)}function HT(e){return!dr(e)||Gr(e).position==="fixed"?null:e.offsetParent}function bW(e){var t=/firefox/i.test(xv()),n=/Trident/i.test(xv());if(n&&dr(e)){var r=Gr(e);if(r.position==="fixed")return null}var i=ap(e);for(Sw(i)&&(i=i.host);dr(i)&&["html","body"].indexOf(zi(i))<0;){var s=Gr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gc(e){for(var t=hn(e),n=HT(e);n&&kW(n)&&Gr(n).position==="static";)n=HT(n);return n&&(zi(n)==="html"||zi(n)==="body"&&Gr(n).position==="static")?t:n||bW(e)||t}function Iw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dl(e,t,n){return Ss(e,Bh(t,n))}function OW(e,t,n){var r=Dl(e,t,n);return r>n?n:r}function Kk(){return{top:0,right:0,bottom:0,left:0}}function Qk(e){return Object.assign({},Kk(),e)}function Xk(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var xW=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Qk(typeof t!="number"?t:Xk(t,mc))};function NW(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=cr(n.placement),l=Iw(a),u=[nn,An].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=xW(i.padding,n),h=Tw(s),f=l==="y"?tn:nn,v=l==="y"?Rn:An,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],g=gc(s),m=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=p/2-_/2,E=d[f],S=m-h[c]-d[v],T=m/2-h[c]/2+y,I=Dl(E,T,S),A=l;n.modifiersData[r]=(t={},t[A]=I,t.centerOffset=I-T,t)}}function MW(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Gk(t.elements.popper,i)&&(t.elements.arrow=i))}const $W={name:"arrow",enabled:!0,phase:"main",fn:NW,effect:MW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ua(e){return e.split("-")[1]}var LW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FW(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:aa(n*i)/i||0,y:aa(r*i)/i||0}}function YT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=o.x,f=h===void 0?0:h,v=o.y,p=v===void 0?0:v,_=typeof c=="function"?c({x:f,y:p}):{x:f,y:p};f=_.x,p=_.y;var g=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),y=nn,E=tn,S=window;if(u){var T=gc(n),I="clientHeight",A="clientWidth";if(T===hn(n)&&(T=ts(n),Gr(T).position!=="static"&&a==="absolute"&&(I="scrollHeight",A="scrollWidth")),T=T,i===tn||(i===nn||i===An)&&s===Ru){E=Rn;var k=d&&T===S&&S.visualViewport?S.visualViewport.height:T[I];p-=k-r.height,p*=l?1:-1}if(i===nn||(i===tn||i===Rn)&&s===Ru){y=An;var C=d&&T===S&&S.visualViewport?S.visualViewport.width:T[A];f-=C-r.width,f*=l?1:-1}}var M=Object.assign({position:a},u&&LW),z=c===!0?FW({x:f,y:p},hn(n)):{x:f,y:p};if(f=z.x,p=z.y,l){var q;return Object.assign({},M,(q={},q[E]=m?"0":"",q[y]=g?"0":"",q.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",q))}return Object.assign({},M,(t={},t[E]=m?p+"px":"",t[y]=g?f+"px":"",t.transform="",t))}function VW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:cr(t.placement),variation:ua(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,YT(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,YT(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const jW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VW,data:{}};var td={passive:!0};function UW(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=hn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,td)}),a&&l.addEventListener("resize",n.update,td),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,td)}),a&&l.removeEventListener("resize",n.update,td)}}const BW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UW,data:{}};var zW={left:"right",right:"left",bottom:"top",top:"bottom"};function Od(e){return e.replace(/left|right|bottom|top/g,function(t){return zW[t]})}var WW={start:"end",end:"start"};function qT(e){return e.replace(/start|end/g,function(t){return WW[t]})}function Rw(e){var t=hn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Aw(e){return la(ts(e)).left+Rw(e).scrollLeft}function HW(e,t){var n=hn(e),r=ts(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=qk();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Aw(e),y:l}}function YW(e){var t,n=ts(e),r=Rw(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Ss(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ss(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Aw(e),l=-r.scrollTop;return Gr(i||n).direction==="rtl"&&(a+=Ss(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Pw(e){var t=Gr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Jk(e){return["html","body","#document"].indexOf(zi(e))>=0?e.ownerDocument.body:dr(e)&&Pw(e)?e:Jk(ap(e))}function kl(e,t){var n;t===void 0&&(t=[]);var r=Jk(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=hn(r),o=i?[s].concat(s.visualViewport||[],Pw(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(kl(ap(o)))}function Nv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qW(e,t){var n=la(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function GT(e,t,n){return t===Yk?Nv(HW(e,n)):Us(t)?qW(t,n):Nv(YW(ts(e)))}function GW(e){var t=kl(ap(e)),n=["absolute","fixed"].indexOf(Gr(e).position)>=0,r=n&&dr(e)?gc(e):e;return Us(r)?t.filter(function(i){return Us(i)&&Gk(i,r)&&zi(i)!=="body"}):[]}function KW(e,t,n,r){var i=t==="clippingParents"?GW(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=GT(e,u,r);return l.top=Ss(c.top,l.top),l.right=Bh(c.right,l.right),l.bottom=Bh(c.bottom,l.bottom),l.left=Ss(c.left,l.left),l},GT(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Zk(e){var t=e.reference,n=e.element,r=e.placement,i=r?cr(r):null,s=r?ua(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case tn:l={x:o,y:t.y-n.height};break;case Rn:l={x:o,y:t.y+t.height};break;case An:l={x:t.x+t.width,y:a};break;case nn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?Iw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case oa:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Ru:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Au(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?yW:a,u=n.rootBoundary,c=u===void 0?Yk:u,d=n.elementContext,h=d===void 0?Xa:d,f=n.altBoundary,v=f===void 0?!1:f,p=n.padding,_=p===void 0?0:p,g=Qk(typeof _!="number"?_:Xk(_,mc)),m=h===Xa?_W:Xa,y=e.rects.popper,E=e.elements[v?m:h],S=KW(Us(E)?E:E.contextElement||ts(e.elements.popper),l,c,o),T=la(e.elements.reference),I=Zk({reference:T,element:y,strategy:"absolute",placement:i}),A=Nv(Object.assign({},y,I)),k=h===Xa?A:T,C={top:S.top-k.top+g.top,bottom:k.bottom-S.bottom+g.bottom,left:S.left-k.left+g.left,right:k.right-S.right+g.right},M=e.modifiersData.offset;if(h===Xa&&M){var z=M[i];Object.keys(C).forEach(function(q){var Ee=[An,Rn].indexOf(q)>=0?1:-1,ye=[tn,Rn].indexOf(q)>=0?"y":"x";C[q]+=z[ye]*Ee})}return C}function QW(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Ew:l,c=ua(r),d=c?a?WT:WT.filter(function(v){return ua(v)===c}):mc,h=d.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=d);var f=h.reduce(function(v,p){return v[p]=Au(e,{placement:p,boundary:i,rootBoundary:s,padding:o})[cr(p)],v},{});return Object.keys(f).sort(function(v,p){return f[v]-f[p]})}function XW(e){if(cr(e)===ww)return[];var t=Od(e);return[qT(e),t,qT(t)]}function JW(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,p=n.allowedAutoPlacements,_=t.options.placement,g=cr(_),m=g===_,y=l||(m||!v?[Od(_)]:XW(_)),E=[_].concat(y).reduce(function(W,G){return W.concat(cr(G)===ww?QW(t,{placement:G,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:p}):G)},[]),S=t.rects.reference,T=t.rects.popper,I=new Map,A=!0,k=E[0],C=0;C<E.length;C++){var M=E[C],z=cr(M),q=ua(M)===oa,Ee=[tn,Rn].indexOf(z)>=0,ye=Ee?"width":"height",ie=Au(t,{placement:M,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),fe=Ee?q?An:nn:q?Rn:tn;S[ye]>T[ye]&&(fe=Od(fe));var V=Od(fe),X=[];if(s&&X.push(ie[z]<=0),a&&X.push(ie[fe]<=0,ie[V]<=0),X.every(function(W){return W})){k=M,A=!1;break}I.set(M,X)}if(A)for(var ee=v?3:1,D=function(G){var ae=E.find(function(Te){var Pe=I.get(Te);if(Pe)return Pe.slice(0,G).every(function(kn){return kn})});if(ae)return k=ae,"break"},x=ee;x>0;x--){var j=D(x);if(j==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}const ZW={name:"flip",enabled:!0,phase:"main",fn:JW,requiresIfExists:["offset"],data:{_skip:!1}};function KT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function QT(e){return[tn,An,Rn,nn].some(function(t){return e[t]>=0})}function e6(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Au(t,{elementContext:"reference"}),a=Au(t,{altBoundary:!0}),l=KT(o,r),u=KT(a,i,s),c=QT(l),d=QT(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const t6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:e6};function n6(e,t,n){var r=cr(e),i=[nn,tn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[nn,An].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function r6(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=Ew.reduce(function(c,d){return c[d]=n6(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}const i6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r6};function s6(e){var t=e.state,n=e.name;t.modifiersData[n]=Zk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const o6={name:"popperOffsets",enabled:!0,phase:"read",fn:s6,data:{}};function a6(e){return e==="x"?"y":"x"}function l6(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,v=n.tetherOffset,p=v===void 0?0:v,_=Au(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=cr(t.placement),m=ua(t.placement),y=!m,E=Iw(g),S=a6(E),T=t.modifiersData.popperOffsets,I=t.rects.reference,A=t.rects.popper,k=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,C=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,z={x:0,y:0};if(T){if(s){var q,Ee=E==="y"?tn:nn,ye=E==="y"?Rn:An,ie=E==="y"?"height":"width",fe=T[E],V=fe+_[Ee],X=fe-_[ye],ee=f?-A[ie]/2:0,D=m===oa?I[ie]:A[ie],x=m===oa?-A[ie]:-I[ie],j=t.elements.arrow,W=f&&j?Tw(j):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Kk(),ae=G[Ee],Te=G[ye],Pe=Dl(0,I[ie],W[ie]),kn=y?I[ie]/2-ee-Pe-ae-C.mainAxis:D-Pe-ae-C.mainAxis,eo=y?-I[ie]/2+ee+Pe+Te+C.mainAxis:x+Pe+Te+C.mainAxis,ns=t.elements.arrow&&gc(t.elements.arrow),La=ns?E==="y"?ns.clientTop||0:ns.clientLeft||0:0,Rc=(q=M==null?void 0:M[E])!=null?q:0,Mp=fe+kn-Rc-La,YO=fe+eo-Rc,y0=Dl(f?Bh(V,Mp):V,fe,f?Ss(X,YO):X);T[E]=y0,z[E]=y0-fe}if(a){var _0,qO=E==="x"?tn:nn,GO=E==="x"?Rn:An,rs=T[S],Ac=S==="y"?"height":"width",w0=rs+_[qO],E0=rs-_[GO],$p=[tn,nn].indexOf(g)!==-1,S0=(_0=M==null?void 0:M[S])!=null?_0:0,T0=$p?w0:rs-I[Ac]-A[Ac]-S0+C.altAxis,I0=$p?rs+I[Ac]+A[Ac]-S0-C.altAxis:E0,R0=f&&$p?OW(T0,rs,I0):Dl(f?T0:w0,rs,f?I0:E0);T[S]=R0,z[S]=R0-rs}t.modifiersData[r]=z}}const u6={name:"preventOverflow",enabled:!0,phase:"main",fn:l6,requiresIfExists:["offset"]};function c6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function d6(e){return e===hn(e)||!dr(e)?Rw(e):c6(e)}function h6(e){var t=e.getBoundingClientRect(),n=aa(t.width)/e.offsetWidth||1,r=aa(t.height)/e.offsetHeight||1;return n!==1||r!==1}function f6(e,t,n){n===void 0&&(n=!1);var r=dr(t),i=dr(t)&&h6(t),s=ts(t),o=la(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((zi(t)!=="body"||Pw(s))&&(a=d6(t)),dr(t)?(l=la(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Aw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function p6(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function m6(e){var t=p6(e);return DW.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function g6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function v6(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var XT={placement:"bottom",modifiers:[],strategy:"absolute"};function JT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function y6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?XT:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},XT,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;p(),c.options=Object.assign({},s,c.options,m),c.scrollParents={reference:Us(a)?kl(a):a.contextElement?kl(a.contextElement):[],popper:kl(l)};var y=m6(v6([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(E){return E.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var g=c.elements,m=g.reference,y=g.popper;if(JT(m,y)){c.rects={reference:f6(m,gc(y),c.options.strategy==="fixed"),popper:Tw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var S=c.orderedModifiers[E],T=S.fn,I=S.options,A=I===void 0?{}:I,k=S.name;typeof T=="function"&&(c=T({state:c,options:A,name:k,instance:f})||c)}}}},update:g6(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){p(),h=!0}};if(!JT(a,l))return f;f.setOptions(u).then(function(_){!h&&u.onFirstUpdate&&u.onFirstUpdate(_)});function v(){c.orderedModifiers.forEach(function(_){var g=_.name,m=_.options,y=m===void 0?{}:m,E=_.effect;if(typeof E=="function"){var S=E({state:c,name:g,instance:f,options:y}),T=function(){};d.push(S||T)}})}function p(){d.forEach(function(_){return _()}),d=[]}return f}}var _6=y6({defaultModifiers:[t6,o6,jW,BW,i6,ZW,u6,$W]}),ZT=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},w6={name:"applyStyles",enabled:!1},E6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},S6=[];function T6(e,t,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,c=r.modifiers,d=c===void 0?S6:c,h=ip(r,["enabled","placement","strategy","modifiers"]),f=R.useRef(),v=R.useCallback(function(){var E;(E=f.current)==null||E.update()},[]),p=R.useCallback(function(){var E;(E=f.current)==null||E.forceUpdate()},[]),_=vW(R.useState({placement:a,update:v,forceUpdate:p,attributes:{},styles:{popper:ZT(u),arrow:{}}})),g=_[0],m=_[1],y=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var T=S.state,I={},A={};Object.keys(T.elements).forEach(function(k){I[k]=T.styles[k],A[k]=T.attributes[k]}),m({state:T,styles:I,attributes:A,update:v,forceUpdate:p,placement:T.placement})}}},[v,p,m]);return R.useEffect(function(){!f.current||!s||f.current.setOptions({placement:a,strategy:u,modifiers:[].concat(d,[y,w6])})},[u,a,y,s]),R.useEffect(function(){if(!(!s||e==null||t==null))return f.current=_6(e,t,qe({},h,{placement:a,strategy:u,modifiers:[].concat(d,[E6,y])})),function(){f.current!=null&&(f.current.destroy(),f.current=void 0,m(function(E){return qe({},E,{attributes:{},styles:{popper:ZT(u)}})}))}},[s,e,t]),g}function I6(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function fl(e,t,n,r){return pW(e,t,n,r),function(){I6(e,t,n,r)}}var R6=function(){},A6=R6;const P6=sn(A6);function C6(e){return e&&"setState"in e?TA.findDOMNode(e):e??null}const D6=function(e){return pc(C6(e))};var k6=27,e1=function(){};function b6(e){return e.button===0}function O6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var t1=function(t){return t&&("current"in t?t.current:t)};function x6(e,t,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=R.useRef(!1),l=t||e1,u=R.useCallback(function(h){var f,v=t1(e);P6(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!v||O6(h)||!b6(h)||!!Iu(v,(f=h.composedPath==null?void 0:h.composedPath()[0])!=null?f:h.target)},[e]),c=BT(function(h){a.current||l(h)}),d=BT(function(h){h.keyCode===k6&&l(h)});R.useEffect(function(){if(!(i||e==null)){var h=window.event,f=D6(t1(e)),v=fl(f,o,u,!0),p=fl(f,o,function(m){if(m===h){h=void 0;return}c(m)}),_=fl(f,"keyup",function(m){if(m===h){h=void 0;return}d(m)}),g=[];return"ontouchstart"in f.documentElement&&(g=[].slice.call(f.body.children).map(function(m){return fl(m,"mousemove",e1)})),function(){v(),p(),_(),g.forEach(function(m){return m()})}}},[e,i,o,u,c,d])}function N6(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function M6(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function $6(e){var t,n,r,i,s=e.enabled,o=e.enableEvents,a=e.placement,l=e.flip,u=e.offset,c=e.fixed,d=e.containerPadding,h=e.arrowElement,f=e.popperConfig,v=f===void 0?{}:f,p=N6(v.modifiers);return qe({},v,{placement:a,enabled:s,strategy:c?"fixed":v.strategy,modifiers:M6(qe({},p,{eventListeners:{enabled:o},preventOverflow:qe({},p.preventOverflow,{options:d?qe({padding:d},(t=p.preventOverflow)==null?void 0:t.options):(n=p.preventOverflow)==null?void 0:n.options}),offset:{options:qe({offset:u},(r=p.offset)==null?void 0:r.options)},arrow:qe({},p.arrow,{enabled:!!h,options:qe({},(i=p.arrow)==null?void 0:i.options,{element:h})}),flip:qe({enabled:!!l},p.flip)}))})}function L6(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function F6(e,t){e.classList?e.classList.add(t):L6(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function n1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function V6(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=n1(e.className,t):e.setAttribute("class",n1(e.className&&e.className.baseVal||"",t))}var nd;function eb(e){if((!nd&&nd!==0||e)&&_w){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nd}var Mm=function(t){var n;return typeof document>"u"?null:t==null?pc().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function r1(e,t){var n=R.useState(function(){return Mm(e)}),r=n[0],i=n[1];if(!r){var s=Mm(e);s&&i(s)}return R.useEffect(function(){t&&r&&t(r)},[t,r]),R.useEffect(function(){var o=Mm(e);o!==r&&i(o)},[e,r]),r}const i1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function j6(e,t){const n=i1(e),r=i1(t);return i=>{n&&n(i),r&&r(i)}}function U6(e,t){return R.useMemo(()=>j6(e,t),[e,t])}var Cw=P.forwardRef(function(e,t){var n=e.flip,r=e.offset,i=e.placement,s=e.containerPadding,o=s===void 0?5:s,a=e.popperConfig,l=a===void 0?{}:a,u=e.transition,c=zT(),d=c[0],h=c[1],f=zT(),v=f[0],p=f[1],_=U6(h,t),g=r1(e.container),m=r1(e.target),y=R.useState(!e.show),E=y[0],S=y[1],T=T6(m,d,$6({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:v,popperConfig:l})),I=T.styles,A=T.attributes,k=ip(T,["styles","attributes"]);e.show?E&&S(!1):!e.transition&&!E&&S(!0);var C=function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},M=e.show||u&&!E;if(x6(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!M)return null;var z=e.children(qe({},k,{show:!!e.show,props:qe({},A.popper,{style:I.popper,ref:_}),arrowProps:qe({},A.arrow,{style:I.arrow,ref:p})}));if(u){var q=e.onExit,Ee=e.onExiting,ye=e.onEnter,ie=e.onEntering,fe=e.onEntered;z=P.createElement(u,{in:e.show,appear:!0,onExit:q,onExiting:Ee,onExited:C,onEnter:ye,onEntering:ie,onEntered:fe},z)}return g?TA.createPortal(z,g):null});Cw.displayName="Overlay";Cw.propTypes={show:F.bool,placement:F.oneOf(Ew),target:F.any,container:F.any,flip:F.bool,children:F.func.isRequired,containerPadding:F.number,popperConfig:F.object,rootClose:F.bool,rootCloseEvent:F.oneOf(["click","mousedown"]),rootCloseDisabled:F.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=F.func).isRequired.apply(s,[t].concat(r))}return F.func.apply(F,[t].concat(r))},transition:F.elementType,onEnter:F.func,onEntering:F.func,onEntered:F.func,onExit:F.func,onExiting:F.func,onExited:F.func};const B6=Cw;function z6(){this.__data__=[],this.size=0}var W6=z6,H6=dc;function Y6(e,t){for(var n=e.length;n--;)if(H6(e[n][0],t))return n;return-1}var lp=Y6,q6=lp,G6=Array.prototype,K6=G6.splice;function Q6(e){var t=this.__data__,n=q6(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():K6.call(t,n,1),--this.size,!0}var X6=Q6,J6=lp;function Z6(e){var t=this.__data__,n=J6(t,e);return n<0?void 0:t[n][1]}var eH=Z6,tH=lp;function nH(e){return tH(this.__data__,e)>-1}var rH=nH,iH=lp;function sH(e,t){var n=this.__data__,r=iH(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var oH=sH,aH=W6,lH=X6,uH=eH,cH=rH,dH=oH;function Ca(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ca.prototype.clear=aH;Ca.prototype.delete=lH;Ca.prototype.get=uH;Ca.prototype.has=cH;Ca.prototype.set=dH;var up=Ca,hH=up;function fH(){this.__data__=new hH,this.size=0}var pH=fH;function mH(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var gH=mH;function vH(e){return this.__data__.get(e)}var yH=vH;function _H(e){return this.__data__.has(e)}var wH=_H,EH=vr,SH=EH["__core-js_shared__"],TH=SH,$m=TH,s1=function(){var e=/[^.]+$/.exec($m&&$m.keys&&$m.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function IH(e){return!!s1&&s1 in e}var RH=IH,AH=Function.prototype,PH=AH.toString;function CH(e){if(e!=null){try{return PH.call(e)}catch{}try{return e+""}catch{}}return""}var tb=CH,DH=mw,kH=RH,bH=ei,OH=tb,xH=/[\\^$.*+?()[\]{}|]/g,NH=/^\[object .+?Constructor\]$/,MH=Function.prototype,$H=Object.prototype,LH=MH.toString,FH=$H.hasOwnProperty,VH=RegExp("^"+LH.call(FH).replace(xH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jH(e){if(!bH(e)||kH(e))return!1;var t=DH(e)?VH:NH;return t.test(OH(e))}var UH=jH;function BH(e,t){return e==null?void 0:e[t]}var zH=BH,WH=UH,HH=zH;function YH(e,t){var n=HH(e,t);return WH(n)?n:void 0}var Js=YH,qH=Js,GH=vr,KH=qH(GH,"Map"),Dw=KH,QH=Js,XH=QH(Object,"create"),cp=XH,o1=cp;function JH(){this.__data__=o1?o1(null):{},this.size=0}var ZH=JH;function e5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var t5=e5,n5=cp,r5="__lodash_hash_undefined__",i5=Object.prototype,s5=i5.hasOwnProperty;function o5(e){var t=this.__data__;if(n5){var n=t[e];return n===r5?void 0:n}return s5.call(t,e)?t[e]:void 0}var a5=o5,l5=cp,u5=Object.prototype,c5=u5.hasOwnProperty;function d5(e){var t=this.__data__;return l5?t[e]!==void 0:c5.call(t,e)}var h5=d5,f5=cp,p5="__lodash_hash_undefined__";function m5(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=f5&&t===void 0?p5:t,this}var g5=m5,v5=ZH,y5=t5,_5=a5,w5=h5,E5=g5;function Da(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Da.prototype.clear=v5;Da.prototype.delete=y5;Da.prototype.get=_5;Da.prototype.has=w5;Da.prototype.set=E5;var S5=Da,a1=S5,T5=up,I5=Dw;function R5(){this.size=0,this.__data__={hash:new a1,map:new(I5||T5),string:new a1}}var A5=R5;function P5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var C5=P5,D5=C5;function k5(e,t){var n=e.__data__;return D5(t)?n[typeof t=="string"?"string":"hash"]:n.map}var dp=k5,b5=dp;function O5(e){var t=b5(this,e).delete(e);return this.size-=t?1:0,t}var x5=O5,N5=dp;function M5(e){return N5(this,e).get(e)}var $5=M5,L5=dp;function F5(e){return L5(this,e).has(e)}var V5=F5,j5=dp;function U5(e,t){var n=j5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var B5=U5,z5=A5,W5=x5,H5=$5,Y5=V5,q5=B5;function ka(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ka.prototype.clear=z5;ka.prototype.delete=W5;ka.prototype.get=H5;ka.prototype.has=Y5;ka.prototype.set=q5;var kw=ka,G5=up,K5=Dw,Q5=kw,X5=200;function J5(e,t){var n=this.__data__;if(n instanceof G5){var r=n.__data__;if(!K5||r.length<X5-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Q5(r)}return n.set(e,t),this.size=n.size,this}var Z5=J5,eY=up,tY=pH,nY=gH,rY=yH,iY=wH,sY=Z5;function ba(e){var t=this.__data__=new eY(e);this.size=t.size}ba.prototype.clear=tY;ba.prototype.delete=nY;ba.prototype.get=rY;ba.prototype.has=iY;ba.prototype.set=sY;var bw=ba,oY="__lodash_hash_undefined__";function aY(e){return this.__data__.set(e,oY),this}var lY=aY;function uY(e){return this.__data__.has(e)}var cY=uY,dY=kw,hY=lY,fY=cY;function zh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dY;++t<n;)this.add(e[t])}zh.prototype.add=zh.prototype.push=hY;zh.prototype.has=fY;var pY=zh;function mY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gY=mY;function vY(e,t){return e.has(t)}var yY=vY,_Y=pY,wY=gY,EY=yY,SY=1,TY=2;function IY(e,t,n,r,i,s){var o=n&SY,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,f=n&TY?new _Y:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var v=e[d],p=t[d];if(r)var _=o?r(p,v,d,t,e,s):r(v,p,d,e,t,s);if(_!==void 0){if(_)continue;h=!1;break}if(f){if(!wY(t,function(g,m){if(!EY(f,m)&&(v===g||i(v,g,n,r,s)))return f.push(m)})){h=!1;break}}else if(!(v===p||i(v,p,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var nb=IY,RY=vr,AY=RY.Uint8Array,rb=AY;function PY(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var CY=PY;function DY(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kY=DY,l1=Aa,u1=rb,bY=dc,OY=nb,xY=CY,NY=kY,MY=1,$Y=2,LY="[object Boolean]",FY="[object Date]",VY="[object Error]",jY="[object Map]",UY="[object Number]",BY="[object RegExp]",zY="[object Set]",WY="[object String]",HY="[object Symbol]",YY="[object ArrayBuffer]",qY="[object DataView]",c1=l1?l1.prototype:void 0,Lm=c1?c1.valueOf:void 0;function GY(e,t,n,r,i,s,o){switch(n){case qY:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YY:return!(e.byteLength!=t.byteLength||!s(new u1(e),new u1(t)));case LY:case FY:case UY:return bY(+e,+t);case VY:return e.name==t.name&&e.message==t.message;case BY:case WY:return e==t+"";case jY:var a=xY;case zY:var l=r&MY;if(a||(a=NY),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=$Y,o.set(e,t);var c=OY(a(e),a(t),r,i,s,o);return o.delete(e),c;case HY:if(Lm)return Lm.call(e)==Lm.call(t)}return!1}var KY=GY;function QY(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ow=QY,XY=Array.isArray,Pn=XY,JY=Ow,ZY=Pn;function eq(e,t,n){var r=t(e);return ZY(e)?r:JY(r,n(e))}var ib=eq;function tq(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}var nq=tq;function rq(){return[]}var sb=rq,iq=nq,sq=sb,oq=Object.prototype,aq=oq.propertyIsEnumerable,d1=Object.getOwnPropertySymbols,lq=d1?function(e){return e==null?[]:(e=Object(e),iq(d1(e),function(t){return aq.call(e,t)}))}:sq,xw=lq;function uq(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var cq=uq,dq=Pa,hq=es,fq="[object Arguments]";function pq(e){return hq(e)&&dq(e)==fq}var mq=pq,h1=mq,gq=es,ob=Object.prototype,vq=ob.hasOwnProperty,yq=ob.propertyIsEnumerable,_q=h1(function(){return arguments}())?h1:function(e){return gq(e)&&vq.call(e,"callee")&&!yq.call(e,"callee")},Nw=_q,Wh={exports:{}};function wq(){return!1}var Eq=wq;Wh.exports;(function(e,t){var n=vr,r=Eq,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(Wh,Wh.exports);var hp=Wh.exports,Sq=Pa,Tq=gw,Iq=es,Rq="[object Arguments]",Aq="[object Array]",Pq="[object Boolean]",Cq="[object Date]",Dq="[object Error]",kq="[object Function]",bq="[object Map]",Oq="[object Number]",xq="[object Object]",Nq="[object RegExp]",Mq="[object Set]",$q="[object String]",Lq="[object WeakMap]",Fq="[object ArrayBuffer]",Vq="[object DataView]",jq="[object Float32Array]",Uq="[object Float64Array]",Bq="[object Int8Array]",zq="[object Int16Array]",Wq="[object Int32Array]",Hq="[object Uint8Array]",Yq="[object Uint8ClampedArray]",qq="[object Uint16Array]",Gq="[object Uint32Array]",Oe={};Oe[jq]=Oe[Uq]=Oe[Bq]=Oe[zq]=Oe[Wq]=Oe[Hq]=Oe[Yq]=Oe[qq]=Oe[Gq]=!0;Oe[Rq]=Oe[Aq]=Oe[Fq]=Oe[Pq]=Oe[Vq]=Oe[Cq]=Oe[Dq]=Oe[kq]=Oe[bq]=Oe[Oq]=Oe[xq]=Oe[Nq]=Oe[Mq]=Oe[$q]=Oe[Lq]=!1;function Kq(e){return Iq(e)&&Tq(e.length)&&!!Oe[Sq(e)]}var Qq=Kq;function Xq(e){return function(t){return e(t)}}var fp=Xq,Hh={exports:{}};Hh.exports;(function(e,t){var n=Lk,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(Hh,Hh.exports);var Mw=Hh.exports,Jq=Qq,Zq=fp,f1=Mw,p1=f1&&f1.isTypedArray,eG=p1?Zq(p1):Jq,$w=eG,tG=cq,nG=Nw,rG=Pn,iG=hp,sG=vw,oG=$w,aG=Object.prototype,lG=aG.hasOwnProperty;function uG(e,t){var n=rG(e),r=!n&&nG(e),i=!n&&!r&&iG(e),s=!n&&!r&&!i&&oG(e),o=n||r||i||s,a=o?tG(e.length,String):[],l=a.length;for(var u in e)(t||lG.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sG(u,l)))&&a.push(u);return a}var ab=uG,cG=Object.prototype;function dG(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cG;return e===n}var Lw=dG;function hG(e,t){return function(n){return e(t(n))}}var lb=hG,fG=lb,pG=fG(Object.keys,Object),mG=pG,gG=Lw,vG=mG,yG=Object.prototype,_G=yG.hasOwnProperty;function wG(e){if(!gG(e))return vG(e);var t=[];for(var n in Object(e))_G.call(e,n)&&n!="constructor"&&t.push(n);return t}var EG=wG,SG=ab,TG=EG,IG=hc;function RG(e){return IG(e)?SG(e):TG(e)}var vc=RG,AG=ib,PG=xw,CG=vc;function DG(e){return AG(e,CG,PG)}var ub=DG,m1=ub,kG=1,bG=Object.prototype,OG=bG.hasOwnProperty;function xG(e,t,n,r,i,s){var o=n&kG,a=m1(e),l=a.length,u=m1(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:OG.call(t,h)))return!1}var f=s.get(e),v=s.get(t);if(f&&v)return f==t&&v==e;var p=!0;s.set(e,t),s.set(t,e);for(var _=o;++d<l;){h=a[d];var g=e[h],m=t[h];if(r)var y=o?r(m,g,h,t,e,s):r(g,m,h,e,t,s);if(!(y===void 0?g===m||i(g,m,n,r,s):y)){p=!1;break}_||(_=h=="constructor")}if(p&&!_){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var NG=xG,MG=Js,$G=vr,LG=MG($G,"DataView"),FG=LG,VG=Js,jG=vr,UG=VG(jG,"Promise"),BG=UG,zG=Js,WG=vr,HG=zG(WG,"Set"),YG=HG,qG=Js,GG=vr,KG=qG(GG,"WeakMap"),QG=KG,Mv=FG,$v=Dw,Lv=BG,Fv=YG,Vv=QG,cb=Pa,Oa=tb,g1="[object Map]",XG="[object Object]",v1="[object Promise]",y1="[object Set]",_1="[object WeakMap]",w1="[object DataView]",JG=Oa(Mv),ZG=Oa($v),e7=Oa(Lv),t7=Oa(Fv),n7=Oa(Vv),ls=cb;(Mv&&ls(new Mv(new ArrayBuffer(1)))!=w1||$v&&ls(new $v)!=g1||Lv&&ls(Lv.resolve())!=v1||Fv&&ls(new Fv)!=y1||Vv&&ls(new Vv)!=_1)&&(ls=function(e){var t=cb(e),n=t==XG?e.constructor:void 0,r=n?Oa(n):"";if(r)switch(r){case JG:return w1;case ZG:return g1;case e7:return v1;case t7:return y1;case n7:return _1}return t});var pp=ls,Fm=bw,r7=nb,i7=KY,s7=NG,E1=pp,S1=Pn,T1=hp,o7=$w,a7=1,I1="[object Arguments]",R1="[object Array]",rd="[object Object]",l7=Object.prototype,A1=l7.hasOwnProperty;function u7(e,t,n,r,i,s){var o=S1(e),a=S1(t),l=o?R1:E1(e),u=a?R1:E1(t);l=l==I1?rd:l,u=u==I1?rd:u;var c=l==rd,d=u==rd,h=l==u;if(h&&T1(e)){if(!T1(t))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new Fm),o||o7(e)?r7(e,t,n,r,i,s):i7(e,t,l,n,r,i,s);if(!(n&a7)){var f=c&&A1.call(e,"__wrapped__"),v=d&&A1.call(t,"__wrapped__");if(f||v){var p=f?e.value():e,_=v?t.value():t;return s||(s=new Fm),i(p,_,n,r,s)}}return h?(s||(s=new Fm),s7(e,t,n,r,i,s)):!1}var c7=u7,d7=c7,P1=es;function db(e,t,n,r,i){return e===t?!0:e==null||t==null||!P1(e)&&!P1(t)?e!==e&&t!==t:d7(e,t,n,r,db,i)}var Fw=db,h7=Fw;function f7(e,t){return h7(e,t)}var p7=f7;const m7=sn(p7);function Vm(e,t){var n=yw(e);return n?n.innerHeight:t?e.clientHeight:Es(e).height}function hb(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(dW(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function g7(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var v7=g7,y7=bw,_7=Fw,w7=1,E7=2;function S7(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new y7;if(r)var h=r(u,c,l,e,t,d);if(!(h===void 0?_7(c,u,w7|E7,r,d):h))return!1}}return!0}var T7=S7,I7=ei;function R7(e){return e===e&&!I7(e)}var fb=R7,A7=fb,P7=vc;function C7(e){for(var t=P7(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,A7(i)]}return t}var D7=C7;function k7(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var pb=k7,b7=T7,O7=D7,x7=pb;function N7(e){var t=O7(e);return t.length==1&&t[0][2]?x7(t[0][0],t[0][1]):function(n){return n===e||b7(n,e,t)}}var M7=N7,$7=Pn,L7=fc,F7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V7=/^\w*$/;function j7(e,t){if($7(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||L7(e)?!0:V7.test(e)||!F7.test(e)||t!=null&&e in Object(t)}var Vw=j7,mb=kw,U7="Expected a function";function jw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(U7);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(jw.Cache||mb),n}jw.Cache=mb;var B7=jw,z7=B7,W7=500;function H7(e){var t=z7(e,function(r){return n.size===W7&&n.clear(),r}),n=t.cache;return t}var Y7=H7,q7=Y7,G7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K7=/\\(\\)?/g,Q7=q7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(G7,function(n,r,i,s){t.push(i?s.replace(K7,"$1"):r||n)}),t}),X7=Q7;function J7(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Uw=J7,C1=Aa,Z7=Uw,e8=Pn,t8=fc,n8=1/0,D1=C1?C1.prototype:void 0,k1=D1?D1.toString:void 0;function gb(e){if(typeof e=="string")return e;if(e8(e))return Z7(e,gb)+"";if(t8(e))return k1?k1.call(e):"";var t=e+"";return t=="0"&&1/e==-n8?"-0":t}var r8=gb,i8=r8;function s8(e){return e==null?"":i8(e)}var o8=s8,a8=Pn,l8=Vw,u8=X7,c8=o8;function d8(e,t){return a8(e)?e:l8(e,t)?[e]:u8(c8(e))}var mp=d8,h8=fc,f8=1/0;function p8(e){if(typeof e=="string"||h8(e))return e;var t=e+"";return t=="0"&&1/e==-f8?"-0":t}var yc=p8,m8=mp,g8=yc;function v8(e,t){t=m8(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[g8(t[n++])];return n&&n==r?e:void 0}var gp=v8,y8=gp;function _8(e,t,n){var r=e==null?void 0:y8(e,t);return r===void 0?n:r}var w8=_8;function E8(e,t){return e!=null&&t in Object(e)}var S8=E8,T8=mp,I8=Nw,R8=Pn,A8=vw,P8=gw,C8=yc;function D8(e,t,n){t=T8(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=C8(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&P8(i)&&A8(o,i)&&(R8(e)||I8(e)))}var k8=D8,b8=S8,O8=k8;function x8(e,t){return e!=null&&O8(e,t,b8)}var N8=x8,M8=Fw,$8=w8,L8=N8,F8=Vw,V8=fb,j8=pb,U8=yc,B8=1,z8=2;function W8(e,t){return F8(e)&&V8(t)?j8(U8(e),t):function(n){var r=$8(n,e);return r===void 0&&r===t?L8(n,e):M8(t,r,B8|z8)}}var H8=W8;function Y8(e){return e}var vp=Y8;function q8(e){return function(t){return t==null?void 0:t[e]}}var G8=q8,K8=gp;function Q8(e){return function(t){return K8(t,e)}}var X8=Q8,J8=G8,Z8=X8,eK=Vw,tK=yc;function nK(e){return eK(e)?J8(tK(e)):Z8(e)}var rK=nK,iK=M7,sK=H8,oK=vp,aK=Pn,lK=rK;function uK(e){return typeof e=="function"?e:e==null?oK:typeof e=="object"?aK(e)?sK(e[0],e[1]):iK(e):lK(e)}var yp=uK,cK=v7,dK=yp,hK=jk,fK=Math.max;function pK(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:hK(n);return i<0&&(i=fK(r+i,0)),cK(e,dK(t),i)}var mK=pK;const gK=sn(mK);var vK=Math.ceil,yK=Math.max;function _K(e,t,n,r){for(var i=-1,s=yK(vK((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var wK=_K,EK=wK,SK=op,jm=Vk;function TK(e){return function(t,n,r){return r&&typeof r!="number"&&SK(t,n,r)&&(n=r=void 0),t=jm(t),n===void 0?(n=t,t=0):n=jm(n),r=r===void 0?t<n?1:-1:jm(r),EK(t,n,r,e)}}var IK=TK,RK=IK,AK=RK(),PK=AK;const CK=sn(PK);var b1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function DK(e,t){return!!(e===t||b1(e)&&b1(t))}function kK(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!DK(e[n],t[n]))return!1;return!0}function vb(e,t){t===void 0&&(t=kK);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var O1=Aa,bK=Nw,OK=Pn,x1=O1?O1.isConcatSpreadable:void 0;function xK(e){return OK(e)||bK(e)||!!(x1&&e&&e[x1])}var NK=xK,MK=Ow,$K=NK;function yb(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=$K),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?yb(a,t-1,n,r,i):MK(i,a):r||(i[i.length]=a)}return i}var _b=yb;function LK(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var FK=LK,VK=FK,jK=VK(),UK=jK,BK=UK,zK=vc;function WK(e,t){return e&&BK(e,t,zK)}var Bw=WK,HK=hc;function YK(e,t){return function(n,r){if(n==null)return n;if(!HK(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var qK=YK,GK=Bw,KK=qK,QK=KK(GK),XK=QK,JK=XK,ZK=hc;function eQ(e,t){var n=-1,r=ZK(e)?Array(e.length):[];return JK(e,function(i,s,o){r[++n]=t(i,s,o)}),r}var tQ=eQ;function nQ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var rQ=nQ,N1=fc;function iQ(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=N1(e),o=t!==void 0,a=t===null,l=t===t,u=N1(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var sQ=iQ,oQ=sQ;function aQ(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=oQ(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var lQ=aQ,Um=Uw,uQ=gp,cQ=yp,dQ=tQ,hQ=rQ,fQ=fp,pQ=lQ,mQ=vp,gQ=Pn;function vQ(e,t,n){t.length?t=Um(t,function(s){return gQ(s)?function(o){return uQ(o,s.length===1?s[0]:s)}:s}):t=[mQ];var r=-1;t=Um(t,fQ(cQ));var i=dQ(e,function(s,o,a){var l=Um(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return hQ(i,function(s,o){return pQ(s,o,n)})}var yQ=vQ;function _Q(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var wQ=_Q,EQ=wQ,M1=Math.max;function SQ(e,t,n){return t=M1(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=M1(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),EQ(e,this,a)}}var wb=SQ;function TQ(e){return function(){return e}}var IQ=TQ,RQ=Js,AQ=function(){try{var e=RQ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Eb=AQ,PQ=IQ,$1=Eb,CQ=vp,DQ=$1?function(e,t){return $1(e,"toString",{configurable:!0,enumerable:!1,value:PQ(t),writable:!0})}:CQ,kQ=DQ,bQ=800,OQ=16,xQ=Date.now;function NQ(e){var t=0,n=0;return function(){var r=xQ(),i=OQ-(r-n);if(n=r,i>0){if(++t>=bQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MQ=NQ,$Q=kQ,LQ=MQ,FQ=LQ($Q),Sb=FQ,VQ=vp,jQ=wb,UQ=Sb;function BQ(e,t){return UQ(jQ(e,t,VQ),e+"")}var Tb=BQ,zQ=_b,WQ=yQ,HQ=Tb,L1=op,YQ=HQ(function(e,t){if(e==null)return[];var n=t.length;return n>1&&L1(e,t[0],t[1])?t=[]:n>2&&L1(t[0],t[1],t[2])&&(t=[t[0]]),WQ(e,zQ(t,1),[])}),qQ=YQ;const GQ=sn(qQ);function jv(e,t){var n=yw(e);return n?n.innerWidth:t?e.clientWidth:Es(e).width}function Ib(e){return yk(e)||Mk(e)||hw(e)||_k()}function KQ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Rb=KQ,F1=Eb;function QQ(e,t,n){t=="__proto__"&&F1?F1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zw=QQ,XQ=zw,JQ=dc,ZQ=Object.prototype,eX=ZQ.hasOwnProperty;function tX(e,t,n){var r=e[t];(!(eX.call(e,t)&&JQ(r,n))||n===void 0&&!(t in e))&&XQ(e,t,n)}var Ab=tX,nX=Ab,rX=zw;function iX(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?rX(n,a,l):nX(n,a,l)}return n}var _c=iX,sX=_c,oX=vc;function aX(e,t){return e&&sX(t,oX(t),e)}var lX=aX;function uX(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var cX=uX,dX=ei,hX=Lw,fX=cX,pX=Object.prototype,mX=pX.hasOwnProperty;function gX(e){if(!dX(e))return fX(e);var t=hX(e),n=[];for(var r in e)r=="constructor"&&(t||!mX.call(e,r))||n.push(r);return n}var vX=gX,yX=ab,_X=vX,wX=hc;function EX(e){return wX(e)?yX(e,!0):_X(e)}var _p=EX,SX=_c,TX=_p;function IX(e,t){return e&&SX(t,TX(t),e)}var RX=IX,Yh={exports:{}};Yh.exports;(function(e,t){var n=vr,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}e.exports=l})(Yh,Yh.exports);var AX=Yh.exports;function PX(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var CX=PX,DX=_c,kX=xw;function bX(e,t){return DX(e,kX(e),t)}var OX=bX,xX=lb,NX=xX(Object.getPrototypeOf,Object),wp=NX,MX=Ow,$X=wp,LX=xw,FX=sb,VX=Object.getOwnPropertySymbols,jX=VX?function(e){for(var t=[];e;)MX(t,LX(e)),e=$X(e);return t}:FX,Pb=jX,UX=_c,BX=Pb;function zX(e,t){return UX(e,BX(e),t)}var WX=zX,HX=ib,YX=Pb,qX=_p;function GX(e){return HX(e,qX,YX)}var Cb=GX,KX=Object.prototype,QX=KX.hasOwnProperty;function XX(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&QX.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var JX=XX,V1=rb;function ZX(e){var t=new e.constructor(e.byteLength);return new V1(t).set(new V1(e)),t}var Ww=ZX,eJ=Ww;function tJ(e,t){var n=t?eJ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var nJ=tJ,rJ=/\w*$/;function iJ(e){var t=new e.constructor(e.source,rJ.exec(e));return t.lastIndex=e.lastIndex,t}var sJ=iJ,j1=Aa,U1=j1?j1.prototype:void 0,B1=U1?U1.valueOf:void 0;function oJ(e){return B1?Object(B1.call(e)):{}}var aJ=oJ,lJ=Ww;function uJ(e,t){var n=t?lJ(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var cJ=uJ,dJ=Ww,hJ=nJ,fJ=sJ,pJ=aJ,mJ=cJ,gJ="[object Boolean]",vJ="[object Date]",yJ="[object Map]",_J="[object Number]",wJ="[object RegExp]",EJ="[object Set]",SJ="[object String]",TJ="[object Symbol]",IJ="[object ArrayBuffer]",RJ="[object DataView]",AJ="[object Float32Array]",PJ="[object Float64Array]",CJ="[object Int8Array]",DJ="[object Int16Array]",kJ="[object Int32Array]",bJ="[object Uint8Array]",OJ="[object Uint8ClampedArray]",xJ="[object Uint16Array]",NJ="[object Uint32Array]";function MJ(e,t,n){var r=e.constructor;switch(t){case IJ:return dJ(e);case gJ:case vJ:return new r(+e);case RJ:return hJ(e,n);case AJ:case PJ:case CJ:case DJ:case kJ:case bJ:case OJ:case xJ:case NJ:return mJ(e,n);case yJ:return new r;case _J:case SJ:return new r(e);case wJ:return fJ(e);case EJ:return new r;case TJ:return pJ(e)}}var $J=MJ,LJ=ei,z1=Object.create,FJ=function(){function e(){}return function(t){if(!LJ(t))return{};if(z1)return z1(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Db=FJ,VJ=Db,jJ=wp,UJ=Lw;function BJ(e){return typeof e.constructor=="function"&&!UJ(e)?VJ(jJ(e)):{}}var zJ=BJ,WJ=pp,HJ=es,YJ="[object Map]";function qJ(e){return HJ(e)&&WJ(e)==YJ}var GJ=qJ,KJ=GJ,QJ=fp,W1=Mw,H1=W1&&W1.isMap,XJ=H1?QJ(H1):KJ,JJ=XJ,ZJ=pp,eZ=es,tZ="[object Set]";function nZ(e){return eZ(e)&&ZJ(e)==tZ}var rZ=nZ,iZ=rZ,sZ=fp,Y1=Mw,q1=Y1&&Y1.isSet,oZ=q1?sZ(q1):iZ,aZ=oZ,lZ=bw,uZ=Rb,cZ=Ab,dZ=lX,hZ=RX,fZ=AX,pZ=CX,mZ=OX,gZ=WX,vZ=ub,yZ=Cb,_Z=pp,wZ=JX,EZ=$J,SZ=zJ,TZ=Pn,IZ=hp,RZ=JJ,AZ=ei,PZ=aZ,CZ=vc,DZ=_p,kZ=1,bZ=2,OZ=4,kb="[object Arguments]",xZ="[object Array]",NZ="[object Boolean]",MZ="[object Date]",$Z="[object Error]",bb="[object Function]",LZ="[object GeneratorFunction]",FZ="[object Map]",VZ="[object Number]",Ob="[object Object]",jZ="[object RegExp]",UZ="[object Set]",BZ="[object String]",zZ="[object Symbol]",WZ="[object WeakMap]",HZ="[object ArrayBuffer]",YZ="[object DataView]",qZ="[object Float32Array]",GZ="[object Float64Array]",KZ="[object Int8Array]",QZ="[object Int16Array]",XZ="[object Int32Array]",JZ="[object Uint8Array]",ZZ="[object Uint8ClampedArray]",eee="[object Uint16Array]",tee="[object Uint32Array]",De={};De[kb]=De[xZ]=De[HZ]=De[YZ]=De[NZ]=De[MZ]=De[qZ]=De[GZ]=De[KZ]=De[QZ]=De[XZ]=De[FZ]=De[VZ]=De[Ob]=De[jZ]=De[UZ]=De[BZ]=De[zZ]=De[JZ]=De[ZZ]=De[eee]=De[tee]=!0;De[$Z]=De[bb]=De[WZ]=!1;function xd(e,t,n,r,i,s){var o,a=t&kZ,l=t&bZ,u=t&OZ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!AZ(e))return e;var c=TZ(e);if(c){if(o=wZ(e),!a)return pZ(e,o)}else{var d=_Z(e),h=d==bb||d==LZ;if(IZ(e))return fZ(e,a);if(d==Ob||d==kb||h&&!i){if(o=l||h?{}:SZ(e),!a)return l?gZ(e,hZ(o,e)):mZ(e,dZ(o,e))}else{if(!De[d])return i?e:{};o=EZ(e,d,a)}}s||(s=new lZ);var f=s.get(e);if(f)return f;s.set(e,o),PZ(e)?e.forEach(function(_){o.add(xd(_,t,n,_,e,s))}):RZ(e)&&e.forEach(function(_,g){o.set(g,xd(_,t,n,g,e,s))});var v=u?l?yZ:vZ:l?DZ:CZ,p=c?void 0:v(e);return uZ(p||e,function(_,g){p&&(g=_,_=e[g]),cZ(o,g,xd(_,t,n,g,e,s))}),o}var nee=xd;function ree(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iee=ree,see=gp,oee=$k;function aee(e,t){return t.length<2?e:see(e,oee(t,0,-1))}var lee=aee,uee=mp,cee=iee,dee=lee,hee=yc;function fee(e,t){return t=uee(t,e),e=dee(e,t),e==null||delete e[hee(cee(t))]}var pee=fee,mee=Pa,gee=wp,vee=es,yee="[object Object]",_ee=Function.prototype,wee=Object.prototype,xb=_ee.toString,Eee=wee.hasOwnProperty,See=xb.call(Object);function Tee(e){if(!vee(e)||mee(e)!=yee)return!1;var t=gee(e);if(t===null)return!0;var n=Eee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&xb.call(n)==See}var Iee=Tee,Ree=Iee;function Aee(e){return Ree(e)?void 0:e}var Pee=Aee,Cee=_b;function Dee(e){var t=e==null?0:e.length;return t?Cee(e,1):[]}var kee=Dee,bee=kee,Oee=wb,xee=Sb;function Nee(e){return xee(Oee(e,void 0,bee),e+"")}var Mee=Nee,$ee=Uw,Lee=nee,Fee=pee,Vee=mp,jee=_c,Uee=Pee,Bee=Mee,zee=Cb,Wee=1,Hee=2,Yee=4,qee=Bee(function(e,t){var n={};if(e==null)return n;var r=!1;t=$ee(t,function(s){return s=Vee(s,e),r||(r=s.length>1),s}),jee(e,zee(e),n),r&&(n=Lee(n,Wee|Hee|Yee,Uee));for(var i=t.length;i--;)Fee(n,t[i]);return n}),Gee=qee;const Kee=sn(Gee);var Qee=Tb,Xee=dc,Jee=op,Zee=_p,Nb=Object.prototype,ete=Nb.hasOwnProperty,tte=Qee(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Jee(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=Zee(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===void 0||Xee(c,Nb[u])&&!ete.call(e,u))&&(e[u]=s[u])}return e}),nte=tte;const rte=sn(nte);var ite=Rb,ste=Db,ote=Bw,ate=yp,lte=wp,ute=Pn,cte=hp,dte=mw,hte=ei,fte=$w;function pte(e,t,n){var r=ute(e),i=r||cte(e)||fte(e);if(t=ate(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:hte(e)?n=dte(s)?ste(lte(e)):{}:n={}}return(i?ite:ote)(e,function(o,a,l){return t(n,o,a,l)}),n}var mte=pte;const gte=sn(mte);var vte=zw,yte=Bw,_te=yp;function wte(e,t){var n={};return t=_te(t),yte(e,function(r,i,s){vte(n,i,t(r,i,s))}),n}var Ete=wte;const Ste=sn(Ete);var Tte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var u=i(s),c=i(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(Tte);var Ite={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(Ite);var Rte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(Rte);var Ate={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,v,p){var _=d.name?d:d.$locale(),g=o(_[h]),m=o(_[f]),y=g||m.map(function(S){return S.slice(0,v)});if(!p)return y;var E=_.weekStart;return y.map(function(S,T){return y[(T+(E||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,_){return p||_.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(Ate);var Pte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,v,p){var _=p&&p.toUpperCase();return v||h[p]||n[p]||h[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,y){return m||y.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(Pte);var Cte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(Cte);var Dte={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($n,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(p){var _={date:p,utc:!0,args:arguments};return new o(_)},l.utc=function(p){var _=a(this.toDate(),{locale:this.$L,utc:!0});return p?_.add(this.utcOffset(),n):_},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(p,_){var g=this.$utils().u;if(g(p))return this.$u?0:g(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(S){S===void 0&&(S="");var T=S.match(r);if(!T)return null;var I=(""+T[0]).match(i)||["-",0,0],A=I[0],k=60*+I[1]+ +I[2];return k===0?0:A==="+"?k:-k}(p),p===null))return this;var m=Math.abs(p)<=16?60*p:p,y=this;if(_)return y.$offset=m,y.$u=p===0,y;if(p!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(m+E,n)).$offset=m,y.$x.$localOffset=E}else y=this.utc();return y};var h=l.format;l.format=function(p){var _=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,_)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var v=l.diff;l.diff=function(p,_,g){if(p&&this.$u===p.$u)return v.call(this,p,_,g);var m=this.local(),y=a(p).local();return v.call(m,y,_,g)}}})})(Dte);function Sr(e){return e.children}var rn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},jt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},G1=Object.keys(jt).map(function(e){return jt[e]});F.oneOfType([F.string,F.func]);F.any;F.func;F.oneOfType([F.arrayOf(F.oneOf(G1)),F.objectOf(function(e,t){var n=G1.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return F.elementType.apply(F,[e,t].concat(i))})]);F.oneOfType([F.oneOf(["overlap","no-overlap"]),F.func]);function je(e,t){e&&e.apply(null,[].concat(t))}var K1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Mb(e,t){var n=Rt(e,"month");return Rt(n,"week",t.startOfWeek())}function $b(e,t){var n=jh(e,"month");return jh(n,"week",t.startOfWeek())}function kte(e,t){for(var n=Mb(e,t),r=$b(e,t),i=[];Ia(n,r,"day");)i.push(n),n=Wn(n,1,"day");return i}function bte(e,t){var n=Rt(e,t);return uc(n,e)?n:Wn(n,1,t)}function Ote(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,i=[];Ia(r,t,n);)i.push(r),r=Wn(r,1,n);return i}function xte(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Rt(e,"day"),e=Tu(e,Tu(t)),e=sa(e,sa(t)),e=Su(e,Su(t)),Eu(e,Eu(t)))}function Q1(e){return Tu(e)===0&&sa(e)===0&&Su(e)===0&&Eu(e)===0}function Nte(e,t,n,r){return n==="day"&&(n="date"),Math.abs(OT[n](e,void 0,r)-OT[n](t,void 0,r))}function Hw(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Rt(e,n)/K1[n]-+Rt(t,n)/K1[n]))}var Mte=F.oneOfType([F.string,F.func]);function $te(e,t,n,r,i){var s=typeof r=="function"?r(n,i,e):t.call(e,n,r,i);return mu(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Lte(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Yw(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Fte(e,t){return Hw(e,t,"minutes")+Yw(e,t)}function Vte(e){var t=Rt(e,"day");return Hw(t,e,"minutes")+Yw(t,e)}function jte(e,t){return pw(e,t,"day")}function Ute(e,t,n){var r=uc(e,t,"minutes");return r?cc(t,n,"minutes"):sp(t,n,"minutes")}function Uv(e,t){return Nte(e,t,"day")}function Bte(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,s=e.evtB,o=s.start,a=s.end,l=s.allDay,u=+Rt(n,"day")-+Rt(o,"day"),c=Uv(n,r),d=Uv(o,a);return u||d-c||!!l-!!i||+n-+o||+r-+a}function zte(e){var t=e.event,n=t.start,r=t.end,i=e.range,s=i.start,o=i.end,a=Rt(n,"day"),l=Ia(a,o,"day"),u=fw(a,r,"minutes"),c=u?sp(r,s,"minutes"):cc(r,s,"minutes");return l&&c}function Wte(e,t){return uc(e,t,"day")}function Hte(e,t){return Q1(e)&&Q1(t)}var Yte=mt(function e(t){var n=this;pt(this,e),mu(typeof t.format=="function","date localizer `format(..)` must be a function"),mu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Mte,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return $te.apply(void 0,[n,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||xte,this.inRange=t.inRange||bk,this.lt=t.lt||pw,this.lte=t.lte||Ia,this.gt=t.gt||sp,this.gte=t.gte||cc,this.eq=t.eq||uc,this.neq=t.neq||fw,this.startOf=t.startOf||Rt,this.endOf=t.endOf||jh,this.add=t.add||Wn,this.range=t.range||Ote,this.diff=t.diff||Hw,this.ceil=t.ceil||bte,this.min=t.min||Dk,this.max=t.max||kk,this.minutes=t.minutes||sa,this.daySpan=t.daySpan||Uv,this.firstVisibleDay=t.firstVisibleDay||Mb,this.lastVisibleDay=t.lastVisibleDay||$b,this.visibleDays=t.visibleDays||kte,this.getSlotDate=t.getSlotDate||Lte,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Yw,this.getTotalMin=t.getTotalMin||Fte,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Vte,this.continuesPrior=t.continuesPrior||jte,this.continuesAfter=t.continuesAfter||Ute,this.sortEvents=t.sortEvents||Bte,this.inEventRange=t.inEventRange||zte,this.isSameDate=t.isSameDate||Wte,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Hte,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function qte(e,t,n,r){var i=Ce(Ce({},e.formats),n);return Ce(Ce({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,a){return e.format(o,i[a]||a,t)}})}var Gte={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Kte(e){return Ce(Ce({},Gte),e)}function Qte(e){var t=e.ref,n=e.callback;R.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var Xte=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Lb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,c=r.onDoubleClick,d=r.onKeyPress,h=r.localizer,f=r.continuesPrior,v=r.continuesAfter,p=r.accessors,_=r.getters,g=r.children,m=r.components,y=m.event,E=m.eventWrapper,S=r.slotStart,T=r.slotEnd,I=pr(r,Xte);delete I.resizable;var A=p.title(o),k=p.tooltip(o),C=p.end(o),M=p.start(o),z=p.allDay(o),q=l||z||h.diff(M,h.ceil(C,"day"),"day")>1,Ee=_.eventProp(o,M,C,a),ye=P.createElement("div",{className:"rbc-event-content",title:k||void 0},y?P.createElement(y,{event:o,continuesPrior:f,continuesAfter:v,title:A,isAllDay:z,localizer:h,slotStart:S,slotEnd:T}):A);return P.createElement(E,Object.assign({},this.props,{type:"date"}),P.createElement("div",Object.assign({},I,{style:Ce(Ce({},Ee.style),i),className:at("rbc-event",s,Ee.className,{"rbc-selected":a,"rbc-event-allday":q,"rbc-event-continues-prior":f,"rbc-event-continues-after":v}),onClick:function(fe){return u&&u(o,fe)},onDoubleClick:function(fe){return c&&c(o,fe)},onKeyDown:function(fe){return d&&d(o,fe)}}),typeof g=="function"?g(ye):ye))}}]),t}(P.Component);function Ep(e,t){return!e||t==null?!1:m7(e,t)}function Fb(e,t){var n=e.right-e.left,r=n/t;return r}function Vb(e,t,n,r){var i=Fb(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function Jte(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function Zte(e,t,n,r,i){var s=-1,o=-1,a=r-1,l=Fb(t,r),u=Vb(t,n.x,i,r),c=t.top<n.y&&t.bottom>n.y,d=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,f=t.top>e.y,v=n.top<t.top&&n.bottom>t.bottom;return v&&(s=0,o=a),c&&(f?(s=0,o=u):h&&(s=u,o=a)),d&&(s=o=i?a-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),c?u<s?s=u:o=u:e.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function ene(e){var t=e.target,n=e.offset,r=e.container,i=e.box,s=Es(t),o=s.top,a=s.left,l=s.width,u=s.height,c=Es(r),d=c.top,h=c.left,f=c.width,v=c.height,p=Es(i),_=p.width,g=p.height,m=d+v,y=h+f,E=o+g,S=a+_,T=n.x,I=n.y,A=E>m?o-g-I:o+I+u,k=S>y?a+T-_+l:a+T;return{topOffset:A,leftOffset:k}}function tne(e){var t=e.containerRef,n=e.accessors,r=e.getters,i=e.selected,s=e.components,o=e.localizer,a=e.position,l=e.show,u=e.events,c=e.slotStart,d=e.slotEnd,h=e.onSelect,f=e.onDoubleClick,v=e.onKeyPress,p=e.handleDragStart,_=e.popperRef,g=e.target,m=e.offset;Qte({ref:_,callback:l}),R.useLayoutEffect(function(){var S=ene({target:g,offset:m,container:t.current,box:_.current}),T=S.topOffset,I=S.leftOffset;_.current.style.top="".concat(T,"px"),_.current.style.left="".concat(I,"px")},[m.x,m.y,g]);var y=a.width,E={minWidth:y+y/2};return P.createElement("div",{style:E,className:"rbc-overlay",ref:_},P.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),u.map(function(S,T){return P.createElement(Lb,{key:T,type:"popup",localizer:o,event:S,getters:r,onSelect:h,accessors:n,components:s,onDoubleClick:f,onKeyPress:v,continuesPrior:o.lt(n.end(S),c,"day"),continuesAfter:o.gte(n.start(S),d,"day"),slotStart:c,slotEnd:d,selected:Ep(S,i),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return l()}})}))}var jb=P.forwardRef(function(e,t){return P.createElement(tne,Object.assign({},e,{popperRef:t}))});jb.propTypes={accessors:F.object.isRequired,getters:F.object.isRequired,selected:F.object,components:F.object.isRequired,localizer:F.object.isRequired,position:F.object.isRequired,show:F.func.isRequired,events:F.array.isRequired,slotStart:F.instanceOf(Date).isRequired,slotEnd:F.instanceOf(Date),onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func,handleDragStart:F.func,style:F.object,offset:F.shape({x:F.number,y:F.number})};function nne(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,i=e.overlay,s=e.accessors,o=e.localizer,a=e.components,l=e.getters,u=e.selected,c=e.handleSelectEvent,d=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,f=e.handleDragStart,v=e.onHide,p=e.overlayDisplay,_=R.useRef(null);if(!i.position)return null;var g=r;isNaN(r)||(g={x:r,y:r});var m=i.position,y=i.events,E=i.date,S=i.end;return P.createElement(B6,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:i.target},function(T){var I=T.props;return P.createElement(jb,Object.assign({},I,{containerRef:t,ref:_,target:i.target,offset:g,accessors:s,getters:l,selected:u,components:a,localizer:o,position:m,show:p,events:y,slotStart:E,slotEnd:S,onSelect:c,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))})}var qw=P.forwardRef(function(e,t){return P.createElement(nne,Object.assign({},e,{containerRef:t}))});qw.propTypes={popupOffset:F.oneOfType([F.number,F.shape({x:F.number,y:F.number})]),overlay:F.shape({position:F.object,events:F.array,date:F.instanceOf(Date),end:F.instanceOf(Date)}),accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,selected:F.object,handleSelectEvent:F.func,handleDoubleClickEvent:F.func,handleKeyPressEvent:F.func,handleDragStart:F.func,onHide:F.func,overlayDisplay:F.func};function Dt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return fl(n,e,t,{passive:!1})}function rne(e,t,n){return!e||Iu(e,document.elementFromPoint(t,n))}function ine(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return hb(i,".rbc-event",e)}function sne(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return hb(i,".rbc-show-more",e)}function qh(e,t){return!!ine(e,t)}function one(e,t){return!!sne(e,t)}function Ja(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var X1=5,ane=250,Ub=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;pt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Dt("touchmove",function(){},window),this._removeKeyDownListener=Dt("keydown",this._keyListener),this._removeKeyUpListener=Dt("keyup",this._keyListener),this._removeDropFromOutsideListener=Dt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Dt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return mt(e,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:J1(r,Bs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),n(h)},i.longPressThreshold),o=Dt("touchmove",function(){return c()}),a=Dt("touchend",function(){return c()})},u=Dt("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Dt("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=Dt("mousedown",n._handleInitialEvent)}),i=Dt("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Ja(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,c;if(!(n.which===3||n.button===2||!rne(l,i,s))){if(!this.globalMouse&&l&&!Iu(l,n.target)){var d=lne(0),h=d.top,f=d.left,v=d.bottom,p=d.right;if(c=Bs(l),u=J1({top:c.top-h,left:c.left-f,bottom:c.bottom+v,right:c.right+p},{top:a,left:o}),!u)return}var _=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(_!==!1)switch(n.type){case"mousedown":this._removeEndListener=Dt("mouseup",this._handleTerminatingEvent),this._onEscListener=Dt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Dt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Dt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Dt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,this._lastClickData=null,!!n){var s=!this.container||Iu(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Ja(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<ane?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Ja(n),a=o.pageX,l=o.pageY,u=Math.abs(i-a),c=Math.abs(s-l),d=Math.min(a,i),h=Math.min(l,s),f=this.selecting,v=this.isClick(a,l);v&&!f&&!(u||c)||(!f&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:d,x:a,y:l,right:d+u,bottom:h+c},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=X1&&Math.abs(r-o)<=X1}}]),e}();function lne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function J1(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Bs(e),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?i:l,c=Bs(t),d=c.top,h=c.left,f=c.right,v=f===void 0?h:f,p=c.bottom,_=p===void 0?d:p;return!(u-n<d||i+n>_||a-n<h||s+n>v)}function Bs(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+Z1("left"),r=t.top+Z1("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function Z1(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var une=function(e){Yt(t,e);function t(n,r){var i;return pt(this,t),i=Ht(this,t,[n,r]),i.state={selecting:!1},i.containerRef=R.createRef(),i}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,c=this.state,d=c.selecting,h=c.startIdx,f=c.endIdx,v=s();return P.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(p,_){var g=d&&_>=h&&_<=f,m=o.dayProp(p),y=m.className,E=m.style;return P.createElement(l,{key:_,value:p,range:i},P.createElement("div",{style:E,className:at("rbc-day-bg",y,g&&"rbc-selected-cell",u.isSameDate(p,v)&&"rbc-today",a&&u.neq(a,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new Ub(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qh(i,l)&&!one(i,l)){var c=Bs(i),d=r.props,h=d.range,f=d.rtl;if(Jte(c,l)){var v=Vb(c,l.x,f,h.length);r._selectSlot({startIdx:v,endIdx:v,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,c=l.rtl,d=-1,h=-1;if(r.state.selecting||(je(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var f=Bs(i),v=Zte(r._initial,f,a,u.length,c);d=v.startIdx,h=v.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!qh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Ce(Ce({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),je(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}]),t}(P.Component),Jn={propTypes:{slotMetrics:F.object.isRequired,selected:F.object,isAllDay:F.bool,accessors:F.object.isRequired,localizer:F.object.isRequired,components:F.object.isRequired,getters:F.object.isRequired,onSelect:F.func,onDoubleClick:F.func,onKeyPress:F.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,o=t.onSelect,a=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,c=t.slotMetrics,d=t.components,h=t.resizable,f=c.continuesPrior(n),v=c.continuesAfter(n);return P.createElement(Lb,{event:n,getters:s,localizer:u,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:v,slotStart:c.first,slotEnd:c.last,selected:Ep(n,r),resizable:h})},renderSpan:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/t*100+"%";return P.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},Bb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return P.createElement("div",{className:at(a,"rbc-row")},s.reduce(function(u,c,d){var h=c.event,f=c.left,v=c.right,p=c.span,_="_lvl_"+d,g=f-l,m=Jn.renderEvent(r.props,h);return g&&u.push(Jn.renderSpan(o,g,"".concat(_,"_gap"))),u.push(Jn.renderSpan(o,p,_,m)),l=v+1,u},[]))}}]),t}(P.Component);Bb.defaultProps=Ce({},Jn.defaultProps);function zb(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function cne(e,t,n,r){var i=zb({dateRange:t,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(e),"day"),s),u=r.min(r.ceil(n.end(e),"day"),o),c=gK(t,function(h){return r.isSameDate(h,l)}),d=r.diff(l,u,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:e,span:d,left:c+1,right:Math.max(c+d,1)}}function Wb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<e.length;n++){for(i=e[n],r=0;r<s.length&&dne(i,s[r]);r++);r>=t?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Pu(e,t,n,r,i){var s={start:r.start(e),end:r.end(e)},o={start:t,end:n};return i.inEventRange({event:s,range:o})}function dne(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function hne(e,t,n){var r=bd(e),i=[],s=[];r.forEach(function(l){var u=t.start(l),c=t.end(l);n.daySpan(u,c)>1?i.push(l):s.push(l)});var o=i.sort(function(l,u){return Bv(l,u,t,n)}),a=s.sort(function(l,u){return Bv(l,u,t,n)});return[].concat(bd(o),bd(a))}function Bv(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var Hb=function(t,n){return t.left<=n&&t.right>=n},eI=function(t,n){return t.filter(function(r){return Hb(r,n)}).map(function(r){return r.event})},Yb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=Wb(i).levels[0],a=1,l=1,u=[];a<=s;){var c="_lvl_"+a,d=o.filter(function(m){return Hb(m,a)})[0]||{},h=d.event,f=d.left,v=d.right,p=d.span;if(!h){a++;continue}var _=Math.max(0,f-l);if(this.canRenderSlotEvent(f,p)){var g=Jn.renderEvent(this.props,h);_&&u.push(Jn.renderSpan(s,_,c+"_gap")),u.push(Jn.renderSpan(s,p,c,g)),l=a=v+1}else _&&u.push(Jn.renderSpan(s,_,c+"_gap")),u.push(Jn.renderSpan(s,1,c,this.renderShowMore(i,a))),l=a=a+1}return P.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return CK(r,r+i).every(function(o){var a=eI(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=l.getEventsForSlot(i),c=eI(r,i),d=c.length;return d?P.createElement("button",{type:"button",key:"sm_"+i,className:at("rbc-button-link","rbc-show-more"),onClick:function(f){return s.showMore(i,f)}},a.messages.showMore(d,c,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}]),t}(P.Component);Yb.defaultProps=Ce({},Jn.defaultProps);var fne=function(t){var n=t.children;return P.createElement("div",{className:"rbc-row-content-scroll-container"},n)},pne=function(t,n){return t.left<=n&&t.right>=n},mne=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function qb(){return vb(function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,s=e.accessors,o=e.localizer,a=zb({dateRange:t,localizer:o}),l=a.first,u=a.last,c=n.map(function(p){return cne(p,t,s,o)}),d=Wb(c,Math.max(r-1,1)),h=d.levels,f=d.extra,v=f.length>0?i-1:i;h.length<v;)h.push([]);return{first:l,last:u,levels:h,extra:f,range:t,slots:t.length,clone:function(_){var g=qb();return g(Ce(Ce({},e),_))},getDateForSlot:function(_){return t[_]},getSlotForDate:function(_){return t.find(function(g){return o.isSameDate(g,_)})},getEventsForSlot:function(_){return c.filter(function(g){return pne(g,_)}).map(function(g){return g.event})},continuesPrior:function(_){return o.continuesPrior(s.start(_),l)},continuesAfter:function(_){var g=s.start(_),m=s.end(_);return o.continuesAfter(g,m,u)}}},mne)}var Gh=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,u=l.range,c=l.onShowMore,d=n.slotMetrics(n.props),h=fW(n.containerRef.current,".rbc-row-bg")[0],f;h&&(f=h.children[o-1]);var v=d.getEventsForSlot(o);c(v,u[o-1],f,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,u=l.renderHeader,c=l.getNow,d=l.localizer;return u({date:o,key:"header_".concat(a),className:at("rbc-date-cell",d.isSameDate(o,c())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,u=o.renderHeader,c=o.showAllEvents;return P.createElement("div",{className:a,ref:n.containerRef},P.createElement("div",{className:at("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&P.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),P.createElement("div",{className:"rbc-row",ref:n.eventRowRef},P.createElement("div",{className:"rbc-row-segment"},P.createElement("div",{className:"rbc-event"},P.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=R.createRef(),n.headingRowRef=R.createRef(),n.eventRowRef=R.createRef(),n.slotMetrics=qb(),n}return mt(t,[{key:"getRowLimit",value:function(){var r,i=Vm(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Vm(this.headingRowRef.current):0,o=Vm(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,c=r.renderForMeasure,d=r.accessors,h=r.getters,f=r.components,v=r.getNow,p=r.renderHeader,_=r.onSelect,g=r.localizer,m=r.onSelectStart,y=r.onSelectEnd,E=r.onDoubleClick,S=r.onKeyPress,T=r.resourceId,I=r.longPressThreshold,A=r.isAllDay,k=r.resizable,C=r.showAllEvents;if(c)return this.renderDummy();var M=this.slotMetrics(this.props),z=M.levels,q=M.extra,Ee=C?fne:Sr,ye=f.weekWrapper,ie={selected:l,accessors:d,getters:h,localizer:g,components:f,onSelect:_,onDoubleClick:E,onKeyPress:S,resourceId:T,slotMetrics:M,resizable:k};return P.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},P.createElement(une,{localizer:g,date:i,getNow:v,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:m,onSelectEnd:y,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:I,resourceId:T}),P.createElement("div",{className:at("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},p&&P.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),P.createElement(Ee,null,P.createElement(ye,Object.assign({isAllDay:A},ie,{rtl:this.props.rtl}),z.map(function(fe,V){return P.createElement(Bb,Object.assign({key:V,segments:fe},ie))}),!!q.length&&P.createElement(Yb,Object.assign({segments:q,onShowMore:this.handleShowMore},ie))))))}}]),t}(P.Component);Gh.defaultProps={minRows:0,maxRows:1/0};var Gb=function(t){var n=t.label;return P.createElement("span",{role:"columnheader","aria-sort":"none"},n)},gne=function(t){var n=t.label,r=t.drilldownView,i=t.onDrillDown;return r?P.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},n):P.createElement("span",null,n)},vne=["date","className"],yne=function(t,n,r,i,s){return t.filter(function(o){return Pu(o,n,r,i,s)})},Sp=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,u=l.events,c=l.components,d=l.selectable,h=l.getNow,f=l.selected,v=l.date,p=l.localizer,_=l.longPressThreshold,g=l.accessors,m=l.getters,y=l.showAllEvents,E=n.state,S=E.needLimitMeasure,T=E.rowLimit,I=yne(bd(u),o[0],o[o.length-1],g,p),A=hne(I,g,p);return P.createElement(Gh,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:v,range:o,events:A,maxRows:y?1/0:T,selected:f,selectable:d,components:c,accessors:g,getters:m,localizer:p,renderHeader:n.readerDateHeading,renderForMeasure:S,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:_,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:y})},n.readerDateHeading=function(o){var a=o.date,l=o.className,u=pr(o,vne),c=n.props,d=c.date,h=c.getDrilldownView,f=c.localizer,v=f.neq(a,d,"month"),p=f.isSameDate(a,d),_=h(a),g=f.format(a,"dateFormat"),m=n.props.components.dateHeader||gne;return P.createElement("div",Object.assign({},u,{className:at(l,v&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),P.createElement(m,{label:g,date:a,drilldownView:_,isOffRange:v,onDrillDown:function(E){return n.handleHeadingClick(a,_,E)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),je(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,u,c){var d=n.props,h=d.popup,f=d.onDrillDown,v=d.onShowMore,p=d.getDrilldownView,_=d.doShowMoreDrillDown;if(n.clearSelection(),h){var g=Wk(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:g,target:c}})}else _&&je(f,[a,p(a)||jt.DAY]);je(v,[o,a,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=R.createRef(),n.slotRowRef=R.createRef(),n._bgRows=[],n._pendingSelection=[],n}return mt(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Hk(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=X9(a,7);return this._weekCount=l.length,P.createElement("div",{className:at("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},P.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],u=o.header||Gb;return s.range(a,l,"day").map(function(c,d){return P.createElement("div",{key:"header_"+d,className:"rbc-header"},P.createElement(u,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,v=a.handleDragStart,p=function(){return s.setState({overlay:null})};return P.createElement(qw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),je(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}]),t}(P.Component);Sp.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),i=n.lastVisibleDay(e,n);return{start:r,end:i}};Sp.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"month");case rn.NEXT:return r.add(e,1,"month");default:return e}};Sp.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var tI=function(t){var n=t.min,r=t.max,i=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function Gw(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,s=e.localizer,o=tI({start:t,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),u=Math.ceil((a-1)/(r*i)),c=u*i,d=new Array(u),h=new Array(c),f=0;f<u;f++){d[f]=new Array(i);for(var v=0;v<i;v++){var p=f*i+v,_=p*r;h[p]=d[f][v]=s.getSlotDate(t,l,_)}}var g=h.length*r;h.push(s.getSlotDate(t,l,g));function m(y){var E=s.diff(t,y,"minutes")+s.getDstOffset(t,y);return Math.min(E,a)}return{groups:d,update:function(E){return tI(E)!==o?Gw(E):this},dateIsInGroup:function(E,S){var T=d[S+1];return s.inRange(E,d[S][0],T?T[0]:n,"minutes")},nextSlot:function(E){var S=h[Math.min(h.findIndex(function(T){return T===E||s.eq(T,E)})+1,h.length-1)];return s.eq(S,E)&&(S=s.add(E,r,"minutes")),S},closestSlotToPosition:function(E){var S=Math.min(h.length-1,Math.max(0,Math.floor(E*c)));return h[S]},closestSlotFromPoint:function(E,S){var T=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((E.y-S.top)/T)},closestSlotFromDate:function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,t,"minutes"))return h[0];if(s.gt(E,n,"minutes"))return h[h.length-1];var T=s.diff(t,E,"minutes");return h[(T-T%r)/r+S]},startsBeforeDay:function(E){return s.lt(E,t,"day")},startsAfterDay:function(E){return s.gt(E,n,"day")},startsBefore:function(E){return s.lt(s.merge(t,E),t,"minutes")},startsAfter:function(E){return s.gt(s.merge(n,E),n,"minutes")},getRange:function(E,S,T,I){T||(E=s.min(n,s.max(t,E))),I||(S=s.min(n,s.max(t,S)));var A=m(E),k=m(S),C=k>r*c&&!s.eq(n,S)?(A-r)/(r*c)*100:A/(r*c)*100;return{top:C,height:k/(r*c)*100-C,start:m(E),startDate:E,end:m(S),endDate:S}},getCurrentTimePosition:function(E){var S=m(E),T=S/(r*c)*100;return T}}}var _ne=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;pt(this,e);var s=i.getRange(r.start(t),r.end(t)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=c,this.height=d,this.data=t}return mt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}]),e}();function wne(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Ene(e){for(var t=GQ(e,["startMs",function(a){return-a.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var o=t.splice(i,1)[0];n.push(o)}break}}}return n}function Kb(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=t.map(function(c){return new _ne(c,{slotMetrics:r,accessors:i})}),o=Ene(s),a=[],l=function(){var d=o[u],h=a.find(function(p){return p.end>d.start||Math.abs(d.start-p.start)<n});if(!h)return d.rows=[],a.push(d),1;d.container=h;for(var f=null,v=h.rows.length-1;!f&&v>=0;v--)wne(h.rows[v],d,n)&&(f=h.rows[v]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],h.rows.push(d))},u=0;u<o.length;u++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Qb(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=Qb(e.friends[r],t,n);t=t>i?t:i}return t}function Sne(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=Kb({events:t,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(ye,ie){return ye=ye.style,ie=ie.style,ye.top!==ie.top?ye.top>ie.top?1:-1:ye.height!==ie.height?ye.top+ye.height<ie.top+ie.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,c=l.style.top+l.style.height,d=a+1;d<s.length;++d){var h=s[d],f=h.style.top,v=h.style.top+h.style.height;(f>=u&&v<=c||v>u&&v<=c||f>=u&&f<c)&&(l.friends.push(h),h.friends.push(l))}for(var p=0;p<s.length;++p){for(var _=s[p],g=[],m=0;m<100;++m)g.push(1);for(var y=0;y<_.friends.length;++y)_.friends[y].idx!==void 0&&(g[_.friends[y].idx]=0);_.idx=g.indexOf(1)}for(var E=0;E<s.length;++E){var S=0;if(!s[E].size){var T=[],I=Qb(s[E],0,T);S=100/(I+1),s[E].size=S;for(var A=0;A<T.length;++A)T[A].size=S}}for(var k=0;k<s.length;++k){var C=s[k];C.style.left=C.idx*C.size;for(var M=0,z=0;z<C.friends.length;++z){var q=C.friends[z].idx;M=M>q?M:q}M<=C.idx&&(C.size=100-C.idx*C.size);var Ee=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(Ee,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(Ee,"px)")}return s}var nI={overlap:Kb,"no-overlap":Sne};function Tne(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ine(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in nI&&(n=nI[t]),Tne(n)?n.apply(this,arguments):[]}var Xb=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,d=c===void 0?Sr:c,h=a?a.slotGroupProp(o):{};return P.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(f,v){var p=a?a.slotProp(f,s):{};return P.createElement(d,{key:v,value:f,resource:s},P.createElement("div",Object.assign({},p,{className:at("rbc-time-slot",p.className)}),i&&i(f,v)))}))}}]),t}(R.Component);function id(e){return typeof e=="string"?e:e+"%"}function Rne(e){var t=e.style,n=e.className,r=e.event,i=e.accessors,s=e.rtl,o=e.selected,a=e.label,l=e.continuesPrior,u=e.continuesAfter,c=e.getters,d=e.onClick,h=e.onDoubleClick,f=e.isBackgroundEvent,v=e.onKeyPress,p=e.components,_=p.event,g=p.eventWrapper,m=i.title(r),y=i.tooltip(r),E=i.end(r),S=i.start(r),T=c.eventProp(r,S,E,o),I=[P.createElement("div",{key:"1",className:"rbc-event-label"},a),P.createElement("div",{key:"2",className:"rbc-event-content"},_?P.createElement(_,{event:r,title:m}):m)],A=t.height,k=t.top,C=t.width,M=t.xOffset,z=Ce(Ce({},T.style),{},us({top:id(k),height:id(A),width:id(C)},s?"right":"left",id(M)));return P.createElement(g,Object.assign({type:"time"},e),P.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:z,onKeyDown:v,title:y?(typeof a=="string"?a+": ":"")+y:void 0,className:at(f?"rbc-background-event":"rbc-event",n,T.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},I))}var Ane=function(t){var n=t.children,r=t.className,i=t.style,s=t.innerRef;return P.createElement("div",{className:r,style:i,ref:s},n)},Pne=P.forwardRef(function(e,t){return P.createElement(Ane,Object.assign({},e,{innerRef:t}))}),Cne=["dayProp"],Dne=["eventContainerWrapper"],Jb=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=n.props,c=u.rtl,d=u.selected,h=u.accessors,f=u.localizer,v=u.getters,p=u.components,_=u.step,g=u.timeslots,m=u.dayLayoutAlgorithm,y=u.resizable,E=vk(n),S=E.slotMetrics,T=f.messages,I=Ine({events:a,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(_*g/2),dayLayoutAlgorithm:m});return I.map(function(A,k){var C=A.event,M=A.style,z=h.end(C),q=h.start(C),Ee="eventTimeRangeFormat",ye,ie=S.startsBeforeDay(q),fe=S.startsAfterDay(z);ie?Ee="eventTimeRangeEndFormat":fe&&(Ee="eventTimeRangeStartFormat"),ie&&fe?ye=T.allDay:ye=f.format({start:q,end:z},Ee);var V=ie||S.startsBefore(q),X=fe||S.startsAfter(z);return P.createElement(Rne,{style:M,event:C,label:ye,key:"evt_"+k,getters:v,rtl:c,components:p,continuesPrior:V,continuesAfter:X,accessors:h,resource:n.props.resource,selected:Ep(C,d),onClick:function(D){return n._select(Ce(Ce(Ce({},C),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),D)},onDoubleClick:function(D){return n._doubleClick(C,D)},isBackgroundEvent:l,onKeyPress:function(D){return n._keyPress(C,D)},resizable:y})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,u=a.localizer,c=n._selector=new Ub(function(){return o},{longPressThreshold:l}),d=function(p){var _=n.props.onSelecting,g=n.state||{},m=h(p),y=m.startDate,E=m.endDate;_&&(u.eq(g.startDate,y,"minutes")&&u.eq(g.endDate,E,"minutes")||_({start:y,end:E,resourceId:n.props.resource})===!1)||(n.state.start!==m.start||n.state.end!==m.end||n.state.selecting!==m.selecting)&&n.setState(m)},h=function(p){var _=n.slotMetrics.closestSlotFromPoint(p,Bs(o));n.state.selecting||(n._initialSlot=_);var g=n._initialSlot;u.lte(g,_)?_=n.slotMetrics.nextSlot(_):u.gt(g,_)&&(g=n.slotMetrics.nextSlot(g));var m=n.slotMetrics.getRange(u.min(g,_),u.max(g,_));return Ce(Ce({},m),{},{selecting:!0,top:"".concat(m.top,"%"),height:"".concat(m.height,"%")})},f=function(p,_){if(!qh(n.containerRef.current,p)){var g=h(p),m=g.startDate,y=g.endDate;n._selectSlot({startDate:m,endDate:y,action:_,box:p})}n.setState({selecting:!1})};c.on("selecting",d),c.on("selectStart",d),c.on("beforeSelect",function(v){if(n.props.selectable==="ignoreEvents")return!qh(n.containerRef.current,v)}),c.on("click",function(v){return f(v,"click")}),c.on("doubleClick",function(v){return f(v,"doubleClick")}),c.on("select",function(v){n.state.selecting&&(n._selectSlot(Ce(Ce({},n.state),{},{action:"select",bounds:v})),n.setState({selecting:!1}))}),c.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,c=o.bounds,d=o.box,h=a,f=[];n.props.localizer.lte(h,l);)f.push(h),h=new Date(+h+n.props.step*60*1e3);je(n.props.onSelectSlot,{slots:f,start:a,end:l,resourceId:n.props.resource,action:u,bounds:c,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.slotMetrics=Gw(n.props),n.containerRef=R.createRef(),n}return mt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,c=s.min,d=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var f=!h&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(f)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,c=r.localizer,d=r.getters,h=d.dayProp,f=pr(d,Cne),v=r.components,p=v.eventContainerWrapper,_=pr(v,Dne);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,m=this.state,y=m.selecting,E=m.top,S=m.height,T=m.startDate,I=m.endDate,A={start:T,end:I},k=h(s),C=k.className,M=k.style,z=_.dayColumnWrapper||Pne;return P.createElement(z,{ref:this.containerRef,date:i,style:M,className:at(C,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",y&&"rbc-slot-selecting"),slotMetrics:g},g.groups.map(function(q,Ee){return P.createElement(Xb,{key:Ee,group:q,resource:l,getters:f,components:_})}),P.createElement(p,{localizer:c,resource:l,accessors:u,getters:f,components:_,slotMetrics:g},P.createElement("div",{className:at("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),y&&P.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:S}},P.createElement("span",null,c.format(A,"selectRangeFormat"))),a&&this.intervalTriggered&&P.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(P.Component);Jb.defaultProps={dragThroughEvents:!0,timeslots:2};function kne(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var bne=function(t){var n=t.min,r=t.max,i=t.timeslots,s=t.step,o=t.localizer,a=t.getNow,l=t.resource,u=t.components,c=t.getters,d=t.gutterRef,h=u.timeGutterWrapper,f=R.useMemo(function(){return kne({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),v=f.start,p=f.end,_=R.useState(Gw({min:v,max:p,timeslots:i,step:s,localizer:o})),g=Rr(_,2),m=g[0],y=g[1];R.useEffect(function(){m&&y(m.update({min:v,max:p,timeslots:i,step:s,localizer:o}))},[v==null?void 0:v.toISOString(),p==null?void 0:p.toISOString(),i,s]);var E=R.useCallback(function(S,T){if(T)return null;var I=m.dateIsInGroup(a(),T);return P.createElement("span",{className:at("rbc-label",I&&"rbc-now")},o.format(S,"timeGutterFormat"))},[m,o,a]);return P.createElement(h,{slotMetrics:m},P.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},m.groups.map(function(S,T){return P.createElement(Xb,{key:T,group:S,resource:l,components:u,renderSlot:E,getters:c})})))},One=P.forwardRef(function(e,t){return P.createElement(bne,Object.assign({gutterRef:t},e))}),xne=function(t){var n=t.label;return P.createElement(P.Fragment,null,n)},Nne=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),je(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,u=a.rtl,c=a.selectable,d=a.getNow,h=a.range,f=a.getters,v=a.localizer,p=a.accessors,_=a.components,g=a.resizable,m=p.resourceId(o),y=o?l.filter(function(E){return p.resource(E)===m}):l;return P.createElement(Gh,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:y,resourceId:m,className:"rbc-allday-cell",selectable:c,selected:n.props.selected,components:_,accessors:p,getters:f,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:g})},n}return mt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,c=s.components.header,d=c===void 0?Gb:c,h=l();return r.map(function(f,v){var p=a(f),_=o.format(f,"dayFormat"),g=u(f),m=g.className,y=g.style,E=P.createElement(d,{date:f,label:_,localizer:o});return P.createElement("div",{key:v,style:y,className:at("rbc-header",m,o.isSameDate(f,h)&&"rbc-today")},p?P.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(T){return i.handleHeaderClick(f,p,T)}},E):P.createElement("span",null,E))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,u=i.events,c=i.getNow,d=i.accessors,h=i.selectable,f=i.components,v=i.getters,p=i.scrollRef,_=i.localizer,g=i.isOverflowing,m=i.components,y=m.timeGutterHeader,E=m.resourceHeader,S=E===void 0?xne:E,T=i.resizable,I={};g&&(I[o?"marginLeft":"marginRight"]="".concat(eb()-1,"px"));var A=a.groupEvents(u);return P.createElement("div",{style:I,ref:p,className:at("rbc-time-header",g&&"rbc-overflowing")},P.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},y&&P.createElement(y,null)),a.map(function(k,C){var M=Rr(k,2),z=M[0],q=M[1];return P.createElement("div",{className:"rbc-time-header-content",key:z||C},q&&P.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},P.createElement("div",{className:"rbc-header"},P.createElement(S,{index:C,label:d.resourceTitle(q),resource:q}))),P.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),P.createElement(Gh,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:A.get(z)||[],resourceId:q&&z,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:f,accessors:d,getters:v,localizer:_,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:T}))}))}}]),t}(P.Component),Bm={};function Mne(e,t){return{map:function(r){return e?e.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([Bm,null],0)]},groupEvents:function(r){var i=new Map;return e?(r.forEach(function(s){var o=t.resource(s)||Bm;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(s),i.set(l,u)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(Bm,r),i)}}}var xa=function(e){Yt(t,e);function t(n){var r;return pt(this,t),r=Ht(this,t,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){UT(r.rafHandle),r.rafHandle=Hk(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];je(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var u=r.props,c=u.popup,d=u.onDrillDown,h=u.onShowMore,f=u.getDrilldownView,v=u.doShowMoreDrillDown;if(r.clearSelection(),c){var p=Wk(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Ce(Ce({},p),{},{width:"200px"}),target:l}})}else v&&je(d,[s,f(s)||jt.DAY]);je(h,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),je(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=vb(function(i,s){return Mne(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=P.createRef(),r.contentRef=P.createRef(),r.containerRef=P.createRef(),r._scrollRatio=null,r.gutterRef=R.createRef(),r}return mt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),UT(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,i,s,o){var a=this,l=this.props,u=l.min,c=l.max,d=l.components,h=l.accessors,f=l.localizer,v=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,h),_=p.groupEvents(i),g=p.groupEvents(s);return p.map(function(m,y){var E=Rr(m,2),S=E[0],T=E[1];return r.map(function(I,A){var k=(_.get(S)||[]).filter(function(M){return f.inRange(I,h.start(M),h.end(M),"day")}),C=(g.get(S)||[]).filter(function(M){return f.inRange(I,h.start(M),h.end(M),"day")});return P.createElement(Jb,Object.assign({},a.props,{localizer:f,min:f.merge(I,u),max:f.merge(I,c),resource:T&&S,components:d,isNow:f.isSameDate(I,o),key:y+"-"+A,date:I,events:k,backgroundEvents:C,dayLayoutAlgorithm:v}))})})}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,u=i.rtl,c=i.selected,d=i.getNow,h=i.resources,f=i.components,v=i.accessors,p=i.getters,_=i.localizer,g=i.min,m=i.max,y=i.showMultiDayTimes,E=i.longPressThreshold,S=i.resizable;l=l||this.state.gutterWidth;var T=a[0],I=a[a.length-1];this.slots=a.length;var A=[],k=[],C=[];return s.forEach(function(M){if(Pu(M,T,I,v,_)){var z=v.start(M),q=v.end(M);v.allDay(M)||_.startAndEndAreDateOnly(z,q)||!y&&!_.isSameDate(z,q)?A.push(M):k.push(M)}}),o.forEach(function(M){Pu(M,T,I,v,_)&&C.push(M)}),A.sort(function(M,z){return Bv(M,z,v,_)}),P.createElement("div",{className:at("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},P.createElement(Nne,{range:a,events:A,width:l,rtl:u,getNow:d,localizer:_,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:p,components:f,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S}),this.props.popup&&this.renderOverlay(),P.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},P.createElement(One,{date:T,ref:this.gutterRef,localizer:_,min:_.merge(T,g),max:_.merge(T,m),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:f,className:"rbc-time-gutter",getters:p}),this.renderEvents(a,k,C,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,v=a.handleDragStart,p=function(){return s.setState({overlay:null})};return P.createElement(qw,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?jv(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),u=a.diff(i,s,"milliseconds");this._scrollRatio=l/u}}]),t}(R.Component);xa.defaultProps={step:30,timeslots:2};var $ne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Tp=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=pr(r,$ne),p=t.range(i,{localizer:s});return P.createElement(xa,Object.assign({},v,{range:p,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(P.Component);Tp.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Tp.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"day");case rn.NEXT:return r.add(e,1,"day");default:return e}};Tp.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var Lne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Wi=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=pr(r,Lne),p=t.range(i,this.props);return P.createElement(xa,Object.assign({},v,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(P.Component);Wi.defaultProps=xa.defaultProps;Wi.navigate=function(e,t,n){var r=n.localizer;switch(t){case rn.PREVIOUS:return r.add(e,-1,"week");case rn.NEXT:return r.add(e,1,"week");default:return e}};Wi.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(i,s)};Wi.title=function(e,t){var n=t.localizer,r=Wi.range(e,{localizer:n}),i=Ib(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Fne=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Kw(e,t){return Wi.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var wc=function(e){Yt(t,e);function t(){return pt(this,t),Ht(this,t,arguments)}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,v=pr(r,Fne),p=Kw(i,this.props);return P.createElement(xa,Object.assign({},v,{range:p,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),t}(P.Component);wc.defaultProps=xa.defaultProps;wc.range=Kw;wc.navigate=Wi.navigate;wc.title=function(e,t){var n=t.localizer,r=Kw(e,{localizer:n}),i=Ib(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};function Hi(e){var t=e.accessors,n=e.components,r=e.date,i=e.events,s=e.getters,o=e.length,a=e.localizer,l=e.onDoubleClickEvent,u=e.onSelectEvent,c=e.selected,d=R.useRef(null),h=R.useRef(null),f=R.useRef(null),v=R.useRef(null),p=R.useRef(null);R.useEffect(function(){m()});var _=function(I,A,k){var C=n.event,M=n.date;return A=A.filter(function(z){return Pu(z,a.startOf(I,"day"),a.endOf(I,"day"),t,a)}),A.map(function(z,q){var Ee=t.title(z),ye=t.end(z),ie=t.start(z),fe=s.eventProp(z,ie,ye,Ep(z,c)),V=q===0&&a.format(I,"agendaDateFormat"),X=q===0?P.createElement("td",{rowSpan:A.length,className:"rbc-agenda-date-cell"},M?P.createElement(M,{day:I,label:V}):V):!1;return P.createElement("tr",{key:k+"_"+q,className:fe.className,style:fe.style},X,P.createElement("td",{className:"rbc-agenda-time-cell"},g(I,z)),P.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(D){return u&&u(z,D)},onDoubleClick:function(D){return l&&l(z,D)}},C?P.createElement(C,{event:z,title:Ee}):Ee))},[])},g=function(I,A){var k="",C=n.time,M=a.messages.allDay,z=t.end(A),q=t.start(A);return t.allDay(A)||(a.eq(q,z)?M=a.format(q,"agendaTimeFormat"):a.isSameDate(q,z)?M=a.format({start:q,end:z},"agendaTimeRangeFormat"):a.isSameDate(I,q)?M=a.format(q,"agendaTimeFormat"):a.isSameDate(I,z)&&(M=a.format(z,"agendaTimeFormat"))),a.gt(I,q,"day")&&(k="rbc-continues-prior"),a.lt(I,z,"day")&&(k+=" rbc-continues-after"),P.createElement("span",{className:k.trim()},C?P.createElement(C,{event:A,day:I,label:M}):M)},m=function(){if(p.current){var I=d.current,A=p.current.firstChild;if(A){var k=v.current.scrollHeight>v.current.clientHeight,C=[],M=C;C=[jv(A.children[0]),jv(A.children[1])],(M[0]!==C[0]||M[1]!==C[1])&&(h.current.style.width=C[0]+"px",f.current.style.width=C[1]+"px"),k?(F6(I,"rbc-header-overflowing"),I.style.marginRight=eb()+"px"):V6(I,"rbc-header-overflowing")}}},y=a.messages,E=a.add(r,o,"day"),S=a.range(r,E,"day");return i=i.filter(function(T){return Pu(T,a.startOf(r,"day"),a.endOf(E,"day"),t,a)}),i.sort(function(T,I){return+t.start(T)-+t.start(I)}),P.createElement("div",{className:"rbc-agenda-view"},i.length!==0?P.createElement(P.Fragment,null,P.createElement("table",{ref:d,className:"rbc-agenda-table"},P.createElement("thead",null,P.createElement("tr",null,P.createElement("th",{className:"rbc-header",ref:h},y.date),P.createElement("th",{className:"rbc-header",ref:f},y.time),P.createElement("th",{className:"rbc-header"},y.event)))),P.createElement("div",{className:"rbc-agenda-content",ref:v},P.createElement("table",{className:"rbc-agenda-table"},P.createElement("tbody",{ref:p},S.map(function(T,I){return _(T,i,I)}))))):P.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}Hi.defaultProps={length:30};Hi.range=function(e,t){var n=t.length,r=n===void 0?Hi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return{start:e,end:s}};Hi.navigate=function(e,t,n){var r=n.length,i=r===void 0?Hi.defaultProps.length:r,s=n.localizer;switch(t){case rn.PREVIOUS:return s.add(e,-i,"day");case rn.NEXT:return s.add(e,i,"day");default:return e}};Hi.title=function(e,t){var n=t.length,r=n===void 0?Hi.defaultProps.length:n,i=t.localizer,s=i.add(e,r,"day");return i.format({start:e,end:s},"agendaHeaderFormat")};var Nd=us(us(us(us(us({},jt.MONTH,Sp),jt.WEEK,Wi),jt.WORK_WEEK,wc),jt.DAY,Tp),jt.AGENDA,Hi),Vne=["action","date","today"];function jne(e,t){var n=t.action,r=t.date,i=t.today,s=pr(t,Vne);switch(e=typeof e=="string"?Nd[e]:e,n){case rn.TODAY:r=i||new Date;break;case rn.DATE:break;default:mu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}var Une=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return P.createElement("div",{className:"rbc-toolbar"},P.createElement("span",{className:"rbc-btn-group"},P.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.TODAY)},i.today),P.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.PREVIOUS)},i.previous),P.createElement("button",{type:"button",onClick:this.navigate.bind(null,rn.NEXT)},i.next)),P.createElement("span",{className:"rbc-toolbar-label"},s),P.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return P.createElement("button",{type:"button",key:a,className:at({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}]),t}(P.Component);function Bne(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&qr(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var ai=function(t){return function(n){return Bne(n,t)}},zne=["view","date","getNow","onNavigate"],Wne=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Zb(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Rr(r[n],2),s=i[0],o=i[1];o&&t.push(s)}return t}function Hne(e,t){var n=t.views,r=Zb(n);return r.indexOf(e)!==-1}var eO=function(e){Yt(t,e);function t(){var n;pt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ht(this,t,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?gte(o,function(a,l){return a[l]=Nd[l]},{}):qr(o)==="object"?Ste(o,function(a,l){return a===!0?Nd[l]:a}):Nd},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,u=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(o,a,l){var u=n.props,c=u.onRangeChange,d=u.localizer;c&&a.range&&c(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,u=l.view,c=l.date,d=l.getNow,h=l.onNavigate,f=pr(l,zne),v=n.getView(),p=d();c=jne(v,Ce(Ce({},f),{},{action:o,date:a||c||p,today:p})),h(c,u,o),n.handleRangeChange(c,v)},n.handleViewChange=function(o){o!==n.props.view&&Hne(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];je(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){je(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(rn.DATE,o)},n.state={context:t.getContext(n.props)},n}return mt(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.style,u=r.className,c=r.elementProps,d=r.date,h=r.getNow,f=r.length,v=r.showMultiDayTimes,p=r.onShowMore,_=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var g=pr(r,Wne);d=d||h();var m=this.getView(),y=this.state.context,E=y.accessors,S=y.components,T=y.getters,I=y.localizer,A=y.viewNames,k=S.toolbar||Une,C=m.title(d,{localizer:I,length:f});return P.createElement("div",Object.assign({},c,{className:at(u,"rbc-calendar",g.rtl&&"rbc-rtl"),style:l}),s&&P.createElement(k,{date:d,view:i,views:A,label:C,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:I}),P.createElement(m,Object.assign({},g,{events:o,backgroundEvents:a,date:d,getNow:h,length:f,localizer:I,getters:T,components:S,accessors:E,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:_})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,c=r.resourceIdAccessor,d=r.resourceTitleAccessor,h=r.eventPropGetter,f=r.backgroundEventPropGetter,v=r.slotPropGetter,p=r.slotGroupPropGetter,_=r.dayPropGetter,g=r.view,m=r.views,y=r.localizer,E=r.culture,S=r.messages,T=S===void 0?{}:S,I=r.components,A=I===void 0?{}:I,k=r.formats,C=k===void 0?{}:k,M=Zb(m),z=Kte(T);return{viewNames:M,localizer:qte(y,E,C,z),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return f&&f.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return p&&p.apply(void 0,arguments)||{}},dayProp:function(){return _&&_.apply(void 0,arguments)||{}}},components:rte(A[g]||{},Kee(A,M),{eventWrapper:Sr,backgroundEventWrapper:Sr,eventContainerWrapper:Sr,dateCellWrapper:Sr,weekWrapper:Sr,timeSlotWrapper:Sr,timeGutterWrapper:Sr}),accessors:{start:ai(i),end:ai(s),allDay:ai(o),tooltip:ai(a),title:ai(l),resource:ai(u),resourceId:ai(c),resourceTitle:ai(d)}}}}]),t}(P.Component);eO.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:jt.MONTH,views:[jt.MONTH,jt.WEEK,jt.DAY,jt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:jt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Yne=Tk(eO,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),qne=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",n)+" – "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",n)},Gne=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"L",n)+" – "+r.format(s,"L",n)},zm=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"LT",n)+" – "+r.format(s,"LT",n)},Kne=function(t,n,r){var i=t.start;return r.format(i,"LT",n)+" – "},Qne=function(t,n,r){var i=t.end;return" – "+r.format(i,"LT",n)},Xne={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:zm,eventTimeRangeFormat:zm,eventTimeRangeStartFormat:Kne,eventTimeRangeEndFormat:Qne,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:qne,agendaHeaderFormat:Gne,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:zm};function li(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Jne(e){var t=function(x,j){return j?x.locale(j):x};function n(D){return e(D).toDate().getTimezoneOffset()}function r(D,x){var j,W,G=e(D).local(),ae=e(x).local();if(!e.tz)return G.toDate().getTimezoneOffset()-ae.toDate().getTimezoneOffset();var Te=(j=G==null||(W=G._z)===null||W===void 0?void 0:W.name)!==null&&j!==void 0?j:e.tz.guess(),Pe=e.tz.zone(Te).utcOffset(+G),kn=e.tz.zone(Te).utcOffset(+ae);return Pe-kn}function i(D){var x=e(D).startOf("day");return r(x,D)}function s(D,x,j){var W=li(j),G=W?e(D).startOf(W):e(D),ae=W?e(x).startOf(W):e(x);return[G,ae,W]}function o(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,j=li(x);return j?e(D).startOf(j).toDate():e(D).toDate()}function a(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,j=li(x);return j?e(D).endOf(j).toDate():e(D).toDate()}function l(D,x,j){var W=s(D,x,j),G=Rr(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSame(Te,Pe)}function u(D,x,j){return!l(D,x,j)}function c(D,x,j){var W=s(D,x,j),G=Rr(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isAfter(Te,Pe)}function d(D,x,j){var W=s(D,x,j),G=Rr(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isBefore(Te,Pe)}function h(D,x,j){var W=s(D,x,j),G=Rr(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSameOrBefore(Te,Pe)}function f(D,x,j){var W=s(D,x,j),G=Rr(W,3),ae=G[0],Te=G[1],Pe=G[2];return ae.isSameOrBefore(Te,Pe)}function v(D,x,j){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",G=li(W),ae=e(D),Te=e(x),Pe=e(j);return ae.isBetween(Te,Pe,G,"[]")}function p(D,x){var j=e(D),W=e(x),G=e.min(j,W);return G.toDate()}function _(D,x){var j=e(D),W=e(x),G=e.max(j,W);return G.toDate()}function g(D,x){if(!D&&!x)return null;var j=e(x).format("HH:mm:ss"),W=e(D).startOf("day").format("MM/DD/YYYY");return e("".concat(W," ").concat(j),"MM/DD/YYYY HH:mm:ss").toDate()}function m(D,x,j){var W=li(j);return e(D).add(x,W).toDate()}function y(D,x){for(var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=li(j),G=e(D).toDate(),ae=[];f(G,x);)ae.push(G),G=m(G,1,W);return ae}function E(D,x){var j=li(x),W=o(D,j);return l(W,D)?W:m(W,1,j)}function S(D,x){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=li(j),G=e(D),ae=e(x);return ae.diff(G,W)}function T(D){var x=e(D);return x.minutes()}function I(D){var x=D?e.localeData(D):e.localeData();return x?x.firstDayOfWeek():0}function A(D){return e(D).startOf("month").startOf("week").toDate()}function k(D){return e(D).endOf("month").endOf("week").toDate()}function C(D){for(var x=A(D),j=k(D),W=[];f(x,j);)W.push(x),x=m(x,1,"d");return W}function M(D,x,j){return e(D).startOf("day").minute(x+j).toDate()}function z(D,x){return S(D,x,"minutes")}function q(D){var x=e(D).startOf("day"),j=e(D);return j.diff(x,"minutes")+i(D)}function Ee(D,x){var j=e(D),W=e(x);return j.isBefore(W,"day")}function ye(D,x,j){var W=e(x),G=e(j);return W.isSameOrAfter(G,"minutes")}function ie(D,x){var j=e(D),W=e(x),G=e.duration(W.diff(j));return G.days()}function fe(D){var x=D.evtA,j=x.start,W=x.end,G=x.allDay,ae=D.evtB,Te=ae.start,Pe=ae.end,kn=ae.allDay,eo=+o(j,"day")-+o(Te,"day"),ns=ie(j,W),La=ie(Te,Pe);return eo||La-ns||!!kn-!!G||+j-+Te||+W-+Pe}function V(D){var x=D.event,j=x.start,W=x.end,G=D.range,ae=G.start,Te=G.end,Pe=e(j).startOf("day"),kn=e(W),eo=e(ae),ns=e(Te),La=Pe.isSameOrBefore(ns,"day"),Rc=!Pe.isSame(kn,"minutes"),Mp=Rc?kn.isAfter(eo,"minutes"):kn.isSameOrAfter(eo,"minutes");return La&&Mp}function X(D,x){var j=e(D),W=e(x);return j.isSame(W,"day")}function ee(){var D=new Date,x=/-/.test(D.toString())?"-":"",j=D.getTimezoneOffset(),W=Number("".concat(x).concat(Math.abs(j))),G=e().utcOffset();return G>W?1:0}return new Yte({formats:Xne,firstOfWeek:I,firstVisibleDay:A,lastVisibleDay:k,visibleDays:C,format:function(x,j,W){return t(e(x),W).format(j)},lt:d,lte:f,gt:c,gte:h,eq:l,neq:u,merge:g,inRange:v,startOf:o,endOf:a,range:y,add:m,diff:S,ceil:E,min:p,max:_,minutes:T,getSlotDate:M,getTimezoneOffset:n,getDstOffset:r,getTotalMin:z,getMinutesFromMidnight:q,continuesPrior:Ee,continuesAfter:ye,sortEvents:fe,inEventRange:V,isSameDate:X,daySpan:ie,browserTZOffset:ee})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var tO;function U(){return tO.apply(null,arguments)}function Zne(e){tO=e}function Hn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ts(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function _e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qw(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(_e(e,t))return!1;return!0}function qt(e){return e===void 0}function Kr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ec(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function nO(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Ei(e,t){for(var n in t)_e(t,n)&&(e[n]=t[n]);return _e(t,"toString")&&(e.toString=t.toString),_e(t,"valueOf")&&(e.valueOf=t.valueOf),e}function yr(e,t,n,r){return RO(e,t,n,r,!0).utc()}function ere(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function le(e){return e._pf==null&&(e._pf=ere()),e._pf}var zv;Array.prototype.some?zv=Array.prototype.some:zv=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Xw(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=le(e),n=zv.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Ip(e){var t=yr(NaN);return e!=null?Ei(le(t),e):le(t).userInvalidated=!0,t}var rI=U.momentProperties=[],Wm=!1;function Jw(e,t){var n,r,i,s=rI.length;if(qt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),qt(t._i)||(e._i=t._i),qt(t._f)||(e._f=t._f),qt(t._l)||(e._l=t._l),qt(t._strict)||(e._strict=t._strict),qt(t._tzm)||(e._tzm=t._tzm),qt(t._isUTC)||(e._isUTC=t._isUTC),qt(t._offset)||(e._offset=t._offset),qt(t._pf)||(e._pf=le(t)),qt(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=rI[n],i=t[r],qt(i)||(e[r]=i);return e}function Sc(e){Jw(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Wm===!1&&(Wm=!0,U.updateOffset(this),Wm=!1)}function Yn(e){return e instanceof Sc||e!=null&&e._isAMomentObject!=null}function rO(e){U.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Cn(e,t){var n=!0;return Ei(function(){if(U.deprecationHandler!=null&&U.deprecationHandler(null,e),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])_e(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}rO(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var iI={};function iO(e,t){U.deprecationHandler!=null&&U.deprecationHandler(e,t),iI[e]||(rO(t),iI[e]=!0)}U.suppressDeprecationWarnings=!1;U.deprecationHandler=null;function _r(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function tre(e){var t,n;for(n in e)_e(e,n)&&(t=e[n],_r(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Wv(e,t){var n=Ei({},e),r;for(r in t)_e(t,r)&&(Ts(e[r])&&Ts(t[r])?(n[r]={},Ei(n[r],e[r]),Ei(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)_e(e,r)&&!_e(t,r)&&Ts(e[r])&&(n[r]=Ei({},n[r]));return n}function Zw(e){e!=null&&this.set(e)}var Hv;Object.keys?Hv=Object.keys:Hv=function(e){var t,n=[];for(t in e)_e(e,t)&&n.push(t);return n};var nre={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function rre(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return _r(r)?r.call(t,n):r}function mr(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var e0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hm={},$o={};function J(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&($o[e]=i),t&&($o[t[0]]=function(){return mr(i.apply(this,arguments),t[1],t[2])}),n&&($o[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function ire(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function sre(e){var t=e.match(e0),n,r;for(n=0,r=t.length;n<r;n++)$o[t[n]]?t[n]=$o[t[n]]:t[n]=ire(t[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=_r(t[o])?t[o].call(i,e):t[o];return s}}function Md(e,t){return e.isValid()?(t=sO(t,e.localeData()),Hm[t]=Hm[t]||sre(t),Hm[t](e)):e.localeData().invalidDate()}function sO(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(sd.lastIndex=0;n>=0&&sd.test(e);)e=e.replace(sd,r),sd.lastIndex=0,n-=1;return e}var ore={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function are(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(e0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var lre="Invalid date";function ure(){return this._invalidDate}var cre="%d",dre=/\d{1,2}/;function hre(e){return this._ordinal.replace("%d",e)}var fre={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pre(e,t,n,r){var i=this._relativeTime[n];return _r(i)?i(e,t,n,r):i.replace(/%d/i,e)}function mre(e,t){var n=this._relativeTime[e>0?"future":"past"];return _r(n)?n(t):n.replace(/%s/i,t)}var sI={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Dn(e){return typeof e=="string"?sI[e]||sI[e.toLowerCase()]:void 0}function t0(e){var t={},n,r;for(r in e)_e(e,r)&&(n=Dn(r),n&&(t[n]=e[r]));return t}var gre={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function vre(e){var t=[],n;for(n in e)_e(e,n)&&t.push({unit:n,priority:gre[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var oO=/\d/,mn=/\d\d/,aO=/\d{3}/,n0=/\d{4}/,Rp=/[+-]?\d{6}/,Fe=/\d\d?/,lO=/\d\d\d\d?/,uO=/\d\d\d\d\d\d?/,Ap=/\d{1,3}/,r0=/\d{1,4}/,Pp=/[+-]?\d{1,6}/,Na=/\d+/,Cp=/[+-]?\d+/,yre=/Z|[+-]\d\d:?\d\d/gi,Dp=/Z|[+-]\d\d(?::?\d\d)?/gi,_re=/[+-]?\d+(\.\d{1,3})?/,Tc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ma=/^[1-9]\d?/,i0=/^([1-9]\d|\d)/,Kh;Kh={};function H(e,t,n){Kh[e]=_r(t)?t:function(r,i){return r&&n?n:t}}function wre(e,t){return _e(Kh,e)?Kh[e](t._strict,t._locale):new RegExp(Ere(e))}function Ere(e){return $r(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function $r(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=yn(t)),n}var Yv={};function Ae(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Kr(t)&&(r=function(s,o){o[t]=ce(s)}),i=e.length,n=0;n<i;n++)Yv[e[n]]=r}function Ic(e,t){Ae(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function Sre(e,t,n){t!=null&&_e(Yv,e)&&Yv[e](t,n._a,n,e)}function kp(e){return e%4===0&&e%100!==0||e%400===0}var Mt=0,br=1,Zn=2,ot=3,Ln=4,Or=5,gs=6,Tre=7,Ire=8;J("Y",0,0,function(){var e=this.year();return e<=9999?mr(e,4):"+"+e});J(0,["YY",2],0,function(){return this.year()%100});J(0,["YYYY",4],0,"year");J(0,["YYYYY",5],0,"year");J(0,["YYYYYY",6,!0],0,"year");H("Y",Cp);H("YY",Fe,mn);H("YYYY",r0,n0);H("YYYYY",Pp,Rp);H("YYYYYY",Pp,Rp);Ae(["YYYYY","YYYYYY"],Mt);Ae("YYYY",function(e,t){t[Mt]=e.length===2?U.parseTwoDigitYear(e):ce(e)});Ae("YY",function(e,t){t[Mt]=U.parseTwoDigitYear(e)});Ae("Y",function(e,t){t[Mt]=parseInt(e,10)});function bl(e){return kp(e)?366:365}U.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var cO=$a("FullYear",!0);function Rre(){return kp(this.year())}function $a(e,t){return function(n){return n!=null?(dO(this,e,n),U.updateOffset(this,t),this):Cu(this,e)}}function Cu(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function dO(e,t,n){var r,i,s,o,a;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=e.month(),a=e.date(),a=a===29&&o===1&&!kp(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Are(e){return e=Dn(e),_r(this[e])?this[e]():this}function Pre(e,t){if(typeof e=="object"){e=t0(e);var n=vre(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Dn(e),_r(this[e]))return this[e](t);return this}function Cre(e,t){return(e%t+t)%t}var Ke;Array.prototype.indexOf?Ke=Array.prototype.indexOf:Ke=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function s0(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Cre(t,12);return e+=(t-n)/12,n===1?kp(e)?29:28:31-n%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1});J("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});J("MMMM",0,0,function(e){return this.localeData().months(this,e)});H("M",Fe,Ma);H("MM",Fe,mn);H("MMM",function(e,t){return t.monthsShortRegex(e)});H("MMMM",function(e,t){return t.monthsRegex(e)});Ae(["M","MM"],function(e,t){t[br]=ce(e)-1});Ae(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[br]=i:le(n).invalidMonth=e});var Dre="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kre=Tc,bre=Tc;function Ore(e,t){return e?Hn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fO).test(t)?"format":"standalone"][e.month()]:Hn(this._months)?this._months:this._months.standalone}function xre(e,t){return e?Hn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fO.test(t)?"format":"standalone"][e.month()]:Hn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nre(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=yr([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=Ke.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Ke.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Ke.call(this._shortMonthsParse,o),i!==-1?i:(i=Ke.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Ke.call(this._longMonthsParse,o),i!==-1?i:(i=Ke.call(this._shortMonthsParse,o),i!==-1?i:null))}function Mre(e,t,n){var r,i,s;if(this._monthsParseExact)return Nre.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=yr([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function pO(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ce(t);else if(t=e.localeData().monthsParse(t),!Kr(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,s0(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function mO(e){return e!=null?(pO(this,e),U.updateOffset(this,!0),this):Cu(this,"Month")}function $re(){return s0(this.year(),this.month())}function Lre(e){return this._monthsParseExact?(_e(this,"_monthsRegex")||gO.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(_e(this,"_monthsShortRegex")||(this._monthsShortRegex=kre),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Fre(e){return this._monthsParseExact?(_e(this,"_monthsRegex")||gO.call(this),e?this._monthsStrictRegex:this._monthsRegex):(_e(this,"_monthsRegex")||(this._monthsRegex=bre),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gO(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=yr([2e3,i]),o=$r(this.monthsShort(s,"")),a=$r(this.months(s,"")),t.push(o),n.push(a),r.push(a),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Vre(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function Du(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qh(e,t,n){var r=7+t-n,i=(7+Du(e,0,r).getUTCDay()-t)%7;return-i+r-1}function vO(e,t,n,r,i){var s=(7+n-r)%7,o=Qh(e,r,i),a=1+7*(t-1)+s+o,l,u;return a<=0?(l=e-1,u=bl(l)+a):a>bl(e)?(l=e+1,u=a-bl(e)):(l=e,u=a),{year:l,dayOfYear:u}}function ku(e,t,n){var r=Qh(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=e.year()-1,s=i+Lr(o,t,n)):i>Lr(e.year(),t,n)?(s=i-Lr(e.year(),t,n),o=e.year()+1):(o=e.year(),s=i),{week:s,year:o}}function Lr(e,t,n){var r=Qh(e,t,n),i=Qh(e+1,t,n);return(bl(e)-r+i)/7}J("w",["ww",2],"wo","week");J("W",["WW",2],"Wo","isoWeek");H("w",Fe,Ma);H("ww",Fe,mn);H("W",Fe,Ma);H("WW",Fe,mn);Ic(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ce(e)});function jre(e){return ku(e,this._week.dow,this._week.doy).week}var Ure={dow:0,doy:6};function Bre(){return this._week.dow}function zre(){return this._week.doy}function Wre(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Hre(e){var t=ku(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}J("d",0,"do","day");J("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});J("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});J("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});J("e",0,0,"weekday");J("E",0,0,"isoWeekday");H("d",Fe);H("e",Fe);H("E",Fe);H("dd",function(e,t){return t.weekdaysMinRegex(e)});H("ddd",function(e,t){return t.weekdaysShortRegex(e)});H("dddd",function(e,t){return t.weekdaysRegex(e)});Ic(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:le(n).invalidWeekday=e});Ic(["d","e","E"],function(e,t,n,r){t[r]=ce(e)});function Yre(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function qre(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function o0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Gre="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Kre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qre=Tc,Xre=Tc,Jre=Tc;function Zre(e,t){var n=Hn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?o0(n,this._week.dow):e?n[e.day()]:n}function eie(e){return e===!0?o0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function tie(e){return e===!0?o0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function nie(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=yr([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=Ke.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Ke.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Ke.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Ke.call(this._weekdaysParse,o),i!==-1||(i=Ke.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Ke.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Ke.call(this._shortWeekdaysParse,o),i!==-1||(i=Ke.call(this._weekdaysParse,o),i!==-1)?i:(i=Ke.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Ke.call(this._minWeekdaysParse,o),i!==-1||(i=Ke.call(this._weekdaysParse,o),i!==-1)?i:(i=Ke.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function rie(e,t,n){var r,i,s;if(this._weekdaysParseExact)return nie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=yr([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function iie(e){if(!this.isValid())return e!=null?this:NaN;var t=Cu(this,"Day");return e!=null?(e=Yre(e,this.localeData()),this.add(e-t,"d")):t}function sie(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function oie(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=qre(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function aie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||a0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(_e(this,"_weekdaysRegex")||(this._weekdaysRegex=Qre),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function lie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||a0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xre),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uie(e){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||a0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jre),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function a0(){function e(c,d){return d.length-c.length}var t=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=yr([2e3,1]).day(s),a=$r(this.weekdaysMin(o,"")),l=$r(this.weekdaysShort(o,"")),u=$r(this.weekdays(o,"")),t.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function l0(){return this.hours()%12||12}function cie(){return this.hours()||24}J("H",["HH",2],0,"hour");J("h",["hh",2],0,l0);J("k",["kk",2],0,cie);J("hmm",0,0,function(){return""+l0.apply(this)+mr(this.minutes(),2)});J("hmmss",0,0,function(){return""+l0.apply(this)+mr(this.minutes(),2)+mr(this.seconds(),2)});J("Hmm",0,0,function(){return""+this.hours()+mr(this.minutes(),2)});J("Hmmss",0,0,function(){return""+this.hours()+mr(this.minutes(),2)+mr(this.seconds(),2)});function _O(e,t){J(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}_O("a",!0);_O("A",!1);function wO(e,t){return t._meridiemParse}H("a",wO);H("A",wO);H("H",Fe,i0);H("h",Fe,Ma);H("k",Fe,Ma);H("HH",Fe,mn);H("hh",Fe,mn);H("kk",Fe,mn);H("hmm",lO);H("hmmss",uO);H("Hmm",lO);H("Hmmss",uO);Ae(["H","HH"],ot);Ae(["k","kk"],function(e,t,n){var r=ce(e);t[ot]=r===24?0:r});Ae(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Ae(["h","hh"],function(e,t,n){t[ot]=ce(e),le(n).bigHour=!0});Ae("hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r)),le(n).bigHour=!0});Ae("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r,2)),t[Or]=ce(e.substr(i)),le(n).bigHour=!0});Ae("Hmm",function(e,t,n){var r=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r))});Ae("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ot]=ce(e.substr(0,r)),t[Ln]=ce(e.substr(r,2)),t[Or]=ce(e.substr(i))});function die(e){return(e+"").toLowerCase().charAt(0)==="p"}var hie=/[ap]\.?m?\.?/i,fie=$a("Hours",!0);function pie(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var EO={calendar:nre,longDateFormat:ore,invalidDate:lre,ordinal:cre,dayOfMonthOrdinalParse:dre,relativeTime:fre,months:Dre,monthsShort:hO,week:Ure,weekdays:Gre,weekdaysMin:Kre,weekdaysShort:yO,meridiemParse:hie},Ve={},Za={},bu;function mie(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function oI(e){return e&&e.toLowerCase().replace("_","-")}function gie(e){for(var t=0,n,r,i,s;t<e.length;){for(s=oI(e[t]).split("-"),n=s.length,r=oI(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=bp(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&mie(s,r)>=n-1)break;n--}t++}return bu}function vie(e){return!!(e&&e.match("^[^/\\\\]*$"))}function bp(e){var t=null,n;if(Ve[e]===void 0&&typeof Fd<"u"&&Fd&&Fd.exports&&vie(e))try{t=bu._abbr,n=require,n("./locale/"+e),Li(t)}catch{Ve[e]=null}return Ve[e]}function Li(e,t){var n;return e&&(qt(t)?n=ti(e):n=u0(e,t),n?bu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bu._abbr}function u0(e,t){if(t!==null){var n,r=EO;if(t.abbr=e,Ve[e]!=null)iO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ve[e]._config;else if(t.parentLocale!=null)if(Ve[t.parentLocale]!=null)r=Ve[t.parentLocale]._config;else if(n=bp(t.parentLocale),n!=null)r=n._config;else return Za[t.parentLocale]||(Za[t.parentLocale]=[]),Za[t.parentLocale].push({name:e,config:t}),null;return Ve[e]=new Zw(Wv(r,t)),Za[e]&&Za[e].forEach(function(i){u0(i.name,i.config)}),Li(e),Ve[e]}else return delete Ve[e],null}function yie(e,t){if(t!=null){var n,r,i=EO;Ve[e]!=null&&Ve[e].parentLocale!=null?Ve[e].set(Wv(Ve[e]._config,t)):(r=bp(e),r!=null&&(i=r._config),t=Wv(i,t),r==null&&(t.abbr=e),n=new Zw(t),n.parentLocale=Ve[e],Ve[e]=n),Li(e)}else Ve[e]!=null&&(Ve[e].parentLocale!=null?(Ve[e]=Ve[e].parentLocale,e===Li()&&Li(e)):Ve[e]!=null&&delete Ve[e]);return Ve[e]}function ti(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bu;if(!Hn(e)){if(t=bp(e),t)return t;e=[e]}return gie(e)}function _ie(){return Hv(Ve)}function c0(e){var t,n=e._a;return n&&le(e).overflow===-2&&(t=n[br]<0||n[br]>11?br:n[Zn]<1||n[Zn]>s0(n[Mt],n[br])?Zn:n[ot]<0||n[ot]>24||n[ot]===24&&(n[Ln]!==0||n[Or]!==0||n[gs]!==0)?ot:n[Ln]<0||n[Ln]>59?Ln:n[Or]<0||n[Or]>59?Or:n[gs]<0||n[gs]>999?gs:-1,le(e)._overflowDayOfYear&&(t<Mt||t>Zn)&&(t=Zn),le(e)._overflowWeeks&&t===-1&&(t=Tre),le(e)._overflowWeekday&&t===-1&&(t=Ire),le(e).overflow=t),e}var wie=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Eie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sie=/Z|[+-]\d\d(?::?\d\d)?/,od=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ym=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tie=/^\/?Date\((-?\d+)/i,Iie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rie={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function SO(e){var t,n,r=e._i,i=wie.exec(r)||Eie.exec(r),s,o,a,l,u=od.length,c=Ym.length;if(i){for(le(e).iso=!0,t=0,n=u;t<n;t++)if(od[t][1].exec(i[1])){o=od[t][0],s=od[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=c;t<n;t++)if(Ym[t][1].exec(i[3])){a=(i[2]||" ")+Ym[t][0];break}if(a==null){e._isValid=!1;return}}if(!s&&a!=null){e._isValid=!1;return}if(i[4])if(Sie.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=o+(a||"")+(l||""),h0(e)}else e._isValid=!1}function Aie(e,t,n,r,i,s){var o=[Pie(e),hO.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Pie(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Cie(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Die(e,t,n){if(e){var r=yO.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return le(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function kie(e,t,n){if(e)return Rie[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function TO(e){var t=Iie.exec(Cie(e._i)),n;if(t){if(n=Aie(t[4],t[3],t[2],t[5],t[6],t[7]),!Die(t[1],n,e))return;e._a=n,e._tzm=kie(t[8],t[9],t[10]),e._d=Du.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),le(e).rfc2822=!0}else e._isValid=!1}function bie(e){var t=Tie.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(SO(e),e._isValid===!1)delete e._isValid;else return;if(TO(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:U.createFromInputFallback(e)}U.createFromInputFallback=Cn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function lo(e,t,n){return e??t??n}function Oie(e){var t=new Date(U.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function d0(e){var t,n,r=[],i,s,o;if(!e._d){for(i=Oie(e),e._w&&e._a[Zn]==null&&e._a[br]==null&&xie(e),e._dayOfYear!=null&&(o=lo(e._a[Mt],i[Mt]),(e._dayOfYear>bl(o)||e._dayOfYear===0)&&(le(e)._overflowDayOfYear=!0),n=Du(o,0,e._dayOfYear),e._a[br]=n.getUTCMonth(),e._a[Zn]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ot]===24&&e._a[Ln]===0&&e._a[Or]===0&&e._a[gs]===0&&(e._nextDay=!0,e._a[ot]=0),e._d=(e._useUTC?Du:Vre).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ot]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(le(e).weekdayMismatch=!0)}}function xie(e){var t,n,r,i,s,o,a,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=lo(t.GG,e._a[Mt],ku(Le(),1,4).year),r=lo(t.W,1),i=lo(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=ku(Le(),s,o),n=lo(t.gg,e._a[Mt],u.year),r=lo(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Lr(n,s,o)?le(e)._overflowWeeks=!0:l!=null?le(e)._overflowWeekday=!0:(a=vO(n,r,i,s,o),e._a[Mt]=a.year,e._dayOfYear=a.dayOfYear)}U.ISO_8601=function(){};U.RFC_2822=function(){};function h0(e){if(e._f===U.ISO_8601){SO(e);return}if(e._f===U.RFC_2822){TO(e);return}e._a=[],le(e).empty=!0;var t=""+e._i,n,r,i,s,o,a=t.length,l=0,u,c;for(i=sO(e._f,e._locale).match(e0)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(t.match(wre(s,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&le(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),$o[s]?(r?le(e).empty=!1:le(e).unusedTokens.push(s),Sre(s,r,e)):e._strict&&!r&&le(e).unusedTokens.push(s);le(e).charsLeftOver=a-l,t.length>0&&le(e).unusedInput.push(t),e._a[ot]<=12&&le(e).bigHour===!0&&e._a[ot]>0&&(le(e).bigHour=void 0),le(e).parsedDateParts=e._a.slice(0),le(e).meridiem=e._meridiem,e._a[ot]=Nie(e._locale,e._a[ot],e._meridiem),u=le(e).era,u!==null&&(e._a[Mt]=e._locale.erasConvertYear(u,e._a[Mt])),d0(e),c0(e)}function Nie(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Mie(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(l===0){le(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,t=Jw({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],h0(t),Xw(t)&&(o=!0),s+=le(t).charsLeftOver,s+=le(t).unusedTokens.length*10,le(t).score=s,a?s<r&&(r=s,n=t):(r==null||s<r||o)&&(r=s,n=t,o&&(a=!0));Ei(e,n||t)}function $ie(e){if(!e._d){var t=t0(e._i),n=t.day===void 0?t.date:t.day;e._a=nO([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),d0(e)}}function Lie(e){var t=new Sc(c0(IO(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function IO(e){var t=e._i,n=e._f;return e._locale=e._locale||ti(e._l),t===null||n===void 0&&t===""?Ip({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Yn(t)?new Sc(c0(t)):(Ec(t)?e._d=t:Hn(n)?Mie(e):n?h0(e):Fie(e),Xw(e)||(e._d=null),e))}function Fie(e){var t=e._i;qt(t)?e._d=new Date(U.now()):Ec(t)?e._d=new Date(t.valueOf()):typeof t=="string"?bie(e):Hn(t)?(e._a=nO(t.slice(0),function(n){return parseInt(n,10)}),d0(e)):Ts(t)?$ie(e):Kr(t)?e._d=new Date(t):U.createFromInputFallback(e)}function RO(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ts(e)&&Qw(e)||Hn(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Lie(s)}function Le(e,t,n,r){return RO(e,t,n,r,!1)}var Vie=Cn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ip()}),jie=Cn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ip()});function AO(e,t){var n,r;if(t.length===1&&Hn(t[0])&&(t=t[0]),!t.length)return Le();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Uie(){var e=[].slice.call(arguments,0);return AO("isBefore",e)}function Bie(){var e=[].slice.call(arguments,0);return AO("isAfter",e)}var zie=function(){return Date.now?Date.now():+new Date},el=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wie(e){var t,n=!1,r,i=el.length;for(t in e)if(_e(e,t)&&!(Ke.call(el,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[el[r]]){if(n)return!1;parseFloat(e[el[r]])!==ce(e[el[r]])&&(n=!0)}return!0}function Hie(){return this._isValid}function Yie(){return qn(NaN)}function Op(e){var t=t0(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Wie(t),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=ti(),this._bubble()}function $d(e){return e instanceof Op}function qv(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function qie(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ce(e[o])!==ce(t[o]))&&s++;return s+i}function PO(e,t){J(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+mr(~~(n/60),2)+t+mr(~~n%60,2)})}PO("Z",":");PO("ZZ","");H("Z",Dp);H("ZZ",Dp);Ae(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=f0(Dp,e)});var Gie=/([\+\-]|\d\d)/gi;function f0(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Gie)||["-",0,0],s=+(i[1]*60)+ce(i[2]),s===0?0:i[0]==="+"?s:-s)}function p0(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Yn(e)||Ec(e)?e.valueOf():Le(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),U.updateOffset(n,!1),n):Le(e).local()}function Gv(e){return-Math.round(e._d.getTimezoneOffset())}U.updateOffset=function(){};function Kie(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=f0(Dp,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Gv(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?kO(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,U.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Gv(this)}function Qie(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Xie(e){return this.utcOffset(0,e)}function Jie(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gv(this),"m")),this}function Zie(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=f0(yre,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ese(e){return this.isValid()?(e=e?Le(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function tse(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nse(){if(!qt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Jw(e,this),e=IO(e),e._a?(t=e._isUTC?yr(e._a):Le(e._a),this._isDSTShifted=this.isValid()&&qie(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rse(){return this.isValid()?!this._isUTC:!1}function ise(){return this.isValid()?this._isUTC:!1}function CO(){return this.isValid()?this._isUTC&&this._offset===0:!1}var sse=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ose=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qn(e,t){var n=e,r=null,i,s,o;return $d(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Kr(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=sse.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:ce(r[Zn])*i,h:ce(r[ot])*i,m:ce(r[Ln])*i,s:ce(r[Or])*i,ms:ce(qv(r[gs]*1e3))*i}):(r=ose.exec(e))?(i=r[1]==="-"?-1:1,n={y:is(r[2],i),M:is(r[3],i),w:is(r[4],i),d:is(r[5],i),h:is(r[6],i),m:is(r[7],i),s:is(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=ase(Le(n.from),Le(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Op(n),$d(e)&&_e(e,"_locale")&&(s._locale=e._locale),$d(e)&&_e(e,"_isValid")&&(s._isValid=e._isValid),s}qn.fn=Op.prototype;qn.invalid=Yie;function is(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function aI(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ase(e,t){var n;return e.isValid()&&t.isValid()?(t=p0(t,e),e.isBefore(t)?n=aI(e,t):(n=aI(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function DO(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(iO(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=qn(n,r),kO(this,i,e),this}}function kO(e,t,n,r){var i=t._milliseconds,s=qv(t._days),o=qv(t._months);e.isValid()&&(r=r??!0,o&&pO(e,Cu(e,"Month")+o*n),s&&dO(e,"Date",Cu(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&U.updateOffset(e,s||o))}var lse=DO(1,"add"),use=DO(-1,"subtract");function bO(e){return typeof e=="string"||e instanceof String}function cse(e){return Yn(e)||Ec(e)||bO(e)||Kr(e)||hse(e)||dse(e)||e===null||e===void 0}function dse(e){var t=Ts(e)&&!Qw(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||_e(e,s);return t&&n}function hse(e){var t=Hn(e),n=!1;return t&&(n=e.filter(function(r){return!Kr(r)&&bO(e)}).length===0),t&&n}function fse(e){var t=Ts(e)&&!Qw(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||_e(e,s);return t&&n}function pse(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function mse(e,t){arguments.length===1&&(arguments[0]?cse(arguments[0])?(e=arguments[0],t=void 0):fse(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Le(),r=p0(n,this).startOf("day"),i=U.calendarFormat(this,r)||"sameElse",s=t&&(_r(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Le(n)))}function gse(){return new Sc(this)}function vse(e,t){var n=Yn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function yse(e,t){var n=Yn(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function _se(e,t,n,r){var i=Yn(e)?e:Le(e),s=Yn(t)?t:Le(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function wse(e,t){var n=Yn(e)?e:Le(e),r;return this.isValid()&&n.isValid()?(t=Dn(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Ese(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Sse(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Tse(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=p0(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Dn(t),t){case"year":s=Ld(this,r)/12;break;case"month":s=Ld(this,r);break;case"quarter":s=Ld(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:yn(s)}function Ld(e,t){if(e.date()<t.date())return-Ld(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}U.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";U.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ise(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Rse(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Md(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_r(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Md(n,"Z")):Md(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ase(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function Pse(e){e||(e=this.isUtc()?U.defaultFormatUtc:U.defaultFormat);var t=Md(this,e);return this.localeData().postformat(t)}function Cse(e,t){return this.isValid()&&(Yn(e)&&e.isValid()||Le(e).isValid())?qn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Dse(e){return this.from(Le(),e)}function kse(e,t){return this.isValid()&&(Yn(e)&&e.isValid()||Le(e).isValid())?qn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bse(e){return this.to(Le(),e)}function OO(e){var t;return e===void 0?this._locale._abbr:(t=ti(e),t!=null&&(this._locale=t),this)}var xO=Cn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function NO(){return this._locale}var Xh=1e3,Lo=60*Xh,Jh=60*Lo,MO=(365*400+97)*24*Jh;function Fo(e,t){return(e%t+t)%t}function $O(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-MO:new Date(e,t,n).valueOf()}function LO(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-MO:Date.UTC(e,t,n)}function Ose(e){var t,n;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?LO:$O,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Fo(t+(this._isUTC?0:this.utcOffset()*Lo),Jh);break;case"minute":t=this._d.valueOf(),t-=Fo(t,Lo);break;case"second":t=this._d.valueOf(),t-=Fo(t,Xh);break}return this._d.setTime(t),U.updateOffset(this,!0),this}function xse(e){var t,n;if(e=Dn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?LO:$O,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Jh-Fo(t+(this._isUTC?0:this.utcOffset()*Lo),Jh)-1;break;case"minute":t=this._d.valueOf(),t+=Lo-Fo(t,Lo)-1;break;case"second":t=this._d.valueOf(),t+=Xh-Fo(t,Xh)-1;break}return this._d.setTime(t),U.updateOffset(this,!0),this}function Nse(){return this._d.valueOf()-(this._offset||0)*6e4}function Mse(){return Math.floor(this.valueOf()/1e3)}function $se(){return new Date(this.valueOf())}function Lse(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Fse(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Vse(){return this.isValid()?this.toISOString():null}function jse(){return Xw(this)}function Use(){return Ei({},le(this))}function Bse(){return le(this).overflow}function zse(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr");J("NN",0,0,"eraAbbr");J("NNN",0,0,"eraAbbr");J("NNNN",0,0,"eraName");J("NNNNN",0,0,"eraNarrow");J("y",["y",1],"yo","eraYear");J("y",["yy",2],0,"eraYear");J("y",["yyy",3],0,"eraYear");J("y",["yyyy",4],0,"eraYear");H("N",m0);H("NN",m0);H("NNN",m0);H("NNNN",eoe);H("NNNNN",toe);Ae(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?le(n).era=i:le(n).invalidEra=e});H("y",Na);H("yy",Na);H("yyy",Na);H("yyyy",Na);H("yo",noe);Ae(["y","yy","yyy","yyyy"],Mt);Ae(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Mt]=n._locale.eraYearOrdinalParse(e,i):t[Mt]=parseInt(e,10)});function Wse(e,t){var n,r,i,s=this._eras||ti("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=U(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=U(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function Hse(e,t,n){var r,i,s=this.eras(),o,a,l;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[r];break;case"NNNN":if(o===e)return s[r];break;case"NNNNN":if(l===e)return s[r];break}else if([o,a,l].indexOf(e)>=0)return s[r]}function Yse(e,t){var n=e.since<=e.until?1:-1;return t===void 0?U(e.since).year():U(e.since).year()+(t-e.offset)*n}function qse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Gse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Kse(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Qse(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-U(i[e].since).year())*n+i[e].offset;return this.year()}function Xse(e){return _e(this,"_erasNameRegex")||g0.call(this),e?this._erasNameRegex:this._erasRegex}function Jse(e){return _e(this,"_erasAbbrRegex")||g0.call(this),e?this._erasAbbrRegex:this._erasRegex}function Zse(e){return _e(this,"_erasNarrowRegex")||g0.call(this),e?this._erasNarrowRegex:this._erasRegex}function m0(e,t){return t.erasAbbrRegex(e)}function eoe(e,t){return t.erasNameRegex(e)}function toe(e,t){return t.erasNarrowRegex(e)}function noe(e,t){return t._eraYearOrdinalRegex||Na}function g0(){var e=[],t=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=$r(u[i].name),a=$r(u[i].abbr),l=$r(u[i].narrow),t.push(o),e.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100});J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xp(e,t){J(0,[e,e.length],0,t)}xp("gggg","weekYear");xp("ggggg","weekYear");xp("GGGG","isoWeekYear");xp("GGGGG","isoWeekYear");H("G",Cp);H("g",Cp);H("GG",Fe,mn);H("gg",Fe,mn);H("GGGG",r0,n0);H("gggg",r0,n0);H("GGGGG",Pp,Rp);H("ggggg",Pp,Rp);Ic(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ce(e)});Ic(["gg","GG"],function(e,t,n,r){t[r]=U.parseTwoDigitYear(e)});function roe(e){return FO.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ioe(e){return FO.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function soe(){return Lr(this.year(),1,4)}function ooe(){return Lr(this.isoWeekYear(),1,4)}function aoe(){var e=this.localeData()._week;return Lr(this.year(),e.dow,e.doy)}function loe(){var e=this.localeData()._week;return Lr(this.weekYear(),e.dow,e.doy)}function FO(e,t,n,r,i){var s;return e==null?ku(this,r,i).year:(s=Lr(e,r,i),t>s&&(t=s),uoe.call(this,e,t,n,r,i))}function uoe(e,t,n,r,i){var s=vO(e,t,n,r,i),o=Du(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}J("Q",0,"Qo","quarter");H("Q",oO);Ae("Q",function(e,t){t[br]=(ce(e)-1)*3});function coe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}J("D",["DD",2],"Do","date");H("D",Fe,Ma);H("DD",Fe,mn);H("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ae(["D","DD"],Zn);Ae("Do",function(e,t){t[Zn]=ce(e.match(Fe)[0])});var VO=$a("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear");H("DDD",Ap);H("DDDD",aO);Ae(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ce(e)});function doe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}J("m",["mm",2],0,"minute");H("m",Fe,i0);H("mm",Fe,mn);Ae(["m","mm"],Ln);var hoe=$a("Minutes",!1);J("s",["ss",2],0,"second");H("s",Fe,i0);H("ss",Fe,mn);Ae(["s","ss"],Or);var foe=$a("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)});J(0,["SS",2],0,function(){return~~(this.millisecond()/10)});J(0,["SSS",3],0,"millisecond");J(0,["SSSS",4],0,function(){return this.millisecond()*10});J(0,["SSSSS",5],0,function(){return this.millisecond()*100});J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});H("S",Ap,oO);H("SS",Ap,mn);H("SSS",Ap,aO);var Si,jO;for(Si="SSSS";Si.length<=9;Si+="S")H(Si,Na);function poe(e,t){t[gs]=ce(("0."+e)*1e3)}for(Si="S";Si.length<=9;Si+="S")Ae(Si,poe);jO=$a("Milliseconds",!1);J("z",0,0,"zoneAbbr");J("zz",0,0,"zoneName");function moe(){return this._isUTC?"UTC":""}function goe(){return this._isUTC?"Coordinated Universal Time":""}var L=Sc.prototype;L.add=lse;L.calendar=mse;L.clone=gse;L.diff=Tse;L.endOf=xse;L.format=Pse;L.from=Cse;L.fromNow=Dse;L.to=kse;L.toNow=bse;L.get=Are;L.invalidAt=Bse;L.isAfter=vse;L.isBefore=yse;L.isBetween=_se;L.isSame=wse;L.isSameOrAfter=Ese;L.isSameOrBefore=Sse;L.isValid=jse;L.lang=xO;L.locale=OO;L.localeData=NO;L.max=jie;L.min=Vie;L.parsingFlags=Use;L.set=Pre;L.startOf=Ose;L.subtract=use;L.toArray=Lse;L.toObject=Fse;L.toDate=$se;L.toISOString=Rse;L.inspect=Ase;typeof Symbol<"u"&&Symbol.for!=null&&(L[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});L.toJSON=Vse;L.toString=Ise;L.unix=Mse;L.valueOf=Nse;L.creationData=zse;L.eraName=qse;L.eraNarrow=Gse;L.eraAbbr=Kse;L.eraYear=Qse;L.year=cO;L.isLeapYear=Rre;L.weekYear=roe;L.isoWeekYear=ioe;L.quarter=L.quarters=coe;L.month=mO;L.daysInMonth=$re;L.week=L.weeks=Wre;L.isoWeek=L.isoWeeks=Hre;L.weeksInYear=aoe;L.weeksInWeekYear=loe;L.isoWeeksInYear=soe;L.isoWeeksInISOWeekYear=ooe;L.date=VO;L.day=L.days=iie;L.weekday=sie;L.isoWeekday=oie;L.dayOfYear=doe;L.hour=L.hours=fie;L.minute=L.minutes=hoe;L.second=L.seconds=foe;L.millisecond=L.milliseconds=jO;L.utcOffset=Kie;L.utc=Xie;L.local=Jie;L.parseZone=Zie;L.hasAlignedHourOffset=ese;L.isDST=tse;L.isLocal=rse;L.isUtcOffset=ise;L.isUtc=CO;L.isUTC=CO;L.zoneAbbr=moe;L.zoneName=goe;L.dates=Cn("dates accessor is deprecated. Use date instead.",VO);L.months=Cn("months accessor is deprecated. Use month instead",mO);L.years=Cn("years accessor is deprecated. Use year instead",cO);L.zone=Cn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Qie);L.isDSTShifted=Cn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nse);function voe(e){return Le(e*1e3)}function yoe(){return Le.apply(null,arguments).parseZone()}function UO(e){return e}var we=Zw.prototype;we.calendar=rre;we.longDateFormat=are;we.invalidDate=ure;we.ordinal=hre;we.preparse=UO;we.postformat=UO;we.relativeTime=pre;we.pastFuture=mre;we.set=tre;we.eras=Wse;we.erasParse=Hse;we.erasConvertYear=Yse;we.erasAbbrRegex=Jse;we.erasNameRegex=Xse;we.erasNarrowRegex=Zse;we.months=Ore;we.monthsShort=xre;we.monthsParse=Mre;we.monthsRegex=Fre;we.monthsShortRegex=Lre;we.week=jre;we.firstDayOfYear=zre;we.firstDayOfWeek=Bre;we.weekdays=Zre;we.weekdaysMin=tie;we.weekdaysShort=eie;we.weekdaysParse=rie;we.weekdaysRegex=aie;we.weekdaysShortRegex=lie;we.weekdaysMinRegex=uie;we.isPM=die;we.meridiem=pie;function Zh(e,t,n,r){var i=ti(),s=yr().set(r,t);return i[n](s,e)}function BO(e,t,n){if(Kr(e)&&(t=e,e=void 0),e=e||"",t!=null)return Zh(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Zh(e,r,n,"month");return i}function v0(e,t,n,r){typeof e=="boolean"?(Kr(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Kr(t)&&(n=t,t=void 0),t=t||"");var i=ti(),s=e?i._week.dow:0,o,a=[];if(n!=null)return Zh(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Zh(t,(o+s)%7,r,"day");return a}function _oe(e,t){return BO(e,t,"months")}function woe(e,t){return BO(e,t,"monthsShort")}function Eoe(e,t,n){return v0(e,t,n,"weekdays")}function Soe(e,t,n){return v0(e,t,n,"weekdaysShort")}function Toe(e,t,n){return v0(e,t,n,"weekdaysMin")}Li("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ce(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});U.lang=Cn("moment.lang is deprecated. Use moment.locale instead.",Li);U.langData=Cn("moment.langData is deprecated. Use moment.localeData instead.",ti);var wr=Math.abs;function Ioe(){var e=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),e.milliseconds=wr(e.milliseconds),e.seconds=wr(e.seconds),e.minutes=wr(e.minutes),e.hours=wr(e.hours),e.months=wr(e.months),e.years=wr(e.years),this}function zO(e,t,n,r){var i=qn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Roe(e,t){return zO(this,e,t,1)}function Aoe(e,t){return zO(this,e,t,-1)}function lI(e){return e<0?Math.floor(e):Math.ceil(e)}function Poe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,a,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=lI(Kv(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=yn(e/1e3),r.seconds=i%60,s=yn(i/60),r.minutes=s%60,o=yn(s/60),r.hours=o%24,t+=yn(o/24),l=yn(WO(t)),n+=l,t-=lI(Kv(l)),a=yn(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function WO(e){return e*4800/146097}function Kv(e){return e*146097/4800}function Coe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Dn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+WO(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Kv(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ni(e){return function(){return this.as(e)}}var HO=ni("ms"),Doe=ni("s"),koe=ni("m"),boe=ni("h"),Ooe=ni("d"),xoe=ni("w"),Noe=ni("M"),Moe=ni("Q"),$oe=ni("y"),Loe=HO;function Foe(){return qn(this)}function Voe(e){return e=Dn(e),this.isValid()?this[e+"s"]():NaN}function Zs(e){return function(){return this.isValid()?this._data[e]:NaN}}var joe=Zs("milliseconds"),Uoe=Zs("seconds"),Boe=Zs("minutes"),zoe=Zs("hours"),Woe=Zs("days"),Hoe=Zs("months"),Yoe=Zs("years");function qoe(){return yn(this.days()/7)}var Tr=Math.round,Io={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Goe(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Koe(e,t,n,r){var i=qn(e).abs(),s=Tr(i.as("s")),o=Tr(i.as("m")),a=Tr(i.as("h")),l=Tr(i.as("d")),u=Tr(i.as("M")),c=Tr(i.as("w")),d=Tr(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=t,h[3]=+e>0,h[4]=r,Goe.apply(null,h)}function Qoe(e){return e===void 0?Tr:typeof e=="function"?(Tr=e,!0):!1}function Xoe(e,t){return Io[e]===void 0?!1:t===void 0?Io[e]:(Io[e]=t,e==="s"&&(Io.ss=t-1),!0)}function Joe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Io,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Io,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=Koe(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var qm=Math.abs;function ro(e){return(e>0)-(e<0)||+e}function Np(){if(!this.isValid())return this.localeData().invalidDate();var e=qm(this._milliseconds)/1e3,t=qm(this._days),n=qm(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=yn(e/60),i=yn(r/60),e%=60,r%=60,s=yn(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=ro(this._months)!==ro(a)?"-":"",c=ro(this._days)!==ro(a)?"-":"",d=ro(this._milliseconds)!==ro(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(i||r||e?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(e?d+o+"S":"")):"P0D"}var ge=Op.prototype;ge.isValid=Hie;ge.abs=Ioe;ge.add=Roe;ge.subtract=Aoe;ge.as=Coe;ge.asMilliseconds=HO;ge.asSeconds=Doe;ge.asMinutes=koe;ge.asHours=boe;ge.asDays=Ooe;ge.asWeeks=xoe;ge.asMonths=Noe;ge.asQuarters=Moe;ge.asYears=$oe;ge.valueOf=Loe;ge._bubble=Poe;ge.clone=Foe;ge.get=Voe;ge.milliseconds=joe;ge.seconds=Uoe;ge.minutes=Boe;ge.hours=zoe;ge.days=Woe;ge.weeks=qoe;ge.months=Hoe;ge.years=Yoe;ge.humanize=Joe;ge.toISOString=Np;ge.toString=Np;ge.toJSON=Np;ge.locale=OO;ge.localeData=NO;ge.toIsoString=Cn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Np);ge.lang=xO;J("X",0,0,"unix");J("x",0,0,"valueOf");H("x",Cp);H("X",_re);Ae("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Ae("x",function(e,t,n){n._d=new Date(ce(e))});//! moment.js
U.version="2.30.1";Zne(Le);U.fn=L;U.min=Uie;U.max=Bie;U.now=zie;U.utc=yr;U.unix=voe;U.months=_oe;U.isDate=Ec;U.locale=Li;U.invalid=Ip;U.duration=qn;U.isMoment=Yn;U.weekdays=Eoe;U.parseZone=yoe;U.localeData=ti;U.isDuration=$d;U.monthsShort=woe;U.weekdaysMin=Toe;U.defineLocale=u0;U.updateLocale=yie;U.locales=_ie;U.weekdaysShort=Soe;U.normalizeUnits=Dn;U.relativeTimeRounding=Qoe;U.relativeTimeThreshold=Xoe;U.calendarFormat=pse;U.prototype=L;U.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Zoe=()=>{U.locale("en");const e=Jne(U),[t,n]=R.useState(null),[r,i]=R.useState([]),[s,o]=R.useState(!1),[a,l]=R.useState(null),[u,c]=R.useState([]),[d,h]=R.useState({title:"",startDate:new Date,endDate:new Date,comments:[]});R.useEffect(()=>{(async()=>{try{const m=Mh();n(m);const y=await qD(m);i(y),console.log("eventsData: ",y),console.log("events: ",r)}catch(m){console.error("Error loading events:",m)}})()},[]);const f=g=>{const{name:m,value:y}=g.target;h({...d,[m]:y})},v=async g=>{g.preventDefault();const{title:m,startDate:y,endDate:E}=d,S=new Date(y),T=new Date(E);if(!m||!y||!E){alert("Please fill out all required fields.");return}try{const I=Mh();o(!1);const A=await F3({username:I,title:m,start:S,end:T});console.log("New event added to database");const k={title:m,startDate:S,endDate:T,docID:A,comments:[]};i(C=>[...C,k]),console.log("New event added to front end"),h({title:"",startDate:new Date,endDate:new Date})}catch(I){console.error("Error adding event:",I)}},p=async()=>{if(a&&u.trim())try{const g=await $3(a.docID,u),m=r.map(y=>y.docID===a.docID?g:y);i(m),c(""),l(g)}catch(g){console.error("Error adding comment:",g)}},_=async()=>{if(a)try{await L3(a.docID);const g=r.filter(m=>m.docID!==a.docID);i(g),l(null),console.log("Event deleted successfully from Firestore and frontend display.")}catch(g){console.error("Error deleting event:",g)}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"top-nav",children:[w.jsx(qs,{}),w.jsx("div",{style:{paddingTop:"10px"},children:w.jsx("button",{style:{color:"white",backgroundColor:"green"},onClick:()=>o(!0),children:"Add Event Here!"})})]}),w.jsxs("div",{style:{display:"flex",height:"100vh",width:"150vh"},children:[w.jsx("div",{style:{height:"100%",width:"100%"},children:w.jsx(Yne,{localizer:e,events:r,startAccessor:"startDate",endAccessor:"endDate",defaultDate:new Date,defaultView:"month",selectable:!1,onSelectEvent:g=>l(g),eventPropGetter:g=>({className:g.comments.length>0?"has-comments":"no-comments"})})}),w.jsxs("div",{style:{paddingTop:"10px",marginLeft:"20px",marginTop:"70px"},children:[a&&w.jsxs("div",{style:{border:"2px solid black",padding:"10px",position:"relative"},children:[w.jsx("span",{className:"close",style:{position:"absolute",top:"5px",right:"10px",cursor:"pointer",fontSize:"20px",color:"black"},onClick:()=>l(null),children:"×"}),w.jsx("h3",{children:a.title}),w.jsxs("p",{children:["Start: ",U(a.startDate).format("LLL")]}),w.jsxs("p",{children:["End: ",U(a.endDate).format("LLL")]}),w.jsx("h4",{children:"Comments:"}),w.jsx("ul",{children:a&&a.comments.map((g,m)=>w.jsx("li",{children:g},m))}),w.jsx("input",{type:"text",value:u,onChange:g=>c(g.target.value),placeholder:"Add a comment..."}),w.jsx("button",{onClick:p,children:"Add Comment"}),w.jsx("button",{onClick:_,children:"Delete Event"})]}),w.jsx("div",{style:{paddingTop:"10px",marginLeft:"20px",fontSize:"10px"}}),s&&w.jsx("div",{className:"modal",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("span",{className:"close",onClick:()=>o(!1),children:"×"}),w.jsxs("form",{onSubmit:v,children:[w.jsx("h3",{children:"Add a new event to your calendar:"}),w.jsxs("label",{children:["Title:",w.jsx("input",{type:"text",name:"title",value:d.title,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsxs("label",{children:["Start Date & Time:",w.jsx("input",{type:"datetime-local",name:"startDate",value:d.startDate,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsxs("label",{children:["End Date & Time:",w.jsx("input",{type:"datetime-local",name:"endDate",value:d.endDate,onChange:f,required:!0})]}),w.jsx("br",{}),w.jsx("input",{type:"submit",value:"Submit"})]})]})})]})]})]})},eae=()=>{const[e,t]=R.useState([]),n=Mh();R.useEffect(()=>{const s=new Date;new Date(s.getFullYear(),s.getMonth()+1,s.getDate()),qD(n).then(o=>{o.sort((a,l)=>new Date(a.startDate)-new Date(l.startDate)),t(o)}).catch(console.error)},[]);const i=(s=>{const o={};return s.forEach(a=>{const l=new Date(a.startDate),u=new Date(a.endDate),c=l.toLocaleDateString("en-US",{month:"long",day:"numeric"});o[c]||(o[c]=[]),o[c].push({...a,startTime:l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endTime:u.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),endDate:u.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),o})(e);return w.jsxs("div",{className:"events-list",children:[w.jsx("h2",{children:"Upcoming Events"}),Object.entries(i).sort((s,o)=>new Date(s[0])-new Date(o[0])).map(([s,o])=>w.jsxs("div",{className:"daily-events",children:[w.jsx("h3",{children:s}),o.sort((a,l)=>new Date(a.startDate)-new Date(l.startDate)).map((a,l)=>w.jsx("div",{className:"event-item",children:w.jsxs("p",{children:[a.startTime," - ",a.endTime," ",new Date(a.endDate)>new Date(a.startDate)?`(${a.endDate})`:""," - ",a.title]})},l))]},s))]})},tae=()=>{const[e,t]=R.useState(!1);return R.useEffect(()=>{const n=sw.onAuthStateChanged(r=>{t(!!r)});return()=>n()},[]),w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qs,{})}),w.jsxs("div",{className:"reminder-page-container",children:[w.jsx("h1",{children:"Reminders Page"}),e&&w.jsx(eae,{})," "]})]})};function nae(){const e=pa(),[t,n]=R.useState({email:"",password:""}),[r,i]=R.useState(""),s=a=>{n({...t,[a.target.name]:a.target.value})},o=async a=>{if(a.preventDefault(),!t.email||!t.password){i("Email and password are required.");return}try{await D3(t.email,t.password),e("/home-page")}catch(l){console.error("Login error:",l),l.message.includes("verify your email")?i("Please verify your email before signing in."):i("Incorrect username or password.")}};return w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("div",{children:w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:" MCGardens Login "})})}),w.jsxs("form",{onSubmit:o,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:t.email||"",onChange:s,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",children:w.jsx("b",{children:"Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"current-password",placeholder:"Password",className:"textbox",value:t.password||"",onChange:s,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"sign-in-button",children:"Sign In"})})]}),w.jsx("div",{className:"errorMessage",children:r&&w.jsx("p",{className:"error-message",children:r})}),w.jsxs("div",{className:"additionalOptions",children:[w.jsx("a",{href:"/sign-up",children:"Sign Up"}),w.jsx("a",{href:"/forgot-password",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}const rae=()=>{const[e,t]=R.useState([]),[n,r]=R.useState(!1),[i,s]=R.useState(""),[o,a]=R.useState("");R.useEffect(()=>{const d=JSON.parse(localStorage.getItem("userLocation"));if(console.log(d),d){const{latitude:h,longitude:f}=d;l(h,f)}},[]);const l=async(d,h)=>{try{const v=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${d}&lon=${h}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();v.list&&(t(v.list),r(!1),a(v.city.name),console.log(v))}catch(f){console.error("Error fetching weather data:",f)}},u=async d=>{try{const f=await(await fetch(`https://api.openweathermap.org/geo/1.0/zip?zip=${d}&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();if(f.lat!==void 0&&f.lon!==void 0){const{lat:v,lon:p}=f,g=await(await fetch(`https://api.openweathermap.org/data/2.5/forecast/daily?lat=${v}&lon=${p}&cnt=7&units=imperial&appid=c2a91f3cea984faeb2c4779182b5272e`)).json();g.list&&(t(g.list),r(!1),a(g.city.name),console.log(g))}}catch(h){console.error("Error fetching weather data:",h)}},c=d=>{d.preventDefault(),r(!0),u(i)};return w.jsxs("div",{children:[w.jsx("div",{className:"top-nav",children:w.jsx(qs,{})}),w.jsxs("div",{className:"weatherContainer",children:[w.jsx("h1",{className:"header",children:"Weekly Weather Forecast"}),w.jsxs("form",{onSubmit:c,children:[w.jsx("label",{htmlFor:"zipCode",children:"Enter ZIP Code: "}),w.jsx("input",{type:"text",id:"zipCode",value:i,onChange:d=>s(d.target.value)}),w.jsx("button",{type:"submit",children:"Submit"})]}),n?w.jsx("p",{children:"Loading..."}):w.jsxs("div",{children:[w.jsx("h1",{children:o}),w.jsx("div",{className:"forecast",children:e.map(({dt:d,temp:h,weather:f})=>w.jsxs("div",{className:"dayForecast",children:[w.jsx("h2",{children:new Date(d*1e3).toLocaleDateString("en-US",{weekday:"long"})}),w.jsx("p",{className:"condition",children:f[0].main}),w.jsx("img",{src:`http://openweathermap.org/img/w/${f[0].icon}.png`,alt:"Weather Icon",width:"50"}),w.jsxs("p",{children:["High: ",h.max,"°F | Low: ",h.min,"°F"]})]},d))})]})]})]})},tl="/assets/logo-efh4HsTD.png",iae=()=>{const[e,t]=R.useState({plantName:"Please enter a plant in the search.",plantBio:"Here will be bio information",plantInst:["Planting instructions will appear here after a search."],plantCare:["Care information will be displayed here once you search for a plant."],plantImg:tl}),[n,r]=R.useState(""),i=Fu(),s=pa(),a=new URLSearchParams(i.search).get("query"),l=d=>d.split(/(?=\d+\. )/).filter(h=>h.trim()!==""),u=d=>{d&&d.bio&&d.howToPlant&&d.howToTakeCare?t({plantName:a||"Unknown Plant",plantBio:d.bio,plantInst:l(d.howToPlant),plantCare:l(d.howToTakeCare),plantImg:tl}):(console.error("Received data is in an unexpected format or not successful:",d),t(h=>({...h,plantBio:"Data format error or request unsuccessful.",plantInst:["Data format error or request unsuccessful."],plantCare:["Data format error or request unsuccessful."]})))};R.useEffect(()=>{if(a){t({plantName:"Generating Information",plantBio:"Please wait while generating.",plantInst:["Please wait while generating."],plantCare:["Please wait while generating."],plantImg:tl});const d=a.toLowerCase();Je.post("https://us-central1-mcgardens-bd0b1.cloudfunctions.net/askGpt/askGpt",{plantInput:d}).then(h=>{u(h.data)}).catch(h=>{console.error("API call failed:",h),t({plantName:"Failed to load data.",plantBio:"Failed to load data.",plantInst:["Failed to load data."],plantCare:["Failed to load data."],plantImg:tl})})}},[i,a]);const c=d=>{if(d.preventDefault(),!n.trim()){alert("Please enter a valid plant name.");return}t({plantName:"Generating Information",plantBio:"Please wait while generating.",plantInst:["Please wait while generating."],plantCare:["Please wait while generating."],plantImg:tl}),setTimeout(()=>{s(`/plant-details?query=${encodeURIComponent(n)}`),r("")},0)};return w.jsxs("div",{className:"plant-details",children:[w.jsxs("div",{className:"top-nav",children:[w.jsx(qs,{}),w.jsxs("form",{onSubmit:c,className:"search-bar",children:[w.jsx("input",{type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Please enter plant"}),w.jsx("button",{type:"submit",children:"Search"})]})]}),w.jsxs("div",{className:"left-container",children:[w.jsx("div",{className:"pic-container",children:w.jsx("img",{className:"pic",src:e.plantImg,alt:"Plant"})}),w.jsx("div",{className:"smaller-title",children:"Biography"}),w.jsx("div",{className:"bio-container",children:w.jsx("p",{children:e.plantBio})})]}),w.jsxs("div",{className:"right-container",children:[w.jsx("div",{className:"title-banner",children:e.plantName}),w.jsx("div",{className:"smaller-title",children:"Planting Instructions"}),w.jsx("div",{className:"inst-container",children:e.plantInst.map((d,h)=>w.jsx("p",{className:"instruction-text",children:d},h))}),w.jsx("div",{className:"smaller-title",children:"Care Instructions"}),w.jsx("div",{className:"care-info-container",children:e.plantCare.map((d,h)=>w.jsx("p",{className:"instruction-text",children:d},h))})]})]})};function sae(){const e=pa(),[t,n]=R.useState({email:"",password:"",confirmPassword:""}),[r,i]=R.useState(""),[s,o]=R.useState(null),[a,l]=R.useState(!1),[u,c]=R.useState(60),d=p=>{n({...t,[p.target.name]:p.target.value})},h=async p=>{if(p.preventDefault(),!t.email||!t.password||!t.confirmPassword){i("All fields are required.");return}if(t.password!==t.confirmPassword){i("Passwords do not match.");return}try{const _=await b3(t.email,t.password);o(_.user),i("A verification email has been sent. Please verify your email before logging in."),l(!0),f()}catch(_){console.error("Registration error:",_),i("Failed to create an account. "+_.message)}},f=()=>{c(60);let p=setInterval(()=>{c(_=>_<=1?(clearInterval(p),0):_-1)},1e3)},v=async()=>{if(t.email)try{await O3(t.email),i("A new verification email has been sent."),f()}catch(p){i("Failed to resend verification email. "+p.message)}};return R.useEffect(()=>{s&&s.emailVerified&&e("/home-page")},[s,e]),w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("div",{children:w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:" MCGardens Create User "})})}),w.jsxs("form",{onSubmit:h,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:t.email||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",children:w.jsx("b",{children:"Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"password",name:"password",autoComplete:"new-password",placeholder:"Password",className:"textbox",value:t.password||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",children:w.jsx("b",{children:"Confirm Password"})}),w.jsx("br",{}),w.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",autoComplete:"new-password",placeholder:"Confirm Password",className:"textbox",value:t.confirmPassword||"",onChange:d,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:a?w.jsxs("button",{type:"button",onClick:v,disabled:u>0,className:"sign-in-button",children:["Resend Email ",u>0?`(${u}s)`:""]}):w.jsx("button",{type:"submit",className:"sign-in-button",children:"Sign Up"})})]}),w.jsx("div",{className:"errorMessage",children:r&&w.jsx("p",{className:"error-message",children:r})}),w.jsxs("div",{className:"additionalOptions",children:[w.jsx("a",{href:"/",children:"Sign In"}),w.jsx("a",{href:"/forgot-password",style:{cursor:"pointer"},children:"Forgot Password"})]})]})})})}function oae(){pa();const[e,t]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),o=l=>{t(l.target.value),r(""),s("")},a=async l=>{if(l.preventDefault(),!e){r("Please enter your email.");return}try{await k3(e),s(`An email has been sent to ${e} with instructions to reset your password.`),t("")}catch(u){console.error("Forgot password error:",u),r("Failed to reset password. Please try again later.")}};return w.jsx("div",{className:"main",children:w.jsx("div",{className:"center",children:w.jsxs("div",{className:"backbox",children:[w.jsx("header",{className:"App-header",children:w.jsx("h2",{children:"Forgot Password"})}),w.jsxs("form",{onSubmit:a,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",children:w.jsx("b",{children:"Email"})}),w.jsx("br",{}),w.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"textbox",value:e,onChange:o,required:!0}),w.jsx("br",{})]}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"sign-in-button",children:"Reset Password"})})]}),n&&w.jsx("p",{className:"error-message",children:n}),i&&w.jsx("p",{className:"success-message",children:i}),w.jsx("div",{className:"additionalOptions",children:w.jsx("a",{href:"/",children:"Back to Sign In"})})]})})})}function aae(){return w.jsx(v$,{children:w.jsxs(c$,{children:[w.jsx(On,{exact:!0,path:"/",element:w.jsx(nae,{})}),w.jsx(On,{path:"/sign-up",element:w.jsx(sae,{})}),w.jsx(On,{path:"/forgot-password",element:w.jsx(oae,{})}),w.jsx(On,{path:"/home-page",element:w.jsx(rz,{})}),w.jsx(On,{path:"/discussion-board",element:w.jsx(V3,{})}),w.jsx(On,{path:"/optimal-plants",element:w.jsx(nz,{})}),w.jsx(On,{path:"/calendar",element:w.jsx(Zoe,{})}),w.jsx(On,{path:"/reminders",element:w.jsx(tae,{})}),w.jsx(On,{path:"/weather",element:w.jsx(rae,{})}),w.jsx(On,{path:"/plant-details",element:w.jsx(iae,{})})]})})}const lae=Gm.createRoot(document.getElementById("root"));lae.render(w.jsx(aae,{}))});export default uae();
